/*! For license information please see base.min.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("react-hook-form"));else if("function"==typeof define&&define.amd)define(["react","react-hook-form"],t);else{var r="object"==typeof exports?t(require("react"),require("react-hook-form")):t(e.react,e["react-hook-form"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,((e,t)=>(()=>{var r={703:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},347:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,s,c=o(e),l=1;l<arguments.length;l++){for(var u in a=Object(arguments[l]))r.call(a,u)&&(c[u]=a[u]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(c[s[f]]=a[s[f]])}}return c}},43:(e,t,r)=>{"use strict";r(347);var n=r(156),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,i={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},823:(e,t,r)=>{"use strict";e.exports=r(43)},156:t=>{"use strict";t.exports=e},369:e=>{"use strict";e.exports=t}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";o.r(i),o.d(i,{AutoformBase:()=>Le,addLanguageTranslations:()=>n,addTranslations:()=>D,createSchema:()=>I,objectTraverse:()=>v,processOptions:()=>j,renderInput:()=>fe,renderInputs:()=>pe,setLanguageByName:()=>r,setTranslateReferenceRegex:()=>N,setTranslateVariableRegex:()=>R,setTranslator:()=>A,stringExists:()=>T,tr:()=>V,trError:()=>c,trField:()=>s,trModel:()=>a,trPath:()=>l,trPathSetBase:()=>u,validationRules:()=>ue});const e={en:{add:"Add",remove:"Remove",error:{_:"Error",type:"Incorrect value, expecting a __type__",min:"Value must be more than __min__",max:"Value must be less than __max__",minLength:"Value must be more than __minLength__ characters long",maxLength:"Value must be less than __maxLength__ characters long",required:"Required",minChildren:"Expected to have at least __minChildren__",maxChildren:"Can only have __maxChildren__"}},es:{add:"Añadir",remove:"Quitar",error:{_:"Error",type:"Valor incorrecto, esperando __type__",min:"El valor debe ser superior a __min__",max:"El valor debe ser inferior a __max__",minLength:"El valor debe tener como mínimo __minLength__ caracteres",maxLength:"El valor debe tener como máximo __maxLength__ caracteres",required:"Requerido",minChildren:"Se esperan __minChildren__",maxChildren:"Sólo puede haber __maxChildren__"}}};let t="models";function r(t){t in e&&D(e[t])}function n(t,r){e[t]=g(e[t],r)}function a(e,t,r){return V(l(e,t,r))}function s(e,t){return"object"==typeof e&&(t=e.field,e=e.schemaTypeName),V(l(e,t,"_field"))}function c(e,t){return V(`error.${e}`,t)}function l(e,r,n){return void 0===n?[t,e,r].join("."):[t,e,r,n].join(".")}function u(e){t=e}const f=["fieldSchema","schemaTypeName","field","options","addDefault"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(e){if("object"==typeof e&&"schema"==e._type)return"schema";{const t=Array.isArray(e),r=e&&e[0];return t&&e.length>0&&r._type&&"schema"==r._type?"array":(e=>"function"==typeof e?typeof e():e)(e)}}function O(e){return"object"==typeof e&&!(e instanceof Date)}function g(e,...t){if(!t.length)return e;const r=t.shift();if(O(e)&&O(r))for(const t in r)if(O(r[t])){const n=Array.isArray(r[t]);e[t]||(n?Object.assign(e,{[t]:[]}):Object.assign(e,{[t]:{}})),n?e[t]=d(r[t]):g(e[t],r[t])}else Object.assign(e,{[t]:r[t]});return g.apply(void 0,[e].concat(t))}function j(e){let{fieldSchema:t,schemaTypeName:r,field:n,options:o,addDefault:i}=e,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,f);t&&!o&&(o=t.options);const c="function"==typeof o?o(y({name,field:n,schemaTypeName:r},s)):o,l=e=>a(r,n,e),u=c.map((e=>"string"==typeof e?{value:e,label:l(e)}:"key"in e?y(y({},e),{},{label:e.label||l(e.key)}):e));return i?[{label:a(r,n,"_default"),value:""}].concat(d(u)):u}function v(e,t,r={}){const{createIfMissing:n,returnValue:o}=r,i=Array.isArray(t)?t:t.replace(/[[.](.*?)[\].]/g,".$1.").split("."),[a,...s]=i;return a in e?0==s.length?o?e[a]:[e,a]:(n&&void 0===e[a]&&(e[a]={}),v(e[a],s,r)):n?(e[a]={},v(e,i,r)):o?null:[]}function P({parent:e,index:t,field:r}){return void 0===t?e?`${e}.${r}`:r:`${e||""}.${t}.${r}`}function x(e,t,r){return t in e||(e[t]=r()),e[t]}function w(e){return e.component||e.render}let S={},k=/__(.*?)__/g,_=/@@(.*?)@@/g;function E(e=""){const t=e.split("."),r=t.length-1;return t.reduce(((e,t,n)=>{const{node:o,found:i}=e,a=n==r;return"string"==typeof o?{found:i,node:o}:o&&o[t]?a&&o[t]._?{found:!0,node:o[t]._}:{found:a,node:o[t]}:{found:o&&"_"in o,node:o&&o._}}),{node:S})}function C(e,t,r){let n,o=t;const i=new RegExp(e);for(;null!==(n=i.exec(t));){const e=r(n[1]);void 0!==e&&(o=o.replace(n[0],e))}return o}function V(e,t={}){let{node:r}=E(e);return r?(r=C(k,r,(e=>t[e])),r=C(_,r,(e=>V(e,t))),r):e}function T(e){const{found:t}=E(e);return t}function D(e){S=g(S,e)}function A(e){V=e}function R(e){k=e}function N(e){_=e}function I(e,t){return{_type:"schema",getSchema:()=>t,getFieldSchema:e=>t[e],getType:()=>e,getFieldNames:()=>Object.keys(t)}}var $=o(156),H=o(369);const B=()=>null;var L=o(703),M=o.n(L),q=o(823);const F=["id","name","wrapper","component","field","formHook","formHook","defaultValue","fieldSchema","helperText","inputRef","forceErrors","type","option","inline","styles","skinElement","noRef","noAutocomplete","onChange","onBlur"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){U(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Q=e=>{const{id:t,name:r,wrapper:n=e.skin.defaultWrap,component:o,field:i,formHook:{control:a},formHook:s,defaultValue:c,fieldSchema:u,helperText:f,inputRef:p,forceErrors:y,type:m,option:d,inline:b,styles:h,skinElement:O,noRef:g,noAutocomplete:j,onChange:P,onBlur:x}=e,w=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,F),S=O.nameForErrors?O.nameForErrors(r):r,{errors:k}=(0,H.useFormState)({control:a,name:S}),_=y&&y[S]||v(k,S,{returnValue:!0}),E=_&&_.message,C=d?`${r}.${d}`:r,D=n,A=o,R="string"!=typeof o;let N=W({id:t,key:C,name:r,type:m,defaultValue:c,onChange:P,onBlur:x,className:M()(h.input,h.standard,{[h.errored]:_})},u.addInputProps);d&&(N.value=d);let I,B=f||u.helperText;if(!B){const t=l(e.schemaTypeName,i,"_helper");T(t)&&(B=V(t))}return I=R?W(W(W({},w),N),{},{field:i,forceErrors:y,errorText:E,fieldSchema:u,formHook:s,styles:h,skinElement:O,inputRef:p,helperText:B}):W(W({},N),{},{ref:p}),(j||u.noAutocomplete)&&(I.autoComplete="off"),(0,$.createElement)(D,W(W({},w),{},{id:t,key:C,name:r,field:i,styles:h,fieldSchema:u,errorText:E,helperText:B,inline:b,addWrapperProps:u.addWrapperProps}),(0,q.jsx)(A,W({},I)))};function Y({initialValues:e,stateRef:t,skin:r,notify:n,schema:o}){return function(i){const a=({object:e,schemaDef:t})=>{const n=Object.keys(t),o=g({},e);return n.forEach((n=>{const i=t[n],{type:s}=i,c=h(s),{coerce:l}=i.coerce?i:r[c],u=e[n];l&&(o[n]=l(u,{coerceObject:a,schemaDef:t,fieldName:n}))})),o},s=Object.keys(t.current.fields).reduce(((e,r)=>{const n=t.current.fields[r];if(n.visible){const[t,o]=v(e,r,{createIfMissing:!0}),[a]=v(i,r);t&&o&&(n.changed?t[o]=n.value:a&&(t[o]=a[o]))}return e}),{}),c=(({doc:e,schema:t})=>{const r=t.getSchema();return a({object:e,schemaDef:r})})({doc:g({},e,s),schema:o});n(c,i)}}class z{constructor(){this.handlers={}}subscribe(e,t){const r=x(this.handlers,e,(()=>[]));-1==r.indexOf(t)&&r.push(t)}unsubscribe(e,t){const r=this.handlers[e];if(r){const e=r.indexOf(t);-1!=e&&r.splice(e,1)}}publish(e,t){const r=this.handlers[e];r&&r.forEach((e=>{e(t)}))}}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){X(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const re=e=>{const{id:t,name:r,fieldSchema:n,defaultValue:o,schemaTypeName:i,skinElement:a,formHook:{control:s},formHook:c,register:l,rules:u,overrides:f,skin:p,stateControl:y,setVisible:m,setHelperText:d,setValue:b,arrayControl:h}=e,{visible:O,helperText:g}=(({name:e,stateControl:t})=>{const r=t.findOrInitState(e),[n,o]=(0,$.useState)(K({},r));return(0,$.useEffect)((()=>(t.subscribe(e,o),()=>{t.unsubscribe(e,o)})),[]),n})({name:r,stateControl:y});let j=Object.assign({},e,{helperText:g});const{controlled:v}=a;if(v){const{field:e}=(0,H.useController)({name:r,control:s,rules:u});j.onChange=e.onChange,j.onBlur=e.onBlur,j.value=e.value}else if(!a.skipRegister){const e=l(r,u);j.onBlur=e.onBlur,j.onChange=e.onChange,j.inputRef=e.ref}if("onChange"in n||"onChange"in f){const e=j.onChange,t=f.onChange;t&&delete f.onChange;const o={name:r,setVisible:m,setHelperText:d,formHook:c,setValue:b,arrayControl:h},i=e=>{n.onChange&&n.onChange(e,o),t&&t(e,o)};j.onChange=t=>{const r=function(e){if("target"in e){const{target:t,target:{type:r,value:n}}=e;return"checkbox"===r?t.checked:n}return e}(t);e(t),i(r)},j.setValue=(e,t)=>{b(e,t),i(t)}}if(e.onChange){const t=j.onChange;j.onChange=r=>{t(r),e.onChange()}}const P=function(e){return e.props||e.render}(a);let x;x="function"==typeof P?P?P(j):j:ee(ee({},j),P),x=ee(ee({},x),f);const w=x.component||a.component;return O&&w?(0,q.jsx)(Q,ee(ee({},x),{},{component:w})):null},ne=["field","fieldSchema","fieldSchema","initialValue","parent","children","propOverrides","schemaTypeName","config","index","skin","styles"],oe=["schema","config","children","propOverrides","initialValues","styles"];function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ce(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const le={required:({value:e,message:t})=>t,maxLength:"maxLength",minLength:"minLength",max:"max",min:"min",pattern:"pattern",validate:"validate"};function ue(e){return Object.keys(le).reduce(((t,r)=>{if(r in e){const n=e[r];let o;"object"==typeof n?(n.message&&"function"==typeof n.message&&(n.message=n.message(e)),o=n):o="validate"==r?e=>{const t=n(e);return!1===t||t}:{value:e[r],message:c(r,e)},t[r]="function"==typeof le[r]?le[r](o):o}return t}),{})}function fe(e){let{field:t,fieldSchema:r,fieldSchema:{type:n,required:o,defaultValue:i},initialValue:a,parent:s,children:c,propOverrides:l,schemaTypeName:u,config:f={},index:p,skin:y,styles:m}=e,d=ce(e,ne);const b=h(n);function O(){return`Schema "${u}" has field "${t}"`}if(!b)throw`${O()} that lacks type description.`;const g=y[b];if(!g)throw`${O()} with type "${b}" that doesn't exist in skin.`;const j=ue(r),v=P({parent:s,index:p,field:t}),x=`${u}-${v}`,w=function(e,t,r=[]){return $.Children.map(r,(e=>e)).reduce(((e,r)=>{const n=r.props.name,o=n&&n.replace(/(\[|\]\.)/g,".");if(r.type==B&&o==t){const e=Object.assign({},r.props);return delete e.name,e}return e}),{})}(0,v,l);return i=void 0===a?i:a,(0,$.createElement)(re,ae(ae({},d),{},{id:x,key:v,name:v,field:t,fieldSchema:r,schemaTypeName:u,config:f,parent:s,propOverrides:l,rules:j,styles:m,skin:y,skinElement:g,defaultValue:i,overrides:w}))}function pe(e){let{schema:t,config:r={},children:n,propOverrides:o,initialValues:i={},styles:a={}}=e,s=ce(e,oe);const c=t.getSchema();return Object.keys(c).map((e=>fe(ae(ae({},s),{},{field:e,config:r,propOverrides:o||n,fieldSchema:c[e],schemaTypeName:t.getType(),initialValue:i[e],styles:a}))))}function ye(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const de="REMOVE",be={last:0,num:0,keys:[]},he={last:1,num:1,keys:[0]},Oe=(e=he,t)=>{switch(t.type){case de:const{keys:r}=e;return{last:e.last,num:e.num-1,keys:[].concat(ye(r.slice(0,t.idx)),[null],ye(r.slice(t.idx+1)))};case"ADD":return{last:e.last+1,num:e.num+1,keys:[].concat(ye(e.keys),[e.last])};default:return e}},ge=["name","newObject","arrayHandler","register","unregister","errorText","fieldSchema","fieldSchema","schemaTypeName","formHook","defaultValue","initiallyEmpty","onRemove","config","styles","isTable","setValue","skin","skinElement"];function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const xe=({onAdd:e,schemaTypeName:t,aliveItems:r,name:n,styles:o,Button:i,AddGlyph:s,Div:c,Text:l})=>{const u=(({onAdd:e,styles:t,Button:r,AddGlyph:n})=>(0,q.jsx)(r,{onClick:t=>{t.preventDefault(),e()},styles:t,intent:"add",children:(0,q.jsx)(n,{styles:t})}))({onAdd:e,styles:o,Button:i,AddGlyph:s});return(0,q.jsxs)(c,{className:o.inputPanelWrap,children:[(0,q.jsx)(l,{className:o.inputPanelEntity,children:a(t,n,"_field")+" "}),u]})};let we=e=>{let{name:t,newObject:r,arrayHandler:n,register:o,unregister:i,errorText:a="",fieldSchema:s,fieldSchema:{type:c},schemaTypeName:l,formHook:u,defaultValue:f,initiallyEmpty:p,onRemove:y,config:m,styles:d,isTable:b,setValue:h,skin:O,skinElement:g}=e,j=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,ge);const[v,x]=(0,$.useReducer)(Oe,((e,t)=>e&&Array.isArray(e)?{last:e.length,num:e.length,keys:e.map(((e,t)=>t))}:t?be:he)(f,p)),S=c[0],k=n,_=w(O.arrayButton),E=w(O.addGlyph),C=w(O.removeGlyph),T=w(O.panel),D=w(O.div),A=w(O.text),R=v.keys.filter((e=>null!==e)),N=g.nameForErrors(t),I=e=>{const t=(e=>{if("minChildren"in s){const{minChildren:t}=s;if(e<t)return V("error.minChildren",{minChildren:t})}if("maxChildren"in s){const{maxChildren:t}=s;if(e>t)return V("error.maxChildren",{maxChildren:t})}})(e);t?u.setError(N,{type:"manual",message:t}):u.clearErrors(N)},H=()=>{x({type:"ADD"}),I(v.num+1)},B=R.map((e=>{const r=e=>{x((e=>({type:de,idx:e}))(e)),I(v.num-1),h(`${t}.${e}.__rhfa_deleted`,!0),S.getFieldNames().forEach((r=>{const n=P({parent:t,index:e,field:r});i(n)}))},n=(({onRemove:e,idx:t,styles:r,Button:n,RemoveGlyph:o})=>(0,q.jsx)(n,{onClick:r=>{r.preventDefault(),e(t)},styles:r,intent:"remove",children:(0,q.jsx)(o,{styles:r})}))({onRemove:r,idx:e,styles:d,Button:_,RemoveGlyph:C});let a;return a=f&&Array.isArray(f)?f[e]:f,{idx:e,closeButton:n,inputs:pe(ve(ve({},j),{},{inline:b,schema:S,schemaTypeName:l,setValue:h,parent:t,index:e,initialValues:a,formHook:u,styles:d,register:o,unregister:i,arrayIdx:e,arrayInitialValues:a,skin:O,arrayControl:{items:v,index:e,remove:r,add:H}}))}})),L={onAdd:H,schemaTypeName:l,dispatch:x,name:t,styles:d,Button:_,AddGlyph:E,Div:D,Text:A},F=M()({[d.errored]:a});return(0,q.jsx)(T,{className:F,header:xe(L),styles:d,children:(0,q.jsx)(k,ve({schema:S,config:m,name:t,errorText:a,component:n,onAdd:H,newObject:r,items:B,defaultValue:f,schemaTypeName:l,styles:d,skin:O},j))})};const Se=["config","name","field","fieldSchema","defaultValue","styles","skin"];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Ee(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Ce=(e,t)=>{let{config:r={},name:n,field:o,fieldSchema:{type:i},defaultValue:s,styles:c,skin:l}=e;const u=_e(_e({},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Se)),{},{schema:i,config:r,parent:n,initialValues:s,styles:c,skin:l}),f=i.getType(),p=w(l.panel);return(0,q.jsx)(p,{styles:c,header:a(f,o),children:pe(u)})};Ce=(0,$.forwardRef)(Ce);const Ve=["config","fieldSchema","skin"];function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Ae(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e,t,{isArray:r}){const n=e[t],{type:o}=n;return(r?o[0]:o).getSchema()}const Ne={array:{skipRegister:!0,nameForErrors:e=>`${e}__count`,coerce:(e=[],{coerceObject:t,schemaDef:r,fieldName:n})=>{const o=Re(r,n,{isArray:!0});return Array.isArray(e)?e.map((e=>e.__rhfa_deleted?null:t({object:e,schemaDef:o}))).filter((e=>null!==e)):[]},props:e=>{const{config:t={},fieldSchema:r,skin:n}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ve),{arrayMode:i}=t,a="table"==(r.arrayMode||i),s=w(n.arrayTable),c=w(n.arrayPanel),l=a?s:c;return De(De({},o),{},{config:t,component:we,initiallyEmpty:r.initiallyEmpty,fieldSchema:r,arrayHandler:l,inline:!0,noRef:!0,isTable:a,skin:n})}},schema:{skipRegister:!0,coerce:(e={},{coerceObject:t,schemaDef:r,fieldName:n})=>t({object:e,schemaDef:Re(r,n,{isArray:!1})}),component:Ce}},Ie=["schema","elementProps","initialValues","children","onSubmit","onErrors","styles","submitButton","submitButtonText","skin","skinOverride","skipManualReset"];function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Be(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Be(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Le=(e,t)=>{const{schema:r,elementProps:n,initialValues:o={},children:i,onSubmit:a,onErrors:s,styles:c,submitButton:l,submitButtonText:u,skin:f,skinOverride:p,skipManualReset:y}=e,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ie);if(!r)throw new Error("<Autoform /> was rendered without schema.");const d=(0,H.useForm)({mode:"all",defaultValues:o}),{control:b,formState:h,register:O,unregister:j,handleSubmit:P,reset:S}=d,k=He(He(He({},Ne),f),p),{coercedSubmit:_,coercedChange:E,setValue:C,setVisible:V,setHelperText:T,resetState:D,stateControl:A,getValues:R}=(({initialValues:e,onSubmit:t,onChange:r,schema:n,skin:o,formHook:i,skipManualReset:a})=>{const s=(0,$.useRef)({stateControl:new z,fields:{}}),{stateControl:c}=s.current,l={initialValues:e,stateRef:s,skin:o,onSubmit:t,schema:n},u=Y(K(K({},l),{},{notify:t}));let f;if(r){const e=r&&Y(K(K({},l),{},{notify:r}));f=()=>{const t=i.getValues();return e(t)}}else f=null;const p=n.getSchema(),y=e=>x(s.current.fields,e,(()=>{const t=v(p,`${e}.initiallyVisible`,{returnValue:!0});return{visible:null===t||t,helperText:null}})),m=(e,t,r={})=>{K(K({},y(e)),{},{value:t,changed:!0}),r.skipSetInput||i.setValue(e,t,r)};c.findOrInitState=y,c.setValue=m;const d=(e,{parent:t=null,field:r})=>{Object.keys(e).forEach((r=>{const n=e[r];if("object"==typeof n)return d(n,{parent:r,field:r});inputName({parent:t,field:r}),y(fieldName)}))},b=(e,t,r)=>{const n=y(e);c.publish(e,K(K({},n),{},{[t]:r})),n[t]=r};return{coercedSubmit:u,coercedChange:f,setValue:m,setVisible:(e,t)=>{b(e,"visible",t)},setHelperText:(e,t)=>{b(e,"helperText",t)},resetState:(t,r)=>{s.current.fields={},d(t||{},{});const n=i.getValues();if(!a){function o(e,t={},r="",n=!1){Object.keys(e).forEach(((a,s)=>{const c=e[a],l=n?`${r}.${s}`:r?`${r}.${a}`:a,u=t[a];if("object"==typeof c)o(c,u,l,Array.isArray(c));else{const e=void 0===u?null:u;i.setValue(l,e)}}))}o(n,e)}i.reset(t,r)},stateControl:c,getValues:()=>{let e={};return Y(K(K({},l),{},{notify:t=>{g(e,t)}}))(i.getValues()),e}}})({initialValues:o,onSubmit:a,onChange:e.onChange,schema:r,skin:k,formHook:d,skipManualReset:y}),N=P(_,s);(0,$.useImperativeHandle)(t,(()=>({submit:N,formHook:()=>d,setValue:C,setVisible:V,getValues:R,reset:D})));const I=He(He(He({},m),n),{},{reset:S,children:i,initialValues:o,schema:r,register:O,unregister:j,styles:c,skin:k,formHook:d,autoformProps:e,stateControl:A,setValue:C,setVisible:V,setHelperText:T,onChange:E}),B=w(k.button),L=w(k.form);return(0,q.jsxs)(L,{onSubmit:N,children:[pe(I),l&&(0,q.jsx)(B,{styles:c,onClick:N,type:"submit",children:u}),i]})};Le=(0,$.forwardRef)(Le)})(),i})()));
//# sourceMappingURL=base.min.js.map