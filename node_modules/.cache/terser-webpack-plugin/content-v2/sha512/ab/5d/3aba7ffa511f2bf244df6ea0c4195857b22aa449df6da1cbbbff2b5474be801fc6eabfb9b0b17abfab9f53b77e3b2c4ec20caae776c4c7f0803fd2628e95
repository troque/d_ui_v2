{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[181],{1137:function(e,t,a){\"use strict\";a.r(t),function(e){var s=a(5),c=a(10),r=a(6),n=a(36),i=a(1),o=a(4),d=a(55),l=a(3),b=a(7),j=(a(49),a(56)),O=a(39),m=a(0);t.default=function(){var t=Object(i.useState)(0),a=Object(r.a)(t,2),u=a[0],h=a[1],p=Object(i.useState)(\"\"),x=Object(r.a)(p,2),f=x[0],E=x[1],A=Object(i.useState)(0),N=Object(r.a)(A,2),R=N[0],g=N[1],S=Object(i.useState)(0),v=Object(r.a)(S,2),C=v[0],_=v[1],w=Object(o.k)().state,T=w.from,I=w.disable,L=T.procesoDisciplinarioId,y=Object(o.o)().idAntecedente,k=Object(i.useState)({data:[],links:[],meta:[]}),D=Object(r.a)(k,2),P=D[0],B=D[1],M=Object(i.useState)(!1),F=Object(r.a)(M,2),G=F[0],V=F[1],U=Object(i.useState)(\"activa\"),J=Object(r.a)(U,2),X=J[0],z=J[1],H=Object(i.useState)({title:\"\",message:\"\",show:!1}),Q=Object(r.a)(H,2),W=Q[0],q=Q[1],K=Object(i.useState)(\"\"),Y=Object(r.a)(K,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(\"\"),te=Object(r.a)(ee,2),ae=te[0],se=te[1],ce=Object(i.useState)(!1),re=Object(r.a)(ce,2),ne=re[0],ie=re[1];Object(i.useEffect)((function(){function t(){return(t=Object(c.a)(Object(s.a)().mark((function t(){return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.showSpinner(!0),E(Object(b.c)().nombre),O.a.getByIdGeneric(\"antecedentes\",y).then((function(t){t.error?q({title:Z+\" :: Antecedentes\",message:t.error.toString(),show:!0,redirect:\"/AntecedentesLista\",from:{from:T},alert:e.Constants.TIPO_ALERTA.ERROR}):(1==t.data.attributes.estado&&z(\"inactiva\"),B(t),V(!0))})),oe();case 4:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var oe=function(){try{O.a.getByDataGeneric(\"parametro/parametro-nombre\",{data:{type:\"mas_parametro\",attributes:{nombre:\"minimo_caracteres_textarea|maximo_caracteres_textarea\"}}}).then((function(t){t.error?q({title:Z+\" :: Antecedentes\",message:t.error.toString(),show:!0,redirect:\"/AntecedentesLista\",from:{from:T},alert:e.Constants.TIPO_ALERTA.ERROR}):t.data.length>0&&(t.data.filter((function(e){return e.attributes.nombre.includes(\"minimo_caracteres_textarea\")})).map((function(e){return _(e.attributes.valor)})),t.data.filter((function(e){return e.attributes.nombre.includes(\"maximo_caracteres_textarea\")})).map((function(e){return g(e.attributes.valor)})),de())}))}catch(t){}},de=function(){O.a.getByIdGeneric(\"nombre-proceso\",L).then((function(e){e.error||$(e.data.attributes.nombre),window.showSpinner(!1)}))},le=function(){if(null!=P.data&&\"undefined\"!=typeof P.data)return Object(m.jsxs)(\"tr\",{children:[Object(m.jsxs)(\"td\",{style:{width:\"20%\"},children:[Object(m.jsx)(\"strong\",{children:\"FUNCIONARIO: \"}),P.data.attributes.nombre_completo.toLocaleUpperCase(),Object(m.jsx)(\"br\",{}),Object(m.jsx)(\"strong\",{children:\"ETAPA: \"}),P.data.attributes.etapa.nombre,Object(m.jsx)(\"br\",{}),Object(m.jsx)(\"strong\",{children:\"FECHA: \"}),P.data.attributes.fecha_creado]}),Object(m.jsx)(\"td\",{style:{width:\"20%\"},children:P.data.attributes.nombre_dependencia}),Object(m.jsx)(\"td\",{style:{width:\"60%\"},\"data-toggle\":\"popover\",\"data-placement\":\"top\",title:P.data.attributes.descripcion,children:P.data.attributes.descripcion_corta.toUpperCase()})]})},be=function(t){(\"\"===t.target.value||e.Constants.CARACTERES_ESPECIALES.formatOnlyLettersWhitAccent.test(t.target.value)&&t.target.value.length<=R)&&(se(t.target.value),h(t.target.value.length),ie(!0))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.a,{}),Object(m.jsx)(j.a,{data:W}),Object(m.jsx)(n.d,{initialValues:{descripcion:\"\"},enableReinitialize:!0,validate:function(t){var a={};return u>R&&(a.descripcion=\"Debe ingresar m\\xe1ximo \"+R+\" car\\xe1cteres\"),u<C&&(a.descripcion=\"Debe ingresar m\\xednimo \"+C+\" car\\xe1cteres\"),0==ne&&(a.descripcion=e.Constants.MENSAJE_ERROR.ERROR_FORMATO_CARACTERES_INVALIDOS),a},onSubmit:function(t,a){a.resetForm;!function(t){window.showSpinner(!0);var a={data:{type:\"antecedente\",attributes:{antecedentes:3,descripcion:\"\",id_proceso_disciplinario:L,update_user:f,update_at:Date.now(),estado_observacion:ae,estado:e.Constants.ESTADOS.ACTIVO}}};O.a.updateGeneric(\"antecedentes\",y,a).then((function(t){t.error?(q({title:Z+\" :: Antecedentes\",message:t.error.toString(),show:!0,redirect:\"/AntecedentesLista\",from:{from:T},alert:e.Constants.TIPO_ALERTA.ERROR}),window.showSpinner(!1)):(q({title:Z+\" :: Antecedentes\",message:e.Constants.MENSAJES_MODAL.EXITOSO,show:!0,redirect:\"/AntecedentesLista\",from:{from:T},alert:e.Constants.TIPO_ALERTA.EXITO}),window.showSpinner(!1))}))}()},children:function(t){var a=t.errors;return Object(m.jsxs)(n.c,{children:[Object(m.jsx)(\"div\",{className:\"w2d_block let\",children:Object(m.jsx)(\"nav\",{\"aria-label\":\"breadcrumb\",children:Object(m.jsxs)(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(l.b,{underline:\"hover\",className:\"text-dark\",to:\"/MisPendientes\",children:Object(m.jsx)(\"small\",{children:\"Mis Pendientes\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(l.b,{underline:\"hover\",className:\"text-dark\",to:\"/RamasProceso/\",state:{from:T,disable:I},children:Object(m.jsx)(\"small\",{children:\"Ramas del proceso\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(l.b,{underline:\"hover\",className:\"text-dark\",to:\"/AntecedentesLista/\",state:{from:T,disable:I},children:Object(m.jsx)(\"small\",{children:\"Antecedentes\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(\"small\",{children:\"Cambiar estado de antecedente\"})]})]})})}),Object(m.jsxs)(\"div\",{className:\"block block-themed\",children:[Object(m.jsx)(\"div\",{className:\"block-header\",children:Object(m.jsxs)(\"h3\",{className:\"block-title\",children:[\" \",Z,\" :: \",Object(m.jsx)(\"strong\",{children:\"INACTIVAR ANTECEDENTE\"})]})}),Object(m.jsxs)(\"div\",{className:\"block-content\",children:[Object(m.jsx)(\"div\",{className:\"col-md-12\",children:Object(m.jsxs)(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full table-responsive-md\",children:[Object(m.jsx)(\"thead\",{children:Object(m.jsxs)(\"tr\",{children:[Object(m.jsx)(\"th\",{children:\"REGISTRADO POR\"}),Object(m.jsx)(\"th\",{children:\"DEPENDENCIA\"}),Object(m.jsx)(\"th\",{children:\"DESCRIPCI\\xd3N\"})]})}),Object(m.jsx)(\"tbody\",{children:G?le():null})]})}),Object(m.jsx)(\"div\",{className:\"col-md-12\",children:Object(m.jsxs)(\"div\",{className:\"form-group\",children:[Object(m.jsxs)(\"label\",{htmlFor:\"descripcion\",children:[\"MOTIVO POR EL QUE \",X.toLocaleUpperCase(),\" EL ANTECEDENTE \",Object(m.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(m.jsx)(n.b,{as:\"textarea\",className:\"form-control\",id:\"descripcion\",name:\"descripcion\",rows:\"4\",placeholder:\"ESCRIBA EN ESTE ESPACIO LA OBSERVACI\\xd3N\",maxLength:R,minLength:C,value:ae,onChange:be}),Object(m.jsx)(\"div\",{className:\"text-right\",children:Object(m.jsxs)(\"span\",{className:\"text-primary\",children:[u,\" / \",R]})}),Object(m.jsx)(n.a,{name:\"descripcion\",component:function(){return Object(m.jsx)(\"span\",{className:\"text-danger\",children:a.descripcion})}})]})})]}),Object(m.jsxs)(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:[Object(m.jsx)(\"button\",{type:\"submit\",className:\"btn btn-rounded btn-primary\",children:e.Constants.BOTON_NOMBRE.REGISTRAR}),Object(m.jsx)(l.b,{to:\"/AntecedentesLista/\",state:{from:T,disable:I},children:Object(m.jsx)(\"button\",{type:\"button\",className:\"btn btn-rounded btn-outline-primary\",children:e.Constants.BOTON_NOMBRE.CANCELAR})})]})]})]})}})]})}}.call(this,a(31))}}]);","name":"static/js/181.903e9f6f.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","global","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__","formik__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","react_router__WEBPACK_IMPORTED_MODULE_5__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","_Utils_Common__WEBPACK_IMPORTED_MODULE_8__","_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__","_useState","Object","_useState2","countTextArea","setCountTextArea","_useState3","_useState4","nombreUsuario","setNombreUsuario","_useState5","_useState6","getMaximoTextArea","setMaximoTextArea","_useState7","_useState8","getMinimoTextArea","setMinimoTextArea","_location$state","state","from","disable","procesoDisciplinarioId","idAntecedente","_useState9","data","links","meta","_useState10","getAntecedente","setAntecedente","_useState11","_useState12","getRtaInfoAntecedente","setRtaInfoAntecedente","_useState13","_useState14","getEstadoAntecedente","setEstadoAntecedente","_useState15","title","message","show","_useState16","getModalState","setModalState","_useState17","_useState18","getNombreProceso","setNombreProceso","_useState19","_useState20","getDescripcion","setDescripcion","_useState21","_useState22","getRepuestaDescripcion","setRepuestaDescripcion","_fetchData","mark","_callee","wrap","_context","prev","next","window","showSpinner","nombre","getByIdGeneric","then","datos","error","toString","redirect","alert","Constants","TIPO_ALERTA","ERROR","attributes","estado","obtenerParametros","stop","apply","arguments","fetchData","getByDataGeneric","type","length","filter","includes","map","filteredName","nombreProceso","CargarInfoAntecedente","children","style","width","nombre_completo","toLocaleUpperCase","etapa","fecha_creado","nombre_dependencia","descripcion","descripcion_corta","toUpperCase","changeDescripcion","e","target","value","CARACTERES_ESPECIALES","formatOnlyLettersWhitAccent","test","initialValues","enableReinitialize","validate","valores","errores","MENSAJE_ERROR","ERROR_FORMATO_CARACTERES_INVALIDOS","onSubmit","_ref","resetForm","antecedentes","id_proceso_disciplinario","update_user","update_at","Date","now","estado_observacion","ESTADOS","ACTIVO","updateGeneric","MENSAJES_MODAL","EXITOSO","EXITO","enviarDatos","_ref2","errors","className","underline","to","htmlFor","as","id","name","rows","placeholder","maxLength","minLength","onChange","component","BOTON_NOMBRE","REGISTRAR","CANCELAR","call"],"sources":["static/js/181.903e9f6f.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[181],{\n\n/***/ 1137:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(55);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3);\n/* harmony import */ var _Utils_Common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(7);\n/* harmony import */ var _Utils_Constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(49);\n/* harmony import */ var _Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(56);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(39);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);\nfunction AntecedentesCambiarEstadoForm(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),countTextArea=_useState2[0],setCountTextArea=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(\"\"),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),nombreUsuario=_useState4[0],setNombreUsuario=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),getMaximoTextArea=_useState6[0],setMaximoTextArea=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(0),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),getMinimoTextArea=_useState8[0],setMinimoTextArea=_useState8[1];var location=Object(react_router__WEBPACK_IMPORTED_MODULE_5__[/* useLocation */ \"k\"])();var _location$state=location.state,from=_location$state.from,disable=_location$state.disable;var procesoDisciplinarioId=from.procesoDisciplinarioId;var _useParams=Object(react_router__WEBPACK_IMPORTED_MODULE_5__[/* useParams */ \"o\"])(),idAntecedente=_useParams.idAntecedente;var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({data:[],links:[],meta:[]}),_useState10=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState9,2),getAntecedente=_useState10[0],setAntecedente=_useState10[1];var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState12=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState11,2),getRtaInfoAntecedente=_useState12[0],setRtaInfoAntecedente=_useState12[1];var _useState13=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(\"activa\"),_useState14=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState13,2),getEstadoAntecedente=_useState14[0],setEstadoAntecedente=_useState14[1];var _useState15=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({title:\"\",message:\"\",show:false}),_useState16=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState15,2),getModalState=_useState16[0],setModalState=_useState16[1];var _useState17=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState18=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState17,2),getNombreProceso=_useState18[0],setNombreProceso=_useState18[1];var _useState19=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState20=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState19,2),getDescripcion=_useState20[0],setDescripcion=_useState20[1];var _useState21=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState22=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState21,2),getRepuestaDescripcion=_useState22[0],setRepuestaDescripcion=_useState22[1];Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(){return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.showSpinner(true);setNombreUsuario(Object(_Utils_Common__WEBPACK_IMPORTED_MODULE_8__[/* getUser */ \"c\"])().nombre);_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].getByIdGeneric(\"antecedentes\",idAntecedente).then(function(datos){if(!datos.error){if(datos.data.attributes.estado==true){setEstadoAntecedente(\"inactiva\");}setAntecedente(datos);setRtaInfoAntecedente(true);}else{setModalState({title:getNombreProceso+\" :: Antecedentes\",message:datos.error.toString(),show:true,redirect:'/AntecedentesLista',from:{from:from},alert:global.Constants.TIPO_ALERTA.ERROR});}});obtenerParametros();case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var obtenerParametros=function obtenerParametros(){try{var data={\"data\":{\"type\":'mas_parametro',\"attributes\":{\"nombre\":\"minimo_caracteres_textarea|maximo_caracteres_textarea\"}}};//buscamos el parametro\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].getByDataGeneric(\"parametro/parametro-nombre\",data).then(function(datos){if(!datos.error){if(datos[\"data\"].length>0){datos[\"data\"].filter(function(data){return data[\"attributes\"][\"nombre\"].includes('minimo_caracteres_textarea');}).map(function(filteredName){return setMinimoTextArea(filteredName[\"attributes\"][\"valor\"]);});datos[\"data\"].filter(function(data){return data[\"attributes\"][\"nombre\"].includes('maximo_caracteres_textarea');}).map(function(filteredName){return setMaximoTextArea(filteredName[\"attributes\"][\"valor\"]);});nombreProceso();}}else{setModalState({title:getNombreProceso+\" :: Antecedentes\",message:datos.error.toString(),show:true,redirect:'/AntecedentesLista',from:{from:from},alert:global.Constants.TIPO_ALERTA.ERROR});}});}catch(error){// console.log(error);\n}};var nombreProceso=function nombreProceso(){_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].getByIdGeneric(\"nombre-proceso\",procesoDisciplinarioId).then(function(datos){if(!datos.error){setNombreProceso(datos.data.attributes.nombre);}window.showSpinner(false);});};var enviarDatos=function enviarDatos(datos){window.showSpinner(true);var data={\"data\":{\"type\":'antecedente',\"attributes\":{\"antecedentes\":3,\"descripcion\":\"\",\"id_proceso_disciplinario\":procesoDisciplinarioId,\"update_user\":nombreUsuario,\"update_at\":Date.now(),\"estado_observacion\":getDescripcion,\"estado\":global.Constants.ESTADOS.ACTIVO}}};_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].updateGeneric(\"antecedentes\",idAntecedente,data).then(function(datos){if(!datos.error){setModalState({title:getNombreProceso+\" :: Antecedentes\",message:global.Constants.MENSAJES_MODAL.EXITOSO,show:true,redirect:'/AntecedentesLista',from:{from:from},alert:global.Constants.TIPO_ALERTA.EXITO});window.showSpinner(false);}else{setModalState({title:getNombreProceso+\" :: Antecedentes\",message:datos.error.toString(),show:true,redirect:'/AntecedentesLista',from:{from:from},alert:global.Constants.TIPO_ALERTA.ERROR});window.showSpinner(false);}});};var CargarInfoAntecedente=function CargarInfoAntecedente(){if(getAntecedente.data!=null&&typeof getAntecedente.data!='undefined'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"td\",{style:{width:\"20%\"},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"strong\",{children:\"FUNCIONARIO: \"}),getAntecedente.data.attributes.nombre_completo.toLocaleUpperCase(),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"strong\",{children:\"ETAPA: \"}),getAntecedente.data.attributes.etapa.nombre,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"strong\",{children:\"FECHA: \"}),getAntecedente.data.attributes.fecha_creado]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"td\",{style:{width:\"20%\"},children:getAntecedente.data.attributes.nombre_dependencia}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"td\",{style:{width:\"60%\"},\"data-toggle\":\"popover\",\"data-placement\":\"top\",title:getAntecedente.data.attributes.descripcion,children:getAntecedente.data.attributes.descripcion_corta.toUpperCase()})]});}};var changeDescripcion=function changeDescripcion(e){if(e.target.value===''||global.Constants.CARACTERES_ESPECIALES.formatOnlyLettersWhitAccent.test(e.target.value)&&e.target.value.length<=getMaximoTextArea){setDescripcion(e.target.value);setCountTextArea(e.target.value.length);setRepuestaDescripcion(true);}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{data:getModalState}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Formik */ \"d\"],{initialValues:{descripcion:''},enableReinitialize:true,validate:function validate(valores){var errores={};if(countTextArea>getMaximoTextArea){errores.descripcion='Debe ingresar máximo '+getMaximoTextArea+' carácteres';}if(countTextArea<getMinimoTextArea){errores.descripcion='Debe ingresar mínimo '+getMinimoTextArea+' carácteres';}if(getRepuestaDescripcion==false){errores.descripcion=global.Constants.MENSAJE_ERROR.ERROR_FORMATO_CARACTERES_INVALIDOS;}return errores;},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;enviarDatos(valores);},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Form */ \"c\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"w2d_block let\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/MisPendientes\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"small\",{children:\"Mis Pendientes\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/RamasProceso/\",state:{from:from,disable:disable},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"small\",{children:\"Ramas del proceso\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/AntecedentesLista/\",state:{from:from,disable:disable},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"small\",{children:\"Antecedentes\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"small\",{children:\"Cambiar estado de antecedente\"})]})]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"block-header\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"h3\",{className:\"block-title\",children:[\" \",getNombreProceso,\" :: \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"strong\",{children:\"INACTIVAR ANTECEDENTE\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"block-content\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full table-responsive-md\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"th\",{children:\"REGISTRADO POR\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"th\",{children:\"DEPENDENCIA\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"th\",{children:\"DESCRIPCI\\xD3N\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"tbody\",{children:getRtaInfoAntecedente?CargarInfoAntecedente():null})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"label\",{htmlFor:\"descripcion\",children:[\"MOTIVO POR EL QUE \",getEstadoAntecedente.toLocaleUpperCase(),\" EL ANTECEDENTE \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Field */ \"b\"],{as:\"textarea\",className:\"form-control\",id:\"descripcion\",name:\"descripcion\",rows:\"4\",placeholder:\"ESCRIBA EN ESTE ESPACIO LA OBSERVACI\\xD3N\",maxLength:getMaximoTextArea,minLength:getMinimoTextArea,value:getDescripcion,onChange:changeDescripcion}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"text-right\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"span\",{className:\"text-primary\",children:[countTextArea,\" / \",getMaximoTextArea]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* ErrorMessage */ \"a\"],{name:\"descripcion\",component:function component(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"span\",{className:\"text-danger\",children:errors.descripcion});}})]})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn btn-rounded btn-primary\",children:global.Constants.BOTON_NOMBRE.REGISTRAR}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{to:\"/AntecedentesLista/\",state:{from:from,disable:disable},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-rounded btn-outline-primary\",children:global.Constants.BOTON_NOMBRE.CANCELAR})})]})]})]});}})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (AntecedentesCambiarEstadoForm);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(31)))\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/Antecedentes/AntecedentesCambiarEstadoForm.js"],"names":["AntecedentesCambiarEstadoForm","useState","countTextArea","setCountTextArea","nombreUsuario","setNombreUsuario","getMaximoTextArea","setMaximoTextArea","getMinimoTextArea","setMinimoTextArea","location","useLocation","state","from","disable","procesoDisciplinarioId","useParams","idAntecedente","data","links","meta","getAntecedente","setAntecedente","getRtaInfoAntecedente","setRtaInfoAntecedente","getEstadoAntecedente","setEstadoAntecedente","title","message","show","getModalState","setModalState","getNombreProceso","setNombreProceso","getDescripcion","setDescripcion","getRepuestaDescripcion","setRepuestaDescripcion","useEffect","fetchData","window","showSpinner","getUser","nombre","GenericApi","getByIdGeneric","then","datos","error","attributes","estado","toString","redirect","alert","global","Constants","TIPO_ALERTA","ERROR","obtenerParametros","getByDataGeneric","length","filter","includes","map","filteredName","nombreProceso","enviarDatos","Date","now","ESTADOS","ACTIVO","updateGeneric","MENSAJES_MODAL","EXITOSO","EXITO","CargarInfoAntecedente","width","nombre_completo","toLocaleUpperCase","etapa","fecha_creado","nombre_dependencia","descripcion","descripcion_corta","toUpperCase","changeDescripcion","e","target","value","CARACTERES_ESPECIALES","formatOnlyLettersWhitAccent","test","valores","errores","MENSAJE_ERROR","ERROR_FORMATO_CARACTERES_INVALIDOS","resetForm","errors","BOTON_NOMBRE","REGISTRAR","CANCELAR"],"mappings":"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","file":"x","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router\";\r\nimport Spinner from '../../Utils/Spinner';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getUser } from '../../Utils/Common';\r\nimport { useLocation } from 'react-router-dom';\r\nimport '../../Utils/Constants';\r\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\n\r\nfunction AntecedentesCambiarEstadoForm() {\r\n\r\n    const [countTextArea, setCountTextArea] = useState(0);\r\n    const [nombreUsuario, setNombreUsuario] = useState(\"\");\r\n\r\n    const [getMaximoTextArea, setMaximoTextArea] = useState(0);\r\n    const [getMinimoTextArea, setMinimoTextArea] = useState(0);\r\n\r\n    const location = useLocation()\r\n    const { from, disable } = location.state\r\n    let procesoDisciplinarioId = from.procesoDisciplinarioId;\r\n\r\n    let { idAntecedente } = useParams();\r\n\r\n\r\n    const [getAntecedente, setAntecedente] = useState({ data: [], links: [], meta: [] });\r\n    const [getRtaInfoAntecedente, setRtaInfoAntecedente] = useState(false);\r\n    const [getEstadoAntecedente, setEstadoAntecedente] = useState(\"activa\");\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n    const [getNombreProceso, setNombreProceso] = useState('');\r\n    const [getDescripcion, setDescripcion] = useState('');\r\n    const [getRepuestaDescripcion, setRepuestaDescripcion] = useState(false);\r\n\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n            window.showSpinner(true);\r\n            setNombreUsuario(getUser().nombre);\r\n\r\n            GenericApi.getByIdGeneric(\"antecedentes\", idAntecedente).then(\r\n\r\n                datos => {\r\n                    if (!datos.error) {\r\n\r\n                        if (datos.data.attributes.estado == true) {\r\n                            setEstadoAntecedente(\"inactiva\");\r\n                        }\r\n                        setAntecedente(datos);\r\n                        setRtaInfoAntecedente(true);\r\n                    }\r\n                    else {\r\n                        setModalState({ title: getNombreProceso + \" :: Antecedentes\", message: datos.error.toString(), show: true, redirect: '/AntecedentesLista', from: { from }, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n\r\n                    }\r\n\r\n                }\r\n            )\r\n            obtenerParametros();\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const obtenerParametros = () => {\r\n        try {\r\n\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": 'mas_parametro',\r\n                    \"attributes\": {\r\n                        \"nombre\": \"minimo_caracteres_textarea|maximo_caracteres_textarea\"\r\n                    }\r\n                }\r\n            }\r\n\r\n            //buscamos el parametro\r\n            GenericApi.getByDataGeneric(\"parametro/parametro-nombre\", data).then(\r\n                datos => {\r\n\r\n                    if (!datos.error) {\r\n\r\n                        if (datos[\"data\"].length > 0) {\r\n\r\n                            datos[\"data\"].filter(data => data[\"attributes\"][\"nombre\"].includes('minimo_caracteres_textarea')).map(filteredName => (\r\n                                setMinimoTextArea(filteredName[\"attributes\"][\"valor\"])\r\n                            ))\r\n                            datos[\"data\"].filter(data => data[\"attributes\"][\"nombre\"].includes('maximo_caracteres_textarea')).map(filteredName => (\r\n                                setMaximoTextArea(filteredName[\"attributes\"][\"valor\"])\r\n                            ))\r\n                            nombreProceso();\r\n\r\n                        }\r\n                    } else {\r\n                        setModalState({ title: getNombreProceso + \" :: Antecedentes\", message: datos.error.toString(), show: true, redirect: '/AntecedentesLista', from: { from }, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    }\r\n                }\r\n            )\r\n        } catch (error) {\r\n            // console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n    const nombreProceso = () => {\r\n\r\n        GenericApi.getByIdGeneric(\"nombre-proceso\", procesoDisciplinarioId).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setNombreProceso(datos.data.attributes.nombre)\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n    const enviarDatos = (datos) => {\r\n        window.showSpinner(true);\r\n\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": 'antecedente',\r\n                \"attributes\": {\r\n                    \"antecedentes\": 3,\r\n                    \"descripcion\": \"\",\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                    \"update_user\": nombreUsuario,\r\n                    \"update_at\": Date.now(),\r\n                    \"estado_observacion\": getDescripcion,\r\n                    \"estado\": global.Constants.ESTADOS.ACTIVO,\r\n                }\r\n            }\r\n        }\r\n\r\n        GenericApi.updateGeneric(\"antecedentes\", idAntecedente, data).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setModalState({ title: getNombreProceso + \" :: Antecedentes\", message: global.Constants.MENSAJES_MODAL.EXITOSO, show: true, redirect: '/AntecedentesLista', from: { from }, alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                    window.showSpinner(false);\r\n\r\n                }\r\n                else {\r\n                    setModalState({ title: getNombreProceso + \" :: Antecedentes\", message: datos.error.toString(), show: true, redirect: '/AntecedentesLista', from: { from }, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    window.showSpinner(false);\r\n\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const CargarInfoAntecedente = () => {\r\n\r\n        if (getAntecedente.data != null && typeof (getAntecedente.data) != 'undefined') {\r\n            return (\r\n                <tr>\r\n                    <td style={{ width: \"20%\" }}>\r\n                        <strong>FUNCIONARIO: </strong>{getAntecedente.data.attributes.nombre_completo.toLocaleUpperCase()}<br />\r\n                        <strong>ETAPA: </strong>{getAntecedente.data.attributes.etapa.nombre}<br />\r\n                        <strong>FECHA: </strong>{getAntecedente.data.attributes.fecha_creado}\r\n                    </td>\r\n                    <td style={{ width: \"20%\" }}>{getAntecedente.data.attributes.nombre_dependencia}</td>\r\n                    <td style={{ width: \"60%\" }} data-toggle=\"popover\" data-placement=\"top\" title={getAntecedente.data.attributes.descripcion}>{getAntecedente.data.attributes.descripcion_corta.toUpperCase()}</td>\r\n                </tr>\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const changeDescripcion = (e) => {\r\n        if (e.target.value === '' || \r\n        (global.Constants.CARACTERES_ESPECIALES.formatOnlyLettersWhitAccent.test(e.target.value) && \r\n        e.target.value.length <= getMaximoTextArea)) {\r\n            setDescripcion(e.target.value);\r\n            setCountTextArea(e.target.value.length);\r\n            setRepuestaDescripcion(true);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<ModalGen data={getModalState} />}\r\n            <Formik\r\n                initialValues={{\r\n                    descripcion: ''\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n                    let errores = {}\r\n                    \r\n                    if (countTextArea > getMaximoTextArea) {\r\n                        errores.descripcion = 'Debe ingresar máximo ' + getMaximoTextArea + ' carácteres';\r\n                    }\r\n                    if (countTextArea < getMinimoTextArea) {\r\n                        errores.descripcion = 'Debe ingresar mínimo ' + getMinimoTextArea + ' carácteres'\r\n                    }\r\n                    if(getRepuestaDescripcion == false){\r\n                        errores.descripcion = global.Constants.MENSAJE_ERROR.ERROR_FORMATO_CARACTERES_INVALIDOS;\r\n                    }\r\n\r\n                    return errores\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n                        <div className=\"w2d_block let\">\r\n                            <nav aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/MisPendientes`}><small>Mis Pendientes</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/RamasProceso/`} state={{ from: from, disable: disable }}><small>Ramas del proceso</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/AntecedentesLista/`} state={{ from: from, disable: disable }}><small>Antecedentes</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <small>Cambiar estado de antecedente</small></li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"block block-themed\">\r\n                            <div className=\"block-header\">\r\n                                <h3 className=\"block-title\"> {getNombreProceso} :: <strong>INACTIVAR ANTECEDENTE</strong></h3>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <div className='col-md-12'>\r\n\r\n                                    <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full table-responsive-md\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>REGISTRADO POR</th>\r\n                                                <th>DEPENDENCIA</th>\r\n                                                <th>DESCRIPCIÓN</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {getRtaInfoAntecedente ? CargarInfoAntecedente() : null}\r\n\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                <div className=\"col-md-12\">\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"descripcion\">MOTIVO POR EL QUE {getEstadoAntecedente.toLocaleUpperCase()} EL ANTECEDENTE <span className=\"text-danger\">*</span></label>\r\n                                        <Field as=\"textarea\" className=\"form-control\" id=\"descripcion\" name=\"descripcion\" rows=\"4\" placeholder=\"ESCRIBA EN ESTE ESPACIO LA OBSERVACIÓN\"\r\n                                            maxLength={getMaximoTextArea} minLength={getMinimoTextArea} value={getDescripcion} onChange={changeDescripcion}></Field>\r\n                                        <div className=\"text-right\">\r\n                                            <span className=\"text-primary\">{countTextArea} / {getMaximoTextArea}</span>\r\n                                        </div>\r\n                                        <ErrorMessage name=\"descripcion\" component={() => (<span className=\"text-danger\">{errors.descripcion}</span>)} />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                \r\n                                <button type=\"submit\" className=\"btn btn-rounded btn-primary\">{global.Constants.BOTON_NOMBRE.REGISTRAR}</button>\r\n                                \r\n                                <Link to={`/AntecedentesLista/`} state={{ from: from, disable: disable }}>\r\n                                    <button type=\"button\" className=\"btn btn-rounded btn-outline-primary\">{global.Constants.BOTON_NOMBRE.CANCELAR}</button>\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default AntecedentesCambiarEstadoForm;"]}}