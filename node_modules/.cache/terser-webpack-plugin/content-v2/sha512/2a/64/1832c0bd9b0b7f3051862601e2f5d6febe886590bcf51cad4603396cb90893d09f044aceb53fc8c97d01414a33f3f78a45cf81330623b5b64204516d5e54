{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[91],{128:function(e,t,a){\"use strict\";var n=a(0);t.a=function(e){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(\"div\",{className:\"modal fade\",id:\"modal-block-popout-custom\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:Object(n.jsx)(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:Object(n.jsx)(\"div\",{className:\"modal-content\",children:Object(n.jsxs)(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[Object(n.jsxs)(\"div\",{className:\"block-header bg-primary-dark\",children:[Object(n.jsx)(\"h3\",{className:\"block-title\",children:\"Confirmaci\\xf3n\"}),Object(n.jsx)(\"div\",{className:\"block-options\",children:Object(n.jsx)(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:Object(n.jsx)(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),Object(n.jsx)(\"div\",{className:\"block-content\",children:Object(n.jsx)(\"p\",{children:e.mensaje})}),Object(n.jsx)(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:Object(n.jsx)(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",\"data-dismiss\":\"modal\",children:\"Aceptar\"})})]})})})})})}},129:function(e,t,a){\"use strict\";var n=a(14),c=a(12),s=a.n(c),i=a(15),r=a.n(i),d=a(2),o=\"https://disciplinarios-dev.personeriabogota.gov.co/api/v1/\",l={\"Content-Type\":\"application/vnd.api+json\",Accept:\"application/vnd.api+json\"};function b(){return(b=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o+\"mas-entidad-permitida\",a=Object(d.b)(),l.Authorization=\"Bearer \".concat(a),e.next=5,r.a.post(\"https://disciplinarios-dev.personeriabogota.gov.co/api/v1/mas-entidad-permitida\",t,{headers:l}).then((function(e){return e.data})).catch((function(e){return console.log(e),{estado:!1,error:e}}));case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(n.a)(s.a.mark((function e(t,a){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o+\"mas-entidad-permitida/ \"+a,c=Object(d.b)(),l.Authorization=\"Bearer \".concat(c),e.next=5,r.a.put(n,t,{headers:l}).then((function(e){return e.data})).catch((function(e){return console.log(e),{estado:!1,error:e}}));case 5:return e.abrupt(\"return\",e.sent);case 6:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}t.a={addInteresadoEntidadPermitida:function(e){return b.apply(this,arguments)},updateInteresadoEntidadPermitida:function(e,t){return j.apply(this,arguments)}}},297:function(e,t,a){\"use strict\";a.r(t);var n=a(14),c=a(6),s=a(12),i=a.n(s),r=a(70),d=a(1),o=a(65),l=a(71),b=a(128),j=a(4),u=a(86),h=a(129),m=a(3),p=a(130),O=a(63),x=a(0);t.default=function(){var e=Object(d.useState)(\"\"),t=Object(c.a)(e,2),a=t[0],s=(t[1],Object(d.useState)({data:{}})),f=Object(c.a)(s,2),w=f[0],v=f[1],k=Object(d.useState)(!1),g=Object(c.a)(k,2),N=(g[0],g[1]),y=Object(d.useState)(!1),S=Object(c.a)(y,2),E=S[0],I=S[1],A=Object(d.useState)(\"\"),C=Object(c.a)(A,2),M=C[0],F=C[1],L=Object(d.useState)(),P=Object(c.a)(L,2),_=P[0],z=P[1],R=Object(d.useState)(!1),B=Object(c.a)(R,2),J=(B[0],B[1]),D=Object(d.useState)({data:[],links:[],meta:[]}),T=Object(c.a)(D,2),V=T[0],q=T[1];Object(d.useEffect)((function(){function e(){return(e=Object(n.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.a.getAllEntidades().then((function(e){return e.error?window.showModal(1):(v(e),N(!0),console.log(e))}),window.showSpinner(!1)),u.a.getAllEntidadesPermitidasInteresado().then((function(e){return e.error?window.showModal(1):(q(e),J(!0),window.showSpinner(!1))}),window.showSpinner(!1));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}window.showSpinner(!0),function(){e.apply(this,arguments)}()}),[]);var G=function(e){try{F(e)}catch(t){}};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(O.a,{}),E?Object(x.jsx)(m.a,{to:\"/EntidadesInteresadoLista/\"}):null,Object(x.jsx)(o.a,{error:a}),Object(x.jsx)(l.a,{}),Object(x.jsx)(b.a,{mensaje:\"Esta entidad ya existe en el listado\"}),Object(x.jsx)(r.d,{initialValues:{idEntidad:M||\"\"},enableReinitialize:!0,validate:function(e){z(e);var t={};return\"\"==M&&(t.idEntidad=\"Debe seleccionar una entidad\"),t},onSubmit:function(e,t){t.resetForm;!function(e){var t;window.showSpinner(!0),_&&(t={data:{type:\"mas_entidad_permitida\",attributes:{id_entidad:M,estado:1}}});var a=!1;V.data.forEach((function(e){e.attributes.id_entidad==M&&(a=!0)})),0==a?h.a.addInteresadoEntidadPermitida(t).then((function(e){e.error?(console.log(e.error),window.showModal(1),window.showSpinner(!1)):(window.showModal(2),I(!0),window.showSpinner(!1))})):(window.showModal(5),window.showSpinner(!1))}()},children:function(e){var t=e.errors;return Object(x.jsxs)(r.c,{children:[Object(x.jsx)(\"div\",{className:\"block block-rounded block-bordered\",children:Object(x.jsx)(\"div\",{className:\"block-content\",children:Object(x.jsx)(\"nav\",{\"aria-label\":\"breadcrumb\",children:Object(x.jsxs)(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[Object(x.jsxs)(\"li\",{class:\"breadcrumb-item\",children:[\" \",Object(x.jsx)(j.b,{underline:\"hover\",className:\"text-dark\",to:\"/EntidadesInteresadoLista\",children:Object(x.jsx)(\"small\",{children:\"Lista entidades permitidas\"})})]}),Object(x.jsxs)(\"li\",{class:\"breadcrumb-item\",children:[\" \",Object(x.jsx)(\"small\",{children:\"Crear entidad permitida\"})]})]})})})}),Object(x.jsxs)(\"div\",{className:\"block block-rounded block-bordered\",children:[Object(x.jsx)(\"div\",{className:\"block-content block-content-full\",children:Object(x.jsxs)(\"div\",{className:\"row\",children:[Object(x.jsx)(\"div\",{className:\"col-md-12 text-right\",children:Object(x.jsx)(j.b,{to:\"/EntidadesInteresadoLista/\",title:\"Regresar\",children:Object(x.jsxs)(\"button\",{type:\"button\",className:\"btn btn-success\",children:[Object(x.jsx)(\"i\",{className:\"fas fa-backward\"}),\" \"]})})}),Object(x.jsx)(\"div\",{className:\"col-md-12\",children:Object(x.jsxs)(\"div\",{className:\"form-group\",children:[Object(x.jsxs)(\"label\",{htmlFor:\"idEntidad\",children:[\"Seleccionar Entidad \",Object(x.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(x.jsx)(p.a,{suggestions:w,parentCallback:G}),Object(x.jsx)(r.a,{name:\"idEntidad\",component:function(){return Object(x.jsx)(\"span\",{className:\"text-danger\",children:t.idEntidad})}})]})})]})}),Object(x.jsx)(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:Object(x.jsxs)(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[Object(x.jsx)(\"i\",{className:\"fas fa-save\"}),\" Registrar\"]})})]})]})}})]})}}}]);","name":"static/js/91.3a8aca1d.chunk.js","map":{"version":3,"sources":["static/js/91.3a8aca1d.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","props","Object","children","className","id","tabIndex","role","type","mensaje","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default","n","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__","baseUrl","headers","Accept","_addInteresadoEntidadPermitida","a","mark","_callee","data","token","wrap","_context","prev","next","concat","post","then","response","catch","error","console","log","estado","abrupt","sent","stop","apply","arguments","_updateInteresadoEntidadPermitida","_callee2","url","_context2","put","addInteresadoEntidadPermitida","_x","updateInteresadoEntidadPermitida","_x2","_x3","r","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default","formik__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__","_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__","_Utils_InfoCustom__WEBPACK_IMPORTED_MODULE_7__","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","_Api_Services_ParametrosMasApi__WEBPACK_IMPORTED_MODULE_9__","_Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_10__","react_router_dom__WEBPACK_IMPORTED_MODULE_11__","_Autocomplete_Autocomplete__WEBPACK_IMPORTED_MODULE_12__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_13__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__","_useState","_useState2","errorApi","_useState3","_useState4","listaEntidad","setListaEntidad","_useState5","_useState6","setRespuestaEntidad","_useState7","_useState8","isRedirect","setIsRedirect","_useState9","_useState10","idEntidad","setIdEntidad","_useState11","_useState12","formIntialValuesInteresado","setFormIntialValuesInteresado","_useState13","_useState14","setRespuestaEntidadesPermitidasTotal","_useState15","links","meta","_useState16","entidadesPermitidasListaTotal","setEntidadesPermitidasListaTotal","_fetchData","getAllEntidades","datos","window","showModal","showSpinner","getAllEntidadesPermitidasInteresado","fetchData","handleCallback","childData","to","initialValues","enableReinitialize","validate","valores","errores","onSubmit","_ref","resetForm","attributes","id_entidad","yaExiste","forEach","element","enviarDatos","_ref2","errors","class","underline","title","htmlFor","suggestions","parentCallback","name","component"],"mappings":"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"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[91],{\n\n/***/ 128:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\nfunction InfoCustom(props){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal fade\",id:\"modal-block-popout-custom\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\",{className:\"block-title\",children:\"Confirmaci\\xF3n\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-options\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\",{children:props.mensaje})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",\"data-dismiss\":\"modal\",children:\"Aceptar\"})})]})})})})});}/* harmony default export */ __webpack_exports__[\"a\"] = (InfoCustom);\n\n/***/ }),\n\n/***/ 129:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(15);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2);\n//const baseUrl = 'http://127.0.0.1:8000/api/v1/'\nvar baseUrl=\"https://disciplinarios-dev.personeriabogota.gov.co/api/v1/\";var headers={'Content-Type':'application/vnd.api+json','Accept':'application/vnd.api+json'};function addInteresadoEntidadPermitida(_x){return _addInteresadoEntidadPermitida.apply(this,arguments);}function _addInteresadoEntidadPermitida(){_addInteresadoEntidadPermitida=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(data){var url,token;return C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=baseUrl+\"mas-entidad-permitida\";token=Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__[/* getToken */ \"b\"])();headers['Authorization']=\"Bearer \".concat(token);_context.next=5;return axios__WEBPACK_IMPORTED_MODULE_2___default.a.post(url,data,{headers:headers}).then(function(response){return response.data;}).catch(function(error){console.log(error);return{estado:false,error:error};});case 5:return _context.abrupt(\"return\",_context.sent);case 6:case\"end\":return _context.stop();}}},_callee);}));return _addInteresadoEntidadPermitida.apply(this,arguments);}function updateInteresadoEntidadPermitida(_x2,_x3){return _updateInteresadoEntidadPermitida.apply(this,arguments);}function _updateInteresadoEntidadPermitida(){_updateInteresadoEntidadPermitida=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(data,id){var url,token;return C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=baseUrl+\"mas-entidad-permitida/ \"+id;token=Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__[/* getToken */ \"b\"])();headers['Authorization']=\"Bearer \".concat(token);_context2.next=5;return axios__WEBPACK_IMPORTED_MODULE_2___default.a.put(url,data,{headers:headers}).then(function(response){return response.data;}).catch(function(error){console.log(error);return{estado:false,error:error};});case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _updateInteresadoEntidadPermitida.apply(this,arguments);}/* harmony default export */ __webpack_exports__[\"a\"] = ({addInteresadoEntidadPermitida:addInteresadoEntidadPermitida,updateInteresadoEntidadPermitida:updateInteresadoEntidadPermitida});\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(70);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(65);\n/* harmony import */ var _Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(71);\n/* harmony import */ var _Utils_InfoCustom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(128);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(4);\n/* harmony import */ var _Api_Services_ParametrosMasApi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(86);\n/* harmony import */ var _Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(129);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(3);\n/* harmony import */ var _Autocomplete_Autocomplete__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(130);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(63);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);\nfunction EntidadesInteresadoForm(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState,2),errorApi=_useState2[0],setErrorApi=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({data:{}}),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState3,2),listaEntidad=_useState4[0],setListaEntidad=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState5,2),respuestaEntidad=_useState6[0],setRespuestaEntidad=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState7,2),isRedirect=_useState8[0],setIsRedirect=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState10=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState9,2),idEntidad=_useState10[0],setIdEntidad=_useState10[1];var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(),_useState12=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState11,2),formIntialValuesInteresado=_useState12[0],setFormIntialValuesInteresado=_useState12[1];var _useState13=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState14=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState13,2),respuestaPermitidasTotal=_useState14[0],setRespuestaEntidadesPermitidasTotal=_useState14[1];var _useState15=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({data:[],links:[],meta:[]}),_useState16=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState15,2),entidadesPermitidasListaTotal=_useState16[0],setEntidadesPermitidasListaTotal=_useState16[1];/*Redirects*/var redirectToRoutes=function redirectToRoutes(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_11__[/* Navigate */ \"a\"],{to:\"/EntidadesInteresadoLista/\"});};Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){window.showSpinner(true);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(){return C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://window.showSpinner(true);\n_Api_Services_ParametrosMasApi__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].getAllEntidades().then(function(datos){return!datos.error?(setListaEntidad(datos),setRespuestaEntidad(true),console.log(datos)):window.showModal(1);},window.showSpinner(false));_Api_Services_ParametrosMasApi__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].getAllEntidadesPermitidasInteresado().then(function(datos){return!datos.error?(setEntidadesPermitidasListaTotal(datos),setRespuestaEntidadesPermitidasTotal(true),window.showSpinner(false)):window.showModal(1);},window.showSpinner(false));case 2:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var handleCallback=function handleCallback(childData){try{setIdEntidad(childData);}catch(error){}};var enviarDatos=function enviarDatos(datos){window.showSpinner(true);var data;if(formIntialValuesInteresado){data={\"data\":{\"type\":\"mas_entidad_permitida\",\"attributes\":{\"id_entidad\":idEntidad,\"estado\":1}}};}var yaExiste=false;entidadesPermitidasListaTotal.data.forEach(function(element){if(element[\"attributes\"][\"id_entidad\"]==idEntidad){yaExiste=true;}});if(yaExiste==false){_Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"].addInteresadoEntidadPermitida(data).then(function(datos){if(!datos.error){window.showModal(2);setIsRedirect(true);window.showSpinner(false);}else{//console.log(\"hay error\");\nconsole.log(datos.error);window.showModal(1);window.showSpinner(false);}//window.showSpinner(false);\n});}else{window.showModal(5);window.showSpinner(false);}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_13__[/* default */ \"a\"],{}),isRedirect?redirectToRoutes():null,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{error:errorApi}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_InfoCustom__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{mensaje:\"Esta entidad ya existe en el listado\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Formik */ \"d\"],{initialValues:{idEntidad:idEntidad?idEntidad:''},enableReinitialize:true,validate:function validate(valores){setFormIntialValuesInteresado(valores);var errores={};if(idEntidad==''){errores.idEntidad='Debe seleccionar una entidad';}return errores;},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;enviarDatos(valores);},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Form */ \"c\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block block-rounded block-bordered\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"li\",{class:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/EntidadesInteresadoLista\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"small\",{children:\"Lista entidades permitidas\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"li\",{class:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"small\",{children:\"Crear entidad permitida\"})]})]})})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{className:\"block block-rounded block-bordered\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block-content block-content-full\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"col-md-12 text-right\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[/* Link */ \"b\"],{to:'/EntidadesInteresadoLista/',title:\"Regresar\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"button\",{type:\"button\",className:\"btn btn-success\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"i\",{className:\"fas fa-backward\"}),\" \"]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"label\",{htmlFor:\"idEntidad\",children:[\"Seleccionar Entidad \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Autocomplete_Autocomplete__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"],{suggestions:listaEntidad,parentCallback:handleCallback}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* ErrorMessage */ \"a\"],{name:\"idEntidad\",component:function component(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"span\",{className:\"text-danger\",children:errors.idEntidad});}})]})})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"i\",{className:\"fas fa-save\"}),\" Registrar\"]})})]})]});}})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (EntidadesInteresadoForm);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/InfoCustom.js","C:/w2d/personeria/personeria-ui/src/components/Api/Services/InteresadoEntidadPermitidaApi.js","C:/w2d/personeria/personeria-ui/src/components/EntidadesInteresado/EntidadesInteresadoForm.js"],"names":["InfoCustom","props","mensaje","baseUrl","process","headers","addInteresadoEntidadPermitida","data","url","token","getToken","axios","post","then","response","catch","error","console","log","estado","updateInteresadoEntidadPermitida","id","put","EntidadesInteresadoForm","useState","errorApi","setErrorApi","listaEntidad","setListaEntidad","respuestaEntidad","setRespuestaEntidad","isRedirect","setIsRedirect","idEntidad","setIdEntidad","formIntialValuesInteresado","setFormIntialValuesInteresado","respuestaPermitidasTotal","setRespuestaEntidadesPermitidasTotal","links","meta","entidadesPermitidasListaTotal","setEntidadesPermitidasListaTotal","redirectToRoutes","useEffect","window","showSpinner","fetchData","ParametrosMasApi","getAllEntidades","datos","showModal","getAllEntidadesPermitidasInteresado","handleCallback","childData","enviarDatos","yaExiste","forEach","element","InteresadoEntidadPermitidaApi","valores","errores","resetForm","errors"],"mappings":"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","file":"x","sourcesContent":["function InfoCustom(props) {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal fade\" id=\"modal-block-popout-custom\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-popout\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"block block-themed block-transparent mb-0\">\r\n                            <div className=\"block-header bg-primary-dark\">\r\n                                <h3 className=\"block-title\">Confirmaci√≥n</h3>\r\n                                <div className=\"block-options\">\r\n                                    <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i className=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                            <p>{props.mensaje}</p>\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                <button type=\"button\" className=\"btn btn-sm btn-primary\" data-dismiss=\"modal\">Aceptar</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default InfoCustom;\r\n","import axios from 'axios'\r\nimport { getToken, getUser, removeUserSession, setUserSession } from '../../../components/Utils/Common';\r\n//const baseUrl = 'http://127.0.0.1:8000/api/v1/'\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\n\r\nconst headers = {\r\n    'Content-Type': 'application/vnd.api+json',\r\n    'Accept': 'application/vnd.api+json'\r\n}\r\n\r\n\r\n\r\n\r\nasync function addInteresadoEntidadPermitida(data) {\r\n\r\n    const url = baseUrl + \"mas-entidad-permitida\";\r\n    const token = getToken();\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n\r\n    return await axios.post(url, data, {\r\n        headers: headers\r\n    })\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            return { estado: false, error: error }\r\n        });\r\n}\r\n\r\nasync function updateInteresadoEntidadPermitida(data, id) {\r\n\r\n    const url = baseUrl + \"mas-entidad-permitida/ \" + id;\r\n    const token = getToken();\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n\r\n    return await axios.put(url, data, {\r\n        headers: headers\r\n    })\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            return { estado: false, error: error }\r\n        });\r\n}\r\n\r\n\r\nexport default { addInteresadoEntidadPermitida, updateInteresadoEntidadPermitida }\r\n","import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport InfoExitoApi from '../Utils/InfoExitoApi';\r\nimport InfoCustom from '../Utils/InfoCustom';\r\nimport { Link } from \"react-router-dom\";\r\nimport ParametrosMasApi from '../Api/Services/ParametrosMasApi';\r\nimport InteresadoEntidadPermitidaApi from '../Api/Services/InteresadoEntidadPermitidaApi';\r\n\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport Autocomplete from \"../Autocomplete/Autocomplete\";\r\nimport Spinner from '../Utils/Spinner';\r\n\r\n\r\n\r\n\r\n\r\nfunction EntidadesInteresadoForm() {\r\n\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [listaEntidad, setListaEntidad] = useState({ data: {} });\r\n    const [respuestaEntidad, setRespuestaEntidad] = useState(false);\r\n    const [isRedirect, setIsRedirect] = useState(false);\r\n    const [idEntidad, setIdEntidad] = useState('');\r\n    const [formIntialValuesInteresado, setFormIntialValuesInteresado] = useState();\r\n    const [respuestaPermitidasTotal, setRespuestaEntidadesPermitidasTotal] = useState(false);\r\n    const [entidadesPermitidasListaTotal, setEntidadesPermitidasListaTotal] = useState({ data: [], links: [], meta: [] });\r\n    /*Redirects*/\r\n    const redirectToRoutes = () => {\r\n        return <Navigate to={`/EntidadesInteresadoLista/`} />;\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.showSpinner(true)\r\n        async function fetchData() {\r\n\r\n            //window.showSpinner(true);\r\n\r\n            ParametrosMasApi.getAllEntidades().then(\r\n                datos => !datos.error ? (setListaEntidad(datos), setRespuestaEntidad(true), console.log(datos)) : window.showModal(1), window.showSpinner(false)\r\n            )\r\n\r\n            ParametrosMasApi.getAllEntidadesPermitidasInteresado().then(\r\n                datos => !datos.error ? (setEntidadesPermitidasListaTotal(datos), setRespuestaEntidadesPermitidasTotal(true), window.showSpinner(false)) : window.showModal(1), window.showSpinner(false)\r\n            )\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const handleCallback = (childData) => {\r\n        try {\r\n            setIdEntidad(childData)\r\n        } catch (error) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const enviarDatos = (datos) => {\r\n        window.showSpinner(true);\r\n        let data;\r\n        if (formIntialValuesInteresado) {\r\n\r\n            data = {\r\n\r\n                \"data\": {\r\n                    \"type\": \"mas_entidad_permitida\",\r\n                    \"attributes\": {\r\n                        \"id_entidad\": idEntidad,\r\n                        \"estado\": 1\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let yaExiste = false;\r\n        entidadesPermitidasListaTotal.data.forEach(element => {\r\n\r\n            if (element[\"attributes\"][\"id_entidad\"] == idEntidad) {\r\n\r\n                yaExiste = true;\r\n            }\r\n\r\n        });\r\n\r\n        if (yaExiste == false) {\r\n            InteresadoEntidadPermitidaApi.addInteresadoEntidadPermitida(data).then(\r\n                datos => {\r\n\r\n                    if (!datos.error) {\r\n                        window.showModal(2)\r\n                        setIsRedirect(true);\r\n                        window.showSpinner(false)\r\n                    }\r\n                    else {\r\n                        //console.log(\"hay error\");\r\n                        console.log(datos.error);\r\n                        window.showModal(1)\r\n                        window.showSpinner(false)\r\n                    }\r\n                    //window.showSpinner(false);\r\n                }\r\n            )\r\n        }\r\n        else {\r\n            window.showModal(5)\r\n            window.showSpinner(false)\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {isRedirect ? redirectToRoutes() : null}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            {<InfoExitoApi />}\r\n            {<InfoCustom mensaje={\"Esta entidad ya existe en el listado\"} />}\r\n            <Formik\r\n                initialValues={{\r\n                    idEntidad: idEntidad ? idEntidad : '',\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n\r\n                    setFormIntialValuesInteresado(valores);\r\n\r\n                    let errores = {}\r\n\r\n                    if (idEntidad == '') {\r\n                        errores.idEntidad = 'Debe seleccionar una entidad'\r\n                    }\r\n\r\n                    return errores\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n\r\n\r\n                        <div className=\"block block-rounded block-bordered\">\r\n                            <div className=\"block-content\">\r\n                                <nav aria-label=\"breadcrumb\">\r\n                                    <ol className=\"breadcrumb breadcrumb-alt push\">\r\n\r\n                                        <li class=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/EntidadesInteresadoLista`}><small>Lista entidades permitidas</small></Link></li>\r\n                                        <li class=\"breadcrumb-item\"> <small>Crear entidad permitida</small></li>\r\n                                    </ol>\r\n                                </nav>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div className=\"block block-rounded block-bordered\">\r\n\r\n                            <div className=\"block-content block-content-full\">\r\n                                <div className=\"row\">\r\n                                    {\r\n                                        <div className='col-md-12 text-right'>\r\n                                            <Link to={'/EntidadesInteresadoLista/'} title='Regresar'>\r\n                                                <button type=\"button\" className=\"btn btn-success\"><i className=\"fas fa-backward\"></i> </button>\r\n                                            </Link>\r\n                                        </div>\r\n                                    }\r\n\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor='idEntidad'>Seleccionar Entidad <span className=\"text-danger\">*</span></label>\r\n\r\n                                            <Autocomplete suggestions={listaEntidad} parentCallback={handleCallback} />\r\n\r\n                                            <ErrorMessage name=\"idEntidad\" component={() => (<span className=\"text-danger\">{errors.idEntidad}</span>)} />\r\n                                        </div>\r\n\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-save\"></i> Registrar</button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default EntidadesInteresadoForm;"]}}