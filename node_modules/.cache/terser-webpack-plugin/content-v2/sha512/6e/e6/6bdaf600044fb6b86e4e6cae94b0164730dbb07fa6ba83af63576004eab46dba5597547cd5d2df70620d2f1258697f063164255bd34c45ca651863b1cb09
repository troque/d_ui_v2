{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[68],{1133:function(t,e,a){\"use strict\";a.r(e),function(t){var n=a(5),r=a(10),s=a(6),c=a(36),i=a(1),o=a(57),d=a(144),l=a(3),b=a(281),u=a(55),j=a(7),p=a(83),h=a.n(p),m=a(39),O=(a(49),a(0));e.default=function(){var e=Object(i.useState)(\"\"),a=Object(s.a)(e,2),p=a[0],f=(a[1],Object(i.useState)({data:[],links:[],meta:[]})),x=Object(s.a)(f,2),v=x[0],w=x[1],g=Object(i.useState)(1),N=Object(s.a)(g,2),A=N[0],k=N[1],I=Object(i.useState)(\"\"),E=Object(s.a)(I,2),y=E[0],C=E[1],P=t.Constants.DATA_TABLE.PAGINATION_PER_PAGE,_=Object(i.useState)(t.Constants.DATA_TABLE.PAGINATION_PER_PAGE),S=Object(s.a)(_,2),T=S[0],F=S[1],R=[{name:\"Entidad\",selector:function(t){return t.attributes.id_entidad+\" \"+t.attributes.nombre_entidad},sortable:!0,width:\"60%\"},{name:\"Fecha Registro\",selector:function(t){return t.attributes.created_at},sortable:!0,width:\"20%\"},{name:\"Estado\",selector:function(t){return\"1\"==t.attributes.estado?\"Activo\":\"Inactivo\"},sortable:!0,width:\"10%\"},{name:\"Acciones\",cell:function(t){return Object(j.e)(\"EI_EntidadesPermitidasInteresado\",\"Inactivar\")?Object(O.jsxs)(\"div\",{children:[0==t.attributes.estado?Object(O.jsx)(\"button\",{type:\"button\",title:\"Activar\",onClick:function(){return B(1,t.id)},className:\"btn btn-sm btn-success\",children:Object(O.jsx)(\"span\",{className:\"fas fa-toggle-off\",children:\" \"})}):null,1==t.attributes.estado?Object(O.jsx)(\"button\",{type:\"button\",title:\"Inacivar\",onClick:function(){return B(0,t.id)},className:\"btn btn-sm btn-danger\",children:Object(O.jsx)(\"span\",{className:\"fas fa-toggle-off\",children:\" \"})}):null]}):null},width:\"10%\"}];Object(i.useEffect)((function(){function t(){return(t=Object(r.a)(Object(n.a)().mark((function t(){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(1,P);case 1:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}window.showSpinner(!0),function(){t.apply(this,arguments)}()}),[]);var L=function(t,e){Object(j.e)(\"EI_EntidadesPermitidasInteresado\",\"Consultar\")&&m.a.getAllGeneric(\"mas-entidad-permitida\").then((function(t){t.error?(window.showSpinner(!1),window.showModal(1)):(w(t),window.showSpinner(!1))}))},D=function(){var t=Object(r.a)(Object(n.a)().mark((function t(e,a){return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(e),k(a);case 2:case\"end\":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),B=function(t,e){try{window.showSpinner(!0);var a={data:{type:\"mas_entidad_permitida\",attributes:{estado:t}}};b.a.updateInteresadoEntidadPermitida(a,e).then((function(t){t.error?window.showSpinner(!1):L(1,P)}))}catch(n){window.showSpinner(!1)}};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{}),Object(O.jsx)(o.a,{error:p}),Object(O.jsx)(d.a,{}),Object(O.jsx)(c.d,{children:Object(O.jsx)(c.c,{children:Object(O.jsxs)(\"div\",{className:\"block block-themed\",children:[Object(O.jsx)(\"div\",{className:\"block-header\",children:Object(O.jsx)(\"h3\",{className:\"block-title\",children:\"Entidades permitidas\"})}),Object(O.jsx)(\"div\",{className:\"block-content\",children:Object(O.jsx)(O.Fragment,{children:Object(j.e)(\"EI_EntidadesPermitidasInteresado\",\"Consultar\")?Object(O.jsxs)(\"div\",{children:[Object(O.jsxs)(\"div\",{className:\"row\",children:[Object(O.jsx)(\"div\",{className:\"col-md-3\",children:Object(O.jsx)(\"div\",{className:\"form-group \",children:Object(O.jsx)(c.b,{type:\"text\",id:\"search\",value:y,onChange:function(t){return C(t.target.value)},onKeyPress:function(t){\"Enter\"===t.key&&t.preventDefault()},name:\"search\",className:\"form-control border border-success\",placeholder:\"Buscar\"})})}),Object(O.jsx)(O.Fragment,{children:Object(j.e)(\"EI_EntidadesPermitidasInteresado\",\"Crear\")?Object(O.jsx)(\"div\",{className:\"col-md-9 text-right\",children:Object(O.jsx)(l.b,{to:\"/EntidadesInteresadoForm/\",children:Object(O.jsxs)(\"button\",{type:\"button\",title:\"Agregar nuevo registro\",className:\"btn btn-primary\",children:[\" \",Object(O.jsx)(\"i\",{className:\"fas fa-plus\"}),\" \"]})})}):null})]}),Object(O.jsx)(h.a,{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",columns:R,data:v.data.filter((function(t){return\"\"===y||(t.attributes.id_entidad+Object(j.f)(t.attributes.nombre_entidad)+t.attributes.created_at+(\"1\"==t.attributes.estado?\"Activo\":\"Inactivo\")).toLowerCase().includes(Object(j.f)(y.toLowerCase()))?t:void 0})),perPage:T,page:A,pagination:!0,noDataComponent:\"Sin datos\",paginationTotalRows:v.data.length,onChangePage:function(t){k(t)},onChangeRowsPerPage:D,defaultSortFieldId:\"Nombre\",striped:!0,paginationComponentOptions:{rowsPerPageText:\"Filas por p\\xe1gina\"},defaultSortAsc:!1})]}):null})})]})})})]})}}.call(this,a(31))},144:function(t,e,a){\"use strict\";var n=a(0);e.a=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(\"div\",{className:\"modal fade\",id:\"modal-block-popout-exito\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:Object(n.jsx)(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:Object(n.jsx)(\"div\",{className:\"modal-content\",children:Object(n.jsxs)(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[Object(n.jsxs)(\"div\",{className:\"block-header bg-primary-dark\",children:[Object(n.jsx)(\"h3\",{className:\"block-title\",children:\"INFORMACI\\xd3N ACTUALIZADA\"}),Object(n.jsx)(\"div\",{className:\"block-options\",children:Object(n.jsx)(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:Object(n.jsx)(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),Object(n.jsx)(\"div\",{className:\"block-content\",children:Object(n.jsx)(\"p\",{children:\"LA INFORMACI\\xd3N FUE ACTUALIZADA\"})}),Object(n.jsx)(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:Object(n.jsx)(\"button\",{type:\"button\",className:\"btn btn-rounded btn-primary\",\"data-dismiss\":\"modal\",children:\"ACEPTAR\"})})]})})})})})}},281:function(t,e,a){\"use strict\";var n=a(5),r=a(10),s=a(25),c=a.n(s),i=a(7),o=\"https://api-disciplinarios.personeriabogota.gov.co/api/v1/\",d={\"Content-Type\":\"application/vnd.api+json\",Accept:\"application/vnd.api+json\"};function l(){return(l=Object(r.a)(Object(n.a)().mark((function t(e){var a;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o+\"mas-entidad-permitida\",a=Object(i.b)(),d.Authorization=\"Bearer \".concat(a),t.next=5,c.a.post(\"https://api-disciplinarios.personeriabogota.gov.co/api/v1/mas-entidad-permitida\",e,{headers:d}).then((function(t){return t.data})).catch((function(t){return{estado:!1,error:t}}));case 5:return t.abrupt(\"return\",t.sent);case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}function b(){return(b=Object(r.a)(Object(n.a)().mark((function t(e,a){var r,s;return Object(n.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o+\"mas-entidad-permitida/ \"+a,s=Object(i.b)(),d.Authorization=\"Bearer \".concat(s),t.next=5,c.a.put(r,e,{headers:d}).then((function(t){return t.data})).catch((function(t){return{estado:!1,error:t}}));case 5:return t.abrupt(\"return\",t.sent);case 6:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}e.a={addInteresadoEntidadPermitida:function(t){return l.apply(this,arguments)},updateInteresadoEntidadPermitida:function(t,e){return b.apply(this,arguments)}}}}]);","name":"static/js/68.6582eca1.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","global","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__","formik__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__","_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","_Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_8__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__","_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__","react_data_table_component__WEBPACK_IMPORTED_MODULE_11__","react_data_table_component__WEBPACK_IMPORTED_MODULE_11___default","n","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_12__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__","_useState","Object","_useState2","errorApi","_useState3","data","links","meta","_useState4","entidadesPermitidasLista","setEntidadesPermitidasLista","_useState5","_useState6","pageActual","setPageActual","_useState7","_useState8","getSeach","setSeach","paganationPerPages","Constants","DATA_TABLE","PAGINATION_PER_PAGE","_useState9","_useState10","perPage","setPerPage","columns","name","selector","entidadPerm","attributes","id_entidad","nombre_entidad","sortable","width","created_at","estado","cell","row","children","type","title","onClick","enviarDatos","id","className","_fetchData","mark","_callee","wrap","_context","prev","next","cargarEntidadesPermitidas","stop","apply","arguments","window","showSpinner","fetchData","page","getAllGeneric","then","datos","error","showModal","handlePerRowsChange","_ref","_callee2","newPerPage","_context2","_x","_x2","updateInteresadoEntidadPermitida","value","onChange","e","target","onKeyPress","key","preventDefault","placeholder","to","a","filter","suggestion","toLowerCase","includes","pagination","noDataComponent","paginationTotalRows","length","onChangePage","onChangeRowsPerPage","defaultSortFieldId","striped","paginationComponentOptions","rowsPerPageText","defaultSortAsc","call","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","tabIndex","role","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__","baseUrl","headers","Accept","_addInteresadoEntidadPermitida","token","concat","post","response","catch","abrupt","sent","_updateInteresadoEntidadPermitida","url","put","addInteresadoEntidadPermitida","_x3"],"sources":["static/js/68.6582eca1.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[68],{\n\n/***/ 1133:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(36);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57);\n/* harmony import */ var _Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(144);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3);\n/* harmony import */ var _Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(281);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(55);\n/* harmony import */ var _components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(7);\n/* harmony import */ var react_data_table_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(83);\n/* harmony import */ var react_data_table_component__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_data_table_component__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(39);\n/* harmony import */ var _Utils_Constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(49);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__);\nfunction EntidadesInteresadoLista(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),errorApi=_useState2[0],setErrorApi=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({data:[],links:[],meta:[]}),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),entidadesPermitidasLista=_useState4[0],setEntidadesPermitidasLista=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(1),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),pageActual=_useState6[0],setPageActual=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(''),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),getSeach=_useState8[0],setSeach=_useState8[1];var paganationPerPages=global.Constants.DATA_TABLE.PAGINATION_PER_PAGE;var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(global.Constants.DATA_TABLE.PAGINATION_PER_PAGE),_useState10=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState9,2),perPage=_useState10[0],setPerPage=_useState10[1];var columns=[{name:'Entidad',selector:function selector(entidadPerm){return entidadPerm.attributes.id_entidad+\" \"+entidadPerm.attributes.nombre_entidad;},sortable:true,width:\"60%\"},{name:'Fecha Registro',selector:function selector(entidadPerm){return entidadPerm.attributes.created_at;},sortable:true,width:\"20%\"},{name:'Estado',selector:function selector(entidadPerm){return entidadPerm.attributes.estado=='1'?'Activo':'Inactivo';},sortable:true,width:\"10%\"},{name:'Acciones',cell:function cell(row){return Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* hasAccess */ \"e\"])('EI_EntidadesPermitidasInteresado','Inactivar')?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{children:[row.attributes.estado==0?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"button\",{type:\"button\",title:\"Activar\",onClick:function onClick(){return enviarDatos(1,row.id);},className:\"btn btn-sm btn-success\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"span\",{className:\"fas fa-toggle-off\",children:\" \"})}):null,row.attributes.estado==1?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"button\",{type:\"button\",title:\"Inacivar\",onClick:function onClick(){return enviarDatos(0,row.id);},className:\"btn btn-sm btn-danger\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"span\",{className:\"fas fa-toggle-off\",children:\" \"})}):null]}):null;},width:\"10%\"}];Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function(){window.showSpinner(true);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(){return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:cargarEntidadesPermitidas(1,paganationPerPages);case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var cargarEntidadesPermitidas=function cargarEntidadesPermitidas(page,perPage){if(Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* hasAccess */ \"e\"])('EI_EntidadesPermitidasInteresado','Consultar')){//GenericApi.getAllGeneric('mas-entidad-permitida/entidad-permitida-paginate' + '/' + page + '/' + perPage).then(\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_12__[/* default */ \"a\"].getAllGeneric('mas-entidad-permitida').then(function(datos){if(!datos.error){setEntidadesPermitidasLista(datos);window.showSpinner(false);}else{window.showSpinner(false);window.showModal(1);}});}};var handlePageChange=function handlePageChange(page){// window.showSpinner(true);\nsetPageActual(page);//cargarEntidadesPermitidas(page, perPage);\n};var handlePerRowsChange=/*#__PURE__*/function(){var _ref=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee2(newPerPage,page){return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0://window.showSpinner(true);\nsetPerPage(newPerPage);setPageActual(page);//cargarEntidadesPermitidas(page, newPerPage);\ncase 2:case\"end\":return _context2.stop();}}},_callee2);}));return function handlePerRowsChange(_x,_x2){return _ref.apply(this,arguments);};}();var enviarDatos=function enviarDatos(estado,id){try{//actualizamos el estado\nwindow.showSpinner(true);var data={\"data\":{\"type\":\"mas_entidad_permitida\",\"attributes\":{\"estado\":estado}}};_Api_Services_InteresadoEntidadPermitidaApi__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].updateInteresadoEntidadPermitida(data,id).then(function(datos){if(!datos.error){cargarEntidadesPermitidas(1,paganationPerPages);}else{//console.log(\"hay error\");\n// console.log(datos.error);\nwindow.showSpinner(false);}//window.showSpinner(false);\n});}catch(error){window.showSpinner(false);}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{error:errorApi}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Formik */ \"d\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Form */ \"c\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block-header\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"h3\",{className:\"block-title\",children:\"Entidades permitidas\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"block-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"Fragment\"],{children:Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* hasAccess */ \"e\"])('EI_EntidadesPermitidasInteresado','Consultar')?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"col-md-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"form-group \",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_3__[/* Field */ \"b\"],{type:\"text\",id:\"search\",value:getSeach,onChange:function onChange(e){return setSeach(e.target.value);},onKeyPress:function onKeyPress(e){e.key==='Enter'&&e.preventDefault();},name:\"search\",className:\"form-control border border-success\",placeholder:\"Buscar\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"Fragment\"],{children:Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* hasAccess */ \"e\"])('EI_EntidadesPermitidasInteresado','Crear')?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"div\",{className:\"col-md-9 text-right\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{to:\"/EntidadesInteresadoForm/\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsxs\"])(\"button\",{type:\"button\",title:\"Agregar nuevo registro\",className:\"btn btn-primary\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(\"i\",{className:\"fas fa-plus\"}),\" \"]})})}):null})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__[\"jsx\"])(react_data_table_component__WEBPACK_IMPORTED_MODULE_11___default.a,{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",columns:columns,data:entidadesPermitidasLista.data.filter(function(suggestion){if(getSeach===\"\"){return suggestion;}else if((suggestion.attributes.id_entidad+Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* quitarAcentos */ \"f\"])(suggestion.attributes.nombre_entidad)+suggestion.attributes.created_at+(suggestion.attributes.estado==\"1\"?'Activo':'Inactivo')).toLowerCase().includes(Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* quitarAcentos */ \"f\"])(getSeach.toLowerCase()))){return suggestion;}}),perPage:perPage,page:pageActual,pagination:true,noDataComponent:\"Sin datos\",paginationTotalRows:entidadesPermitidasLista.data.length,onChangePage:handlePageChange,onChangeRowsPerPage:handlePerRowsChange,defaultSortFieldId:\"Nombre\",striped:true,paginationComponentOptions:{rowsPerPageText:'Filas por página'},defaultSortAsc:false})]}):null})})]})})})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (EntidadesInteresadoLista);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(31)))\n\n/***/ }),\n\n/***/ 144:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\nfunction InfoExitoApi(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal fade\",id:\"modal-block-popout-exito\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"modal-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h3\",{className:\"block-title\",children:\"INFORMACI\\xD3N ACTUALIZADA\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-options\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-content\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"p\",{children:\"LA INFORMACI\\xD3N FUE ACTUALIZADA\"})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-rounded btn-primary\",\"data-dismiss\":\"modal\",children:\"ACEPTAR\"})})]})})})})});}/* harmony default export */ __webpack_exports__[\"a\"] = (InfoExitoApi);\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(25);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n//const baseUrl = 'http://127.0.0.1:8000/api/v1/'\nvar baseUrl=\"https://api-disciplinarios.personeriabogota.gov.co/api/v1/\";var headers={'Content-Type':'application/vnd.api+json','Accept':'application/vnd.api+json'};function addInteresadoEntidadPermitida(_x){return _addInteresadoEntidadPermitida.apply(this,arguments);}function _addInteresadoEntidadPermitida(){_addInteresadoEntidadPermitida=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(data){var url,token;return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=baseUrl+\"mas-entidad-permitida\";token=Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__[/* getToken */ \"b\"])();headers['Authorization']=\"Bearer \".concat(token);_context.next=5;return axios__WEBPACK_IMPORTED_MODULE_2___default.a.post(url,data,{headers:headers}).then(function(response){return response.data;}).catch(function(error){// console.log(error);\nreturn{estado:false,error:error};});case 5:return _context.abrupt(\"return\",_context.sent);case 6:case\"end\":return _context.stop();}}},_callee);}));return _addInteresadoEntidadPermitida.apply(this,arguments);}function updateInteresadoEntidadPermitida(_x2,_x3){return _updateInteresadoEntidadPermitida.apply(this,arguments);}function _updateInteresadoEntidadPermitida(){_updateInteresadoEntidadPermitida=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee2(data,id){var url,token;return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=baseUrl+\"mas-entidad-permitida/ \"+id;token=Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_3__[/* getToken */ \"b\"])();headers['Authorization']=\"Bearer \".concat(token);_context2.next=5;return axios__WEBPACK_IMPORTED_MODULE_2___default.a.put(url,data,{headers:headers}).then(function(response){return response.data;}).catch(function(error){// console.log(error);\nreturn{estado:false,error:error};});case 5:return _context2.abrupt(\"return\",_context2.sent);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return _updateInteresadoEntidadPermitida.apply(this,arguments);}/* harmony default export */ __webpack_exports__[\"a\"] = ({addInteresadoEntidadPermitida:addInteresadoEntidadPermitida,updateInteresadoEntidadPermitida:updateInteresadoEntidadPermitida});\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/EntidadesInteresado/EntidadesInteresadoLista.js","C:/w2d/personeria/personeria-ui/src/components/Utils/InfoExitoApi.js","C:/w2d/personeria/personeria-ui/src/components/Api/Services/InteresadoEntidadPermitidaApi.js"],"names":["EntidadesInteresadoLista","useState","errorApi","setErrorApi","data","links","meta","entidadesPermitidasLista","setEntidadesPermitidasLista","pageActual","setPageActual","getSeach","setSeach","paganationPerPages","global","Constants","DATA_TABLE","PAGINATION_PER_PAGE","perPage","setPerPage","columns","name","selector","entidadPerm","attributes","id_entidad","nombre_entidad","sortable","width","created_at","estado","cell","row","hasAccess","enviarDatos","id","useEffect","window","showSpinner","fetchData","cargarEntidadesPermitidas","page","GenericApi","getAllGeneric","then","datos","error","showModal","handlePageChange","handlePerRowsChange","newPerPage","InteresadoEntidadPermitidaApi","updateInteresadoEntidadPermitida","e","target","value","key","preventDefault","filter","suggestion","quitarAcentos","toLowerCase","includes","length","rowsPerPageText","InfoExitoApi","baseUrl","process","headers","addInteresadoEntidadPermitida","url","token","getToken","axios","post","response","catch","put"],"mappings":"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","file":"x","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport InfoExitoApi from '../Utils/InfoExitoApi';\r\nimport { Link } from \"react-router-dom\";\r\nimport InteresadoEntidadPermitidaApi from '../Api/Services/InteresadoEntidadPermitidaApi';\r\nimport Spinner from '../Utils/Spinner';\r\nimport { hasAccess } from '../../components/Utils/Common';\r\nimport DataTable from 'react-data-table-component';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\nimport '../Utils/Constants';\r\nimport { quitarAcentos } from '../Utils/Common';\r\n\r\nfunction EntidadesInteresadoLista() {\r\n\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [entidadesPermitidasLista, setEntidadesPermitidasLista] = useState({ data: [], links: [], meta: [] });\r\n    const [pageActual, setPageActual] = useState(1);\r\n    const [getSeach, setSeach] = useState('');\r\n    const paganationPerPages = global.Constants.DATA_TABLE.PAGINATION_PER_PAGE;\r\n    const [perPage, setPerPage] = useState(global.Constants.DATA_TABLE.PAGINATION_PER_PAGE);\r\n\r\n    const columns = [\r\n        {\r\n            name: 'Entidad',\r\n            selector: entidadPerm => entidadPerm.attributes.id_entidad + \" \" + entidadPerm.attributes.nombre_entidad,\r\n            sortable: true,\r\n            width: \"60%\"\r\n        },\r\n        {\r\n            name: 'Fecha Registro',\r\n            selector: entidadPerm => entidadPerm.attributes.created_at,\r\n            sortable: true,\r\n            width: \"20%\"\r\n        },\r\n        {\r\n            name: 'Estado',\r\n            selector: entidadPerm => entidadPerm.attributes.estado == '1' ? 'Activo' : 'Inactivo',\r\n            sortable: true,\r\n            width: \"10%\"\r\n        },\r\n        {\r\n            name: 'Acciones',\r\n\r\n\r\n            cell: row => (hasAccess('EI_EntidadesPermitidasInteresado', 'Inactivar')) ? (\r\n                <div>\r\n                    {\r\n                        (row.attributes.estado == 0) ? (\r\n                            <button type='button' title='Activar' onClick={() => enviarDatos(1, row.id)} className='btn btn-sm btn-success'><span className=\"fas fa-toggle-off\"> </span></button>\r\n                        ) : null\r\n                    }\r\n\r\n                    {\r\n                        (row.attributes.estado == 1) ? (\r\n                            <button type='button' title='Inacivar' onClick={() => enviarDatos(0, row.id)} className='btn btn-sm btn-danger'><span className=\"fas fa-toggle-off\"> </span></button>\r\n                        ) : null\r\n                    }\r\n                </div>\r\n            ) : null,\r\n            width: \"10%\"\r\n        }\r\n    ];\r\n\r\n\r\n    useEffect(() => {\r\n        window.showSpinner(true);\r\n        async function fetchData() {\r\n            cargarEntidadesPermitidas(1, paganationPerPages);\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    const cargarEntidadesPermitidas = (page, perPage) => {\r\n\r\n        if (hasAccess('EI_EntidadesPermitidasInteresado', 'Consultar')) {\r\n\r\n            //GenericApi.getAllGeneric('mas-entidad-permitida/entidad-permitida-paginate' + '/' + page + '/' + perPage).then(\r\n            GenericApi.getAllGeneric('mas-entidad-permitida').then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        setEntidadesPermitidasLista(datos);\r\n                        window.showSpinner(false);\r\n                    }\r\n                    else {\r\n                        window.showSpinner(false);\r\n                        window.showModal(1);\r\n\r\n                    }\r\n\r\n                }\r\n            )\r\n\r\n        }\r\n    }\r\n\r\n    const handlePageChange = page => {\r\n        // window.showSpinner(true);\r\n        setPageActual(page);\r\n        //cargarEntidadesPermitidas(page, perPage);\r\n    }\r\n\r\n    const handlePerRowsChange = async (newPerPage, page) => {\r\n        //window.showSpinner(true);\r\n        setPerPage(newPerPage);\r\n        setPageActual(page);\r\n        //cargarEntidadesPermitidas(page, newPerPage);\r\n    }\r\n\r\n\r\n    const enviarDatos = (estado, id) => {\r\n\r\n        try {\r\n\r\n\r\n            //actualizamos el estado\r\n            window.showSpinner(true);\r\n            const data = {\r\n\r\n                \"data\": {\r\n                    \"type\": \"mas_entidad_permitida\",\r\n                    \"attributes\": {\r\n                        \"estado\": estado\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            InteresadoEntidadPermitidaApi.updateInteresadoEntidadPermitida(data, id).then(\r\n                datos => {\r\n\r\n                    if (!datos.error) {\r\n                        cargarEntidadesPermitidas(1, paganationPerPages);\r\n                    }\r\n                    else {\r\n                        //console.log(\"hay error\");\r\n                        // console.log(datos.error);\r\n                        window.showSpinner(false)\r\n                    }\r\n                    //window.showSpinner(false);\r\n                }\r\n            )\r\n\r\n        } catch (error) {\r\n            window.showSpinner(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            {<InfoExitoApi />}\r\n            <Formik>\r\n                <Form>\r\n                    <div className=\"block block-themed\">\r\n                        <div className=\"block-header\">\r\n\r\n                            <h3 className=\"block-title\">Entidades permitidas</h3>\r\n\r\n\r\n                        </div>\r\n                        <div className=\"block-content\">\r\n\r\n                            <>\r\n                                {\r\n                                    (hasAccess('EI_EntidadesPermitidasInteresado', 'Consultar')) ? (\r\n                                        <div>\r\n                                            <div className='row'>\r\n\r\n                                                <div className='col-md-3'>\r\n                                                    <div className=\"form-group \">\r\n                                                        <Field type=\"text\" id=\"search\" value={getSeach} onChange={e => setSeach(e.target.value)} onKeyPress={(e) => { e.key === 'Enter' && e.preventDefault(); }} name=\"search\" className=\"form-control border border-success\" placeholder=\"Buscar\" />\r\n\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <>\r\n                                                    {\r\n                                                        (hasAccess('EI_EntidadesPermitidasInteresado', 'Crear')) ? (\r\n\r\n                                                            <div className='col-md-9 text-right'>\r\n                                                                <Link to={`/EntidadesInteresadoForm/`}>\r\n                                                                    <button type=\"button\" title='Agregar nuevo registro' className=\"btn btn-primary\"> <i className=\"fas fa-plus\"></i> </button>\r\n                                                                </Link>\r\n\r\n                                                            </div>\r\n                                                        ) : null\r\n                                                    }\r\n                                                </>\r\n                                            </div>\r\n\r\n\r\n                                            <DataTable className=\"table table-bordered table-striped table-vcenter js-dataTable-full\"\r\n                                                columns={columns}\r\n\r\n                                                data={entidadesPermitidasLista.data.filter((suggestion) => {\r\n                                                    if (getSeach === \"\") {\r\n                                                        return suggestion;\r\n                                                    } else if (\r\n                                                        ((suggestion.attributes.id_entidad\r\n                                                            + quitarAcentos(suggestion.attributes.nombre_entidad)\r\n                                                            + (suggestion.attributes.created_at)\r\n                                                            + (suggestion.attributes.estado == \"1\" ? 'Activo' : 'Inactivo')).toLowerCase().includes(quitarAcentos(getSeach.toLowerCase())))\r\n\r\n                                                    ) {\r\n                                                        return suggestion;\r\n                                                    }\r\n                                                })}\r\n\r\n                                                perPage={perPage}\r\n                                                page={pageActual}\r\n                                                pagination\r\n                                                noDataComponent=\"Sin datos\"\r\n                                                paginationTotalRows={entidadesPermitidasLista.data.length}\r\n                                                onChangePage={handlePageChange}\r\n                                                onChangeRowsPerPage={handlePerRowsChange}\r\n                                                defaultSortFieldId=\"Nombre\"\r\n                                                striped\r\n                                                paginationComponentOptions={{ rowsPerPageText: 'Filas por página' }}\r\n                                                defaultSortAsc={false}\r\n                                            />\r\n\r\n                                        </div>\r\n\r\n                                    ) : null\r\n                                }\r\n                            </>\r\n                        </div>\r\n                    </div>\r\n                </Form>\r\n            </Formik>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default EntidadesInteresadoLista;","function InfoExitoApi() {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal fade\" id=\"modal-block-popout-exito\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-dialog-popout\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"block block-themed block-transparent mb-0\">\r\n                            <div className=\"block-header bg-primary-dark\">\r\n                                <h3 className=\"block-title\">INFORMACIÓN ACTUALIZADA</h3>\r\n                                <div className=\"block-options\">\r\n                                    <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i className=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <p>LA INFORMACIÓN FUE ACTUALIZADA</p>\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                <button type=\"button\" className=\"btn btn-rounded btn-primary\" data-dismiss=\"modal\">ACEPTAR</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default InfoExitoApi;\r\n","import axios from 'axios'\r\nimport { getToken, getUser, removeUserSession, setUserSession } from '../../../components/Utils/Common';\r\n//const baseUrl = 'http://127.0.0.1:8000/api/v1/'\r\nconst baseUrl = process.env.REACT_APP_API_URL;\r\n\r\n\r\nconst headers = {\r\n    'Content-Type': 'application/vnd.api+json',\r\n    'Accept': 'application/vnd.api+json'\r\n}\r\n\r\n\r\n\r\n\r\nasync function addInteresadoEntidadPermitida(data) {\r\n\r\n    const url = baseUrl + \"mas-entidad-permitida\";\r\n    const token = getToken();\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n\r\n    return await axios.post(url, data, {\r\n        headers: headers\r\n    })\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            // console.log(error);\r\n            return { estado: false, error: error }\r\n        });\r\n}\r\n\r\nasync function updateInteresadoEntidadPermitida(data, id) {\r\n\r\n    const url = baseUrl + \"mas-entidad-permitida/ \" + id;\r\n    const token = getToken();\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n\r\n    return await axios.put(url, data, {\r\n        headers: headers\r\n    })\r\n        .then(response => {\r\n            return response.data;\r\n        })\r\n        .catch(error => {\r\n            // console.log(error);\r\n            return { estado: false, error: error }\r\n        });\r\n}\r\n\r\n\r\nexport default { addInteresadoEntidadPermitida, updateInteresadoEntidadPermitida }\r\n"]}}