{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[177],{1223:function(e,t,a){\"use strict\";a.r(t),function(e){var s=a(5),c=a(10),r=a(6),i=a(1),n=a(55),o=a(56),l=a(36),d=a(3),b=a(39),u=a(4),j=a(7),m=a(0);t.default=function(){var t=Object(i.useState)({title:\"\",message:\"\",show:!1}),a=Object(r.a)(t,2),O=a[0],p=a[1],h=Object(i.useState)({data:[],links:[],meta:[]}),x=Object(r.a)(h,2),f=x[0],A=x[1],N=Object(i.useState)(),v=Object(r.a)(N,2),g=v[0],I=v[1],S=Object(i.useState)(),C=Object(r.a)(S,2),E=C[0],_=C[1],w=Object(i.useState)({data:{}}),R=Object(r.a)(w,2),T=R[0],U=R[1],k=Object(u.k)().state,M=k.from,F=k.selected_id_etapa,L=k.id,y=k.nombre,P=k.estadoActualActuacion,D=k.titulo,G=(k.valor,k.solicitante,k.tipoActuacion),J=k.actuacionIdMaestra,z=Object(i.useState)(\"\"),V=Object(r.a)(z,2),X=V[0],B=V[1],q=Object(i.useState)({ver_detalle:\"/ActuacionesVer/\"+M.procesoDisciplinarioId+\"/\"+F+\"/1\"}),H=Object(r.a)(q,2),K=H[0];H[1],Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(Object(s.a)().mark((function e(){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q();case 1:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var Q=function(){window.showSpinner(!0),b.a.getByIdGeneric(\"nombre-proceso\",M.procesoDisciplinarioId).then((function(e){e.error||(B(e.data.attributes.nombre),W())}))},W=function(){var t=Object(j.c)().id_dependencia;b.a.getByIdGeneric(\"usuario/get-todos-usuarios-dependencia\",t).then((function(t){t.error?p({title:X.toUpperCase()+\" :: AGREGAR USUARIOS FIRMA MECANICA\",message:t.error.toString(),show:!0,redirect:\"/Transacciones\",from:{from:M},alert:e.Constants.TIPO_ALERTA.ERROR}):A(t),Y()}))},Y=function(){b.a.getGeneric(\"mas-tipo-firma\").then((function(e){window.showSpinner(!1),e.error||U(e)}))},Z=function(e){I(e.target.value)},$=function(e){_(e.target.value)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(n.a,{}),Object(m.jsx)(o.a,{data:O}),Object(m.jsx)(l.d,{initialValues:{},enableReinitialize:!0,validate:function(e){},onSubmit:function(t,a){a.resetForm;!function(t){window.showSpinner(!0);var a={data:{type:\"Agregar Usuario\",attributes:{id_actuacion:L,id_user:g,tipo_firma:E,uuid_proceso_disciplinario:M.procesoDisciplinarioId}}},s=X+\" :: Agregar usuario para firma\";e.Constants.MENSAJES_MODAL.EXITOSO,b.a.addGeneric(\"actuaciones/agregar-usuario-para-firma-mecanica\",a).then((function(t){window.showSpinner(!1),!t.error&&t.data?p({title:s.toUpperCase(),message:e.Constants.MENSAJES_MODAL.EXITOSO,show:!0,redirect:\"/ActuacionesVer/\"+L+\"/\"+F+\"/1\",from:{from:M,selected_id_etapa:F,id:L,nombre:y,estadoActualActuacion:P,tipoActuacion:G,actuacionIdMaestra:J},alert:e.Constants.TIPO_ALERTA.EXITO}):p({title:s.toUpperCase(),message:\"REGISTRO FALLIDO: \"+t.toUpperCase(),show:!0,alert:e.Constants.TIPO_ALERTA.ERROR})}))}()},children:function(e){var t=e.errors;return Object(m.jsxs)(l.c,{children:[Object(m.jsx)(\"div\",{className:\"w2d_block let\",children:Object(m.jsx)(\"nav\",{\"aria-label\":\"breadcrumb\",children:Object(m.jsxs)(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(d.b,{underline:\"hover\",className:\"text-dark\",to:\"/MisPendientes\",children:Object(m.jsx)(\"small\",{children:\"Mis Pendientes\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(d.b,{underline:\"hover\",className:\"text-dark\",to:\"/RamasProceso/\",children:Object(m.jsx)(\"small\",{children:\"Ramas del proceso\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(d.b,{underline:\"hover\",className:\"text-dark\",to:\"/ActuacionesLista/\",state:{from:M,selected_id_etapa:F},children:Object(m.jsx)(\"small\",{children:\"Actuaciones\"})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsx)(d.b,{underline:\"hover\",className:\"text-dark\",to:K.ver_detalle,state:{from:M,selected_id_etapa:F,id:L,nombre:y,estadoActualActuacion:P},children:Object(m.jsxs)(\"small\",{children:[\"Actuaci\\xf3n \",y]})})]}),Object(m.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(m.jsxs)(\"small\",{children:[0==G?\"Actuaciones\":1==G?\"Impedimentos\":\"Comisorio\",\" Aprobar/Rechazar\"]})]})]})})}),Object(m.jsxs)(\"div\",{className:\"block block-themed\",children:[Object(m.jsx)(\"div\",{className:\"block-header\",children:Object(m.jsxs)(\"h3\",{className:\"block-title\",children:[X.toUpperCase(),\" :: \",0==G?\"ACTUACI\\xd3N\":1==G?\"IMPEDIMENTO\":\"COMISORIO\",\" :: \",D.toUpperCase(),\" \"]})}),Object(m.jsxs)(\"div\",{className:\"block-content\",children:[Object(m.jsxs)(\"div\",{className:\"row\",children:[Object(m.jsx)(\"div\",{className:\"col-md-12\",children:Object(m.jsx)(\"div\",{className:\"alert alert-warning\",role:\"alert\",children:\"El usuario agregado recibir\\xe1 una notificaci\\xf3n por correo para que pueda revisar y firmar el documento\".toUpperCase()})}),Object(m.jsx)(\"div\",{className:\"col-md-12\",children:Object(m.jsxs)(\"div\",{className:\"form-group\",children:[Object(m.jsxs)(\"label\",{htmlFor:\"listarUsuarios\",children:[\"LISTA DE USUARIOS \",Object(m.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(m.jsxs)(l.b,{as:\"select\",className:\"form-control\",id:\"listarUsuarios\",name:\"listarUsuarios\",value:g,onChange:Z,children:[Object(m.jsx)(\"option\",{value:\"\",children:\"SELECCIONA\"}),f.data.length>0?f.data.map((function(e,t){if(1==e.attributes.estado)return Object(m.jsx)(\"option\",{value:e.id,children:e.attributes.nombre+\" \"+e.attributes.apellido+\" (\"+e.attributes.name+\")\"},e.id)})):null]}),Object(m.jsx)(l.a,{name:\"listarUsuarios\",component:function(){return Object(m.jsx)(\"span\",{className:\"text-danger\",children:t.listarUsuarios})}})]})}),Object(m.jsx)(\"div\",{className:\"col-md-12\",children:Object(m.jsxs)(\"div\",{className:\"form-group\",children:[Object(m.jsxs)(\"label\",{htmlFor:\"listarTipoFirma\",children:[\"TIPO FIRMA \",Object(m.jsx)(\"span\",{className:\"text-danger\",children:\"*\"})]}),Object(m.jsxs)(l.b,{as:\"select\",className:\"form-control\",id:\"listarTipoFirma\",name:\"listarTipoFirma\",value:E,onChange:$,children:[Object(m.jsx)(\"option\",{value:\"\",children:\"SELECCIONA\"}),T.data.length>=1?T.data.map((function(e,t){if(1==e.attributes.estado)return Object(m.jsx)(\"option\",{value:e.id,children:e.attributes.nombre},e.id)})):null]}),Object(m.jsx)(l.a,{name:\"listarTipoFirma\",component:function(){return Object(m.jsx)(\"span\",{className:\"text-danger\",children:t.listarTipoFirma})}})]})})]}),Object(m.jsxs)(\"div\",{className:\"block-content block-content-full text-right\",children:[Object(m.jsx)(\"button\",{type:\"submit\",className:\"btn btn-rounded btn-primary\",children:\"ACEPTAR\"}),Object(m.jsx)(d.b,{to:K.ver_detalle,state:{from:M,selected_id_etapa:F,id:L,nombre:y,estadoActualActuacion:P,tipoActuacion:G,actuacionIdMaestra:J},className:\"font-size-h5 font-w600\",children:Object(m.jsx)(\"button\",{type:\"button\",className:\"btn btn-rounded btn-outline-primary\",children:\"CANCELAR\"})})]})]})]})]})}})]})}}.call(this,a(31))}}]);","name":"static/js/177.b472bc04.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","global","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_4__","_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__","formik__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__","_useState","Object","title","message","show","_useState2","getModalState","setModalState","_useState3","data","links","meta","_useState4","getListaUsuarios","setListaUsuarios","_useState5","_useState6","getUsuarioSeleccionado","setUsuarioSeleccionado","_useState7","_useState8","getTipoFirmaSeleccionada","setTipoFirmaSeleccionada","_useState9","_useState10","getTipoFirmas","setTipoFirmas","_location$state","state","from","selected_id_etapa","id","nombre","estadoActualActuacion","titulo","tipoActuacion","valor","solicitante","actuacionIdMaestra","_useState11","_useState12","getNombreProceso","setNombreProceso","_useState13","ver_detalle","procesoDisciplinarioId","_useState14","getRoutes","_fetchData","mark","_callee","wrap","_context","prev","next","nombreProceso","stop","apply","arguments","fetchData","window","showSpinner","getByIdGeneric","then","datos","error","attributes","cargarUsuariosDependencia","iduserdependencia","id_dependencia","toUpperCase","toString","redirect","alert","Constants","TIPO_ALERTA","ERROR","allFirmas","getGeneric","selectChangelistarUsuarios","e","target","value","selectChangeTipoFirma","children","initialValues","enableReinitialize","validate","valores","onSubmit","_ref","resetForm","type","id_actuacion","id_user","tipo_firma","uuid_proceso_disciplinario","tituloModal","MENSAJES_MODAL","EXITOSO","addGeneric","EXITO","enviarDatos","_ref2","errors","className","underline","to","role","htmlFor","as","name","onChange","length","map","u","i","estado","apellido","component","listarUsuarios","firma","listarTipoFirma","call"],"sources":["static/js/177.b472bc04.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[177],{\n\n/***/ 1223:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(55);\n/* harmony import */ var _Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(56);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(36);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(3);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(39);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(4);\n/* harmony import */ var _components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(7);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__);\nfunction AgregarUsuarioParaFirmaMecanica(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({title:\"\",message:\"\",show:false}),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),getModalState=_useState2[0],setModalState=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({data:[],links:[],meta:[]}),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),getListaUsuarios=_useState4[0],setListaUsuarios=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),getUsuarioSeleccionado=_useState6[0],setUsuarioSeleccionado=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),getTipoFirmaSeleccionada=_useState8[0],setTipoFirmaSeleccionada=_useState8[1];var _useState9=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({data:{}}),_useState10=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState9,2),getTipoFirmas=_useState10[0],setTipoFirmas=_useState10[1];var location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_9__[/* useLocation */ \"k\"])();var _location$state=location.state,from=_location$state.from,selected_id_etapa=_location$state.selected_id_etapa,id=_location$state.id,nombre=_location$state.nombre,estadoActualActuacion=_location$state.estadoActualActuacion,titulo=_location$state.titulo,valor=_location$state.valor,solicitante=_location$state.solicitante,tipoActuacion=_location$state.tipoActuacion,actuacionIdMaestra=_location$state.actuacionIdMaestra;var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),_useState12=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState11,2),getNombreProceso=_useState12[0],setNombreProceso=_useState12[1];var _useState13=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({ver_detalle:\"/ActuacionesVer/\"+from.procesoDisciplinarioId+\"/\"+selected_id_etapa+\"/1\"}),_useState14=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState13,2),getRoutes=_useState14[0],setRoutes=_useState14[1];var mensajeTituloPantalla=\"El usuario agregado recibirá una notificación por correo para que pueda revisar y firmar el documento\";Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function(){// Metodo principal\nfunction fetchData(){return _fetchData.apply(this,arguments);}// Metodo principal\nfunction _fetchData(){_fetchData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(){return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// Se carga el nombre del proceso\nnombreProceso();case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var nombreProceso=function nombreProceso(){// Se quita el cargando\nwindow.showSpinner(true);// Se inicializa la API\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].getByIdGeneric(\"nombre-proceso\",from.procesoDisciplinarioId).then(// Se inicializa la variable de respuesta\nfunction(datos){// Se valida que no haya error\nif(!datos.error){// Se setea los datos\nsetNombreProceso(datos.data.attributes.nombre);// Se llama el metodo\ncargarUsuariosDependencia();}});};var cargarUsuariosDependencia=function cargarUsuariosDependencia(){// Se captura el id de la dependencia del usuario\nvar iduserdependencia=Object(_components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__[/* getUser */ \"c\"])().id_dependencia;// Se consume la API\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].getByIdGeneric(\"usuario/get-todos-usuarios-dependencia\",iduserdependencia).then(// Se inicializa la variable de respuesta\nfunction(datos){// Se valida que no haya error\nif(!datos.error){// Se setea la lista de usuarios\nsetListaUsuarios(datos);}else{// Se setea el modal\nsetModalState({title:getNombreProceso.toUpperCase()+\" :: AGREGAR USUARIOS FIRMA MECANICA\",message:datos.error.toString(),show:true,redirect:'/Transacciones',from:{from:from},alert:global.Constants.TIPO_ALERTA.ERROR});}// Se carga el metodo de los tipos de firma\nallFirmas();});};// Metodo encargado de traer la lista de tipos de firmas\nvar allFirmas=function allFirmas(){// Se inicializa la API\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].getGeneric('mas-tipo-firma').then(// Se inicializa la variable de respuesta\nfunction(datos){// Se quita el cargando\nwindow.showSpinner(false);// Se valida que no haya error\nif(!datos.error){// Se setea la lista a la constante\nsetTipoFirmas(datos);}});};// Metodo encargado de enviar los valores al backend\nvar enviarDatos=function enviarDatos(valores){// Se usa el cargando\nwindow.showSpinner(true);// Se inicializa el array con la informacion\nvar data={\"data\":{\"type\":\"Agregar Usuario\",\"attributes\":{\"id_actuacion\":id,\"id_user\":getUsuarioSeleccionado,\"tipo_firma\":getTipoFirmaSeleccionada,\"uuid_proceso_disciplinario\":from.procesoDisciplinarioId}}};// Se inicializa la variable del titulo y mensaje del modal\nvar tituloModal=getNombreProceso+\" :: Agregar usuario para firma\";var mensajeModal=global.Constants.MENSAJES_MODAL.EXITOSO;// Se inicializa la API con su data\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"].addGeneric(\"actuaciones/agregar-usuario-para-firma-mecanica\",data).then(// Se inicializa la variable de respuesta\nfunction(datos){// Se quita el cargando\nwindow.showSpinner(false);// Se valida que no haya error\nif(!datos.error&&datos.data){// Se muestra el show modal en caso de exito\nsetModalState({title:tituloModal.toUpperCase(),message:global.Constants.MENSAJES_MODAL.EXITOSO,show:true,redirect:\"/ActuacionesVer/\"+id+\"/\"+selected_id_etapa+\"/1\",from:{from:from,selected_id_etapa:selected_id_etapa,id:id,nombre:nombre,estadoActualActuacion:estadoActualActuacion,tipoActuacion:tipoActuacion,actuacionIdMaestra:actuacionIdMaestra},alert:global.Constants.TIPO_ALERTA.EXITO});}else{// Se muestra el show modal en caso de error\nsetModalState({title:tituloModal.toUpperCase(),message:'REGISTRO FALLIDO: '+datos.toUpperCase(),show:true,alert:global.Constants.TIPO_ALERTA.ERROR});}});};// Metodo encargado de asignar el valor del usuario seleccionado\nvar selectChangelistarUsuarios=function selectChangelistarUsuarios(e){// Se setea el valor enviado por parametros\nsetUsuarioSeleccionado(e.target.value);};// Metodo encargado de asignar el valor del tipo de firma seleccionada\nvar selectChangeTipoFirma=function selectChangeTipoFirma(e){// Se setea el valor enviado por parametros\nsetTipoFirmaSeleccionada(e.target.value);};// Metodo encargado de listar los usuarios\nvar selectUsuario=function selectUsuario(){// Se retorna\nreturn(// Se recorre el array de firmas\ngetListaUsuarios.data.map(function(u,i){// Se valida que el estado este activo\nif(u.attributes.estado==1){// Se retorna el valor\nreturn/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"option\",{value:u.id,children:u.attributes.nombre+\" \"+u.attributes.apellido+\" (\"+u.attributes.name+\")\"},u.id);}}));};// Metodo encargado de listar los tipos de firma\nvar selectTipoFirmas=function selectTipoFirmas(){// Se retorna\nreturn(// Se recorre el array de firmas\ngetTipoFirmas.data.map(function(firma,i){// Se valida que el estado este activo\nif(firma.attributes.estado==1){// Se retorna el valor\nreturn/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"option\",{value:firma.id,children:firma.attributes.nombre},firma.id);}}));};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{data:getModalState}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* Formik */ \"d\"],{initialValues:{},enableReinitialize:true,validate:function validate(valores){},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;enviarDatos(valores);},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* Form */ \"c\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"w2d_block let\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/MisPendientes\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"small\",{children:\"Mis Pendientes\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/RamasProceso/\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"small\",{children:\"Ramas del proceso\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:\"/ActuacionesLista/\",state:{from:from,selected_id_etapa:selected_id_etapa},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"small\",{children:\"Actuaciones\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:getRoutes.ver_detalle,state:{from:from,selected_id_etapa:selected_id_etapa,id:id,nombre:nombre,estadoActualActuacion:estadoActualActuacion},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"small\",{children:[\"Actuaci\\xF3n \",nombre]})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"small\",{children:[tipoActuacion==0?\"Actuaciones\":tipoActuacion==1?'Impedimentos':'Comisorio',\" Aprobar/Rechazar\"]})]})]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"block-header\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"h3\",{className:\"block-title\",children:[getNombreProceso.toUpperCase(),\" :: \",tipoActuacion==0?\"ACTUACIÓN\":tipoActuacion==1?'IMPEDIMENTO':'COMISORIO',\" :: \",titulo.toUpperCase(),\" \"]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"block-content\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"alert alert-warning\",role:\"alert\",children:mensajeTituloPantalla.toUpperCase()})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"label\",{htmlFor:\"listarUsuarios\",children:[\"LISTA DE USUARIOS \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* Field */ \"b\"],{as:\"select\",className:\"form-control\",id:\"listarUsuarios\",name:\"listarUsuarios\",value:getUsuarioSeleccionado,onChange:selectChangelistarUsuarios,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"option\",{value:\"\",children:\"SELECCIONA\"}),getListaUsuarios.data.length>0?selectUsuario():null]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* ErrorMessage */ \"a\"],{name:\"listarUsuarios\",component:function component(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"span\",{className:\"text-danger\",children:errors.listarUsuarios});}})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"label\",{htmlFor:\"listarTipoFirma\",children:[\"TIPO FIRMA \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* Field */ \"b\"],{as:\"select\",className:\"form-control\",id:\"listarTipoFirma\",name:\"listarTipoFirma\",value:getTipoFirmaSeleccionada,onChange:selectChangeTipoFirma,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"option\",{value:\"\",children:\"SELECCIONA\"}),getTipoFirmas.data.length>=1?selectTipoFirmas():null]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_6__[/* ErrorMessage */ \"a\"],{name:\"listarTipoFirma\",component:function component(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"span\",{className:\"text-danger\",children:errors.listarTipoFirma});}})]})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsxs\"])(\"div\",{className:\"block-content block-content-full text-right\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn btn-rounded btn-primary\",children:\"ACEPTAR\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_7__[/* Link */ \"b\"],{to:getRoutes.ver_detalle,state:{from:from,selected_id_etapa:selected_id_etapa,id:id,nombre:nombre,estadoActualActuacion:estadoActualActuacion,tipoActuacion:tipoActuacion,actuacionIdMaestra:actuacionIdMaestra},className:\"font-size-h5 font-w600\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_11__[\"jsx\"])(\"button\",{type:\"button\",className:\"btn btn-rounded btn-outline-primary\",children:\"CANCELAR\"})})]})]})]})]});}})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (AgregarUsuarioParaFirmaMecanica);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(31)))\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/Actuaciones/AgregarUsuarioParaFirmaMecanica.js"],"names":["AgregarUsuarioParaFirmaMecanica","useState","title","message","show","getModalState","setModalState","data","links","meta","getListaUsuarios","setListaUsuarios","getUsuarioSeleccionado","setUsuarioSeleccionado","getTipoFirmaSeleccionada","setTipoFirmaSeleccionada","getTipoFirmas","setTipoFirmas","location","useLocation","state","from","selected_id_etapa","id","nombre","estadoActualActuacion","titulo","valor","solicitante","tipoActuacion","actuacionIdMaestra","getNombreProceso","setNombreProceso","ver_detalle","procesoDisciplinarioId","getRoutes","setRoutes","mensajeTituloPantalla","useEffect","fetchData","nombreProceso","window","showSpinner","GenericApi","getByIdGeneric","then","datos","error","attributes","cargarUsuariosDependencia","iduserdependencia","getUser","id_dependencia","toUpperCase","toString","redirect","alert","global","Constants","TIPO_ALERTA","ERROR","allFirmas","getGeneric","enviarDatos","valores","tituloModal","mensajeModal","MENSAJES_MODAL","EXITOSO","addGeneric","EXITO","selectChangelistarUsuarios","e","target","value","selectChangeTipoFirma","selectUsuario","map","u","i","estado","apellido","name","selectTipoFirmas","firma","resetForm","errors","length","listarUsuarios","listarTipoFirma"],"mappings":"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","file":"x","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Spinner from '../../Utils/Spinner';\r\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport { Link } from \"react-router-dom\";\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { getUser } from '../../../components/Utils/Common';\r\n\r\nfunction AgregarUsuarioParaFirmaMecanica() {\r\n\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n    const [getListaUsuarios, setListaUsuarios] = useState({ data: [], links: [], meta: [] });\r\n    const [getUsuarioSeleccionado, setUsuarioSeleccionado] = useState();\r\n    const [getTipoFirmaSeleccionada, setTipoFirmaSeleccionada] = useState();\r\n    const [getTipoFirmas, setTipoFirmas] = useState({ data: {} });\r\n    const location = useLocation()\r\n    const { from, selected_id_etapa, id, nombre, estadoActualActuacion, titulo, valor, solicitante, tipoActuacion, actuacionIdMaestra } = location.state;\r\n    const [getNombreProceso, setNombreProceso] = useState('');\r\n\r\n    const [getRoutes, setRoutes] = useState({\r\n        ver_detalle: \"/ActuacionesVer/\" + from.procesoDisciplinarioId + \"/\" + selected_id_etapa + \"/1\"\r\n    });\r\n\r\n    const mensajeTituloPantalla = \"El usuario agregado recibirá una notificación por correo para que pueda revisar y firmar el documento\";\r\n\r\n    useEffect(() => {\r\n\r\n        // Metodo principal\r\n        async function fetchData() {\r\n\r\n            // Se carga el nombre del proceso\r\n            nombreProceso();\r\n        }\r\n\r\n        // Metodo principal\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    const nombreProceso = () => {\r\n\r\n        // Se quita el cargando\r\n        window.showSpinner(true);\r\n\r\n        // Se inicializa la API\r\n        GenericApi.getByIdGeneric(\"nombre-proceso\", from.procesoDisciplinarioId).then(\r\n\r\n            // Se inicializa la variable de respuesta\r\n            datos => {\r\n\r\n                // Se valida que no haya error\r\n                if (!datos.error) {\r\n\r\n                    // Se setea los datos\r\n                    setNombreProceso(datos.data.attributes.nombre);\r\n\r\n                    // Se llama el metodo\r\n                    cargarUsuariosDependencia();\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const cargarUsuariosDependencia = () => {\r\n\r\n        // Se captura el id de la dependencia del usuario\r\n        const iduserdependencia = getUser().id_dependencia;\r\n\r\n        // Se consume la API\r\n        GenericApi.getByIdGeneric(\"usuario/get-todos-usuarios-dependencia\", iduserdependencia).then(\r\n\r\n            // Se inicializa la variable de respuesta\r\n            datos => {\r\n\r\n                // Se valida que no haya error\r\n                if (!datos.error) {\r\n\r\n                    // Se setea la lista de usuarios\r\n                    setListaUsuarios(datos);\r\n                } else {\r\n\r\n                    // Se setea el modal\r\n                    setModalState({ title: getNombreProceso.toUpperCase() + \" :: AGREGAR USUARIOS FIRMA MECANICA\", message: datos.error.toString(), show: true, redirect: '/Transacciones', from: { from }, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n\r\n                // Se carga el metodo de los tipos de firma\r\n                allFirmas();\r\n            }\r\n        );\r\n    }\r\n\r\n    // Metodo encargado de traer la lista de tipos de firmas\r\n    const allFirmas = () => {\r\n\r\n        // Se inicializa la API\r\n        GenericApi.getGeneric('mas-tipo-firma').then(\r\n\r\n            // Se inicializa la variable de respuesta\r\n            datos => {\r\n\r\n                // Se quita el cargando\r\n                window.showSpinner(false);\r\n\r\n                // Se valida que no haya error\r\n                if (!datos.error) {\r\n\r\n                    // Se setea la lista a la constante\r\n                    setTipoFirmas(datos);\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    // Metodo encargado de enviar los valores al backend\r\n    const enviarDatos = (valores) => {\r\n\r\n        // Se usa el cargando\r\n        window.showSpinner(true);\r\n\r\n        // Se inicializa el array con la informacion\r\n        let data = {\r\n            \"data\": {\r\n                \"type\": \"Agregar Usuario\",\r\n                \"attributes\": {\r\n                    \"id_actuacion\": id,\r\n                    \"id_user\": getUsuarioSeleccionado,\r\n                    \"tipo_firma\": getTipoFirmaSeleccionada,\r\n                    \"uuid_proceso_disciplinario\": from.procesoDisciplinarioId\r\n                }\r\n            }\r\n        }\r\n\r\n        // Se inicializa la variable del titulo y mensaje del modal\r\n        const tituloModal = getNombreProceso + \" :: Agregar usuario para firma\";\r\n        const mensajeModal = global.Constants.MENSAJES_MODAL.EXITOSO;\r\n\r\n        // Se inicializa la API con su data\r\n        GenericApi.addGeneric(\"actuaciones/agregar-usuario-para-firma-mecanica\", data).then(\r\n\r\n            // Se inicializa la variable de respuesta\r\n            datos => {\r\n\r\n                // Se quita el cargando\r\n                window.showSpinner(false);\r\n\r\n                // Se valida que no haya error\r\n                if (!datos.error && datos.data) {\r\n\r\n                    // Se muestra el show modal en caso de exito\r\n                    setModalState(\r\n                        {\r\n                            title: tituloModal.toUpperCase(),\r\n                            message: global.Constants.MENSAJES_MODAL.EXITOSO,\r\n                            show: true, redirect: \"/ActuacionesVer/\" + id + \"/\" + selected_id_etapa + \"/1\",\r\n                            from: {\r\n                                from: from,\r\n                                selected_id_etapa: selected_id_etapa,\r\n                                id: id,\r\n                                nombre: nombre,\r\n                                estadoActualActuacion: estadoActualActuacion,\r\n                                tipoActuacion: tipoActuacion,\r\n                                actuacionIdMaestra: actuacionIdMaestra\r\n                            },\r\n                            alert: global.Constants.TIPO_ALERTA.EXITO\r\n                        });\r\n                } else {\r\n\r\n                    // Se muestra el show modal en caso de error\r\n                    setModalState({ title: tituloModal.toUpperCase(), message: 'REGISTRO FALLIDO: ' + datos.toUpperCase(), show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    // Metodo encargado de asignar el valor del usuario seleccionado\r\n    const selectChangelistarUsuarios = (e) => {\r\n\r\n        // Se setea el valor enviado por parametros\r\n        setUsuarioSeleccionado(e.target.value);\r\n    }\r\n\r\n    // Metodo encargado de asignar el valor del tipo de firma seleccionada\r\n    const selectChangeTipoFirma = (e) => {\r\n\r\n        // Se setea el valor enviado por parametros\r\n        setTipoFirmaSeleccionada(e.target.value);\r\n    }\r\n\r\n    // Metodo encargado de listar los usuarios\r\n    const selectUsuario = () => {\r\n\r\n        // Se retorna\r\n        return (\r\n\r\n            // Se recorre el array de firmas\r\n            getListaUsuarios.data.map((u, i) => {\r\n\r\n                // Se valida que el estado este activo\r\n                if (u.attributes.estado == 1) {\r\n\r\n                    // Se retorna el valor\r\n                    return (\r\n                        <option key={u.id} value={u.id}>{u.attributes.nombre + \" \" + u.attributes.apellido + \" (\" + u.attributes.name + \")\"}</option>\r\n                    );\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    // Metodo encargado de listar los tipos de firma\r\n    const selectTipoFirmas = () => {\r\n\r\n        // Se retorna\r\n        return (\r\n\r\n            // Se recorre el array de firmas\r\n            getTipoFirmas.data.map((firma, i) => {\r\n\r\n                // Se valida que el estado este activo\r\n                if (firma.attributes.estado == 1) {\r\n\r\n                    // Se retorna el valor\r\n                    return (\r\n                        <option key={firma.id} value={firma.id}>{firma.attributes.nombre}</option>\r\n                    );\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<ModalGen data={getModalState} />}\r\n            <Formik\r\n                initialValues={{\r\n\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n                {({ errors }) => (\r\n                    <Form>\r\n                        <div className=\"w2d_block let\">\r\n                            <nav aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/MisPendientes`}><small>Mis Pendientes</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/RamasProceso/`}><small>Ramas del proceso</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/ActuacionesLista/`} state={{ from: from, selected_id_etapa: selected_id_etapa }}><small>Actuaciones</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={getRoutes.ver_detalle} state={{ from: from, selected_id_etapa: selected_id_etapa, id: id, nombre: nombre, estadoActualActuacion: estadoActualActuacion }}><small>Actuación {nombre}</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <small>{tipoActuacion == 0 ? \"Actuaciones\" : (tipoActuacion == 1 ? 'Impedimentos' : 'Comisorio')} Aprobar/Rechazar</small></li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n                        <div className=\"block block-themed\">\r\n                            <div className=\"block-header\">\r\n                                <h3 className=\"block-title\">{getNombreProceso.toUpperCase()} :: {tipoActuacion == 0 ? \"ACTUACIÓN\" : (tipoActuacion == 1 ? 'IMPEDIMENTO' : 'COMISORIO')} :: {titulo.toUpperCase()} </h3>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"alert alert-warning\" role=\"alert\">\r\n                                            {mensajeTituloPantalla.toUpperCase()}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"listarUsuarios\">LISTA DE USUARIOS <span className=\"text-danger\">*</span></label>\r\n                                            <Field as=\"select\" className=\"form-control\" id=\"listarUsuarios\" name=\"listarUsuarios\" value={getUsuarioSeleccionado} onChange={selectChangelistarUsuarios}>\r\n                                                <option value=\"\">SELECCIONA</option>\r\n                                                {getListaUsuarios.data.length > 0 ? selectUsuario() : null}\r\n                                            </Field>\r\n                                            <ErrorMessage name=\"listarUsuarios\" component={() => (<span className=\"text-danger\">{errors.listarUsuarios}</span>)} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"listarTipoFirma\">TIPO FIRMA <span className=\"text-danger\">*</span></label>\r\n                                            <Field as=\"select\" className=\"form-control\" id=\"listarTipoFirma\" name=\"listarTipoFirma\" value={getTipoFirmaSeleccionada} onChange={selectChangeTipoFirma}>\r\n                                                <option value=\"\">SELECCIONA</option>\r\n                                                {getTipoFirmas.data.length >= 1 ? selectTipoFirmas() : null}\r\n                                            </Field>\r\n                                            <ErrorMessage name=\"listarTipoFirma\" component={() => (<span className=\"text-danger\">{errors.listarTipoFirma}</span>)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"block-content block-content-full text-right\">\r\n                                    <button type=\"submit\" className=\"btn btn-rounded btn-primary\">ACEPTAR</button>\r\n                                    <Link to={getRoutes.ver_detalle} state={{ from: from, selected_id_etapa: selected_id_etapa, id: id, nombre: nombre, estadoActualActuacion: estadoActualActuacion, tipoActuacion: tipoActuacion, actuacionIdMaestra: actuacionIdMaestra }} className=\"font-size-h5 font-w600\" >\r\n                                        <button type=\"button\" className=\"btn btn-rounded btn-outline-primary\" >CANCELAR</button>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default AgregarUsuarioParaFirmaMecanica;"]}}