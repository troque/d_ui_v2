{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[52],{1177:function(e,t,r){\"use strict\";r.r(t),function(e){r.d(t,\"default\",(function(){return u}));var a=r(6),n=r(1),o=r(140),s=r(654),c=r(4),i=r(56),l=r(39),d=r(0);function u(){var t=Object(c.o)().id,r=Object(n.useState)({title:\"\",message:\"\",show:!1}),u=Object(a.a)(r,2),b=u[0],m=u[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{data:b}),Object(d.jsx)(o.a,{formName:\"parametro del sistema\",service:\"parametro\",model:s.a,successRedirect:\"/Parametro\",onSubmit:function(r){window.showSpinner(!0);var a={data:{type:\"parametro\",attributes:r}};l.a.updateGeneric(\"parametro\",t,a).then((function(t){window.showSpinner(!1),t.error?m({title:\"Error\",message:t.error?t.error.toString():\"Error actualizando el registro\",show:!0,alert:e.Constants.TIPO_ALERTA.ERROR}):m({title:\"Registro actualizado\",message:\"Registro actualizado con exito\",show:!0,redirect:\"/Parametro\",alert:e.Constants.TIPO_ALERTA.EXITO})}))}})]})}}.call(this,r(31))},140:function(e,t,r){\"use strict\";(function(e){r.d(t,\"a\",(function(){return p}));var a=r(5),n=r(10),o=r(6),s=r(1),c=r(4),i=r(3),l=r(139),d=r(141),u=(r(142),r(55)),b=r(56),m=r(39),j=r(0);function p(t){var r,p=t.formName,O=t.service,h=t.ddlServices,f=void 0===h?[]:h,v=t.ddlServicesFunction,w=void 0===v?null:v,x=t.model,N=t.onSubmit,S=void 0===N?null:N,A=t.successRedirect,I=void 0===A?\"\":A,R=Object(c.o)().id,g=Object(s.useState)(!1),T=Object(o.a)(g,2),E=T[0],k=T[1],C=Object(s.useState)({}),y=Object(o.a)(C,2),M=y[0],L=y[1],P=Object(s.useState)({}),_=Object(o.a)(P,2),B=_[0],D=_[1],G=Object(s.useState)({title:\"\",message:\"\",show:!1}),U=Object(o.a)(G,2),W=U[0],X=U[1],z=void 0==R?e.Constants.BOTON_NOMBRE.REGISTRAR:e.Constants.BOTON_NOMBRE.ACTUALIZAR;Object(s.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(n.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0==R){e.next=4;break}return e.abrupt(\"return\",m.a.getByIdGeneric(O,R).then((function(e){return D(e.data.attributes),e.error?{}:e.data.attributes})));case 4:return e.abrupt(\"return\",{});case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}window.showSpinner(!0),Object(n.a)(Object(a.a)().mark((function t(){var r,n,o,s,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:r=t.sent,n={},o=0;case 5:if(!(o<f.length)){t.next=14;break}return s=f[o],t.next=9,m.a.getAllGeneric(s).then((function(e){var t=[];return e.error||e.data.forEach((function(e){var r=\"function\"==typeof w?w(s,e):{value:e.id,label:e.attributes.nombre};t.push(r)})),t}));case 9:c=t.sent,n[s]=c;case 11:o++,t.next=5;break;case 14:J(r,n),window.showSpinner(!1);case 16:case\"end\":return t.stop()}}),t)})))()}),[]);var J=function(e,t){var a=\"function\"==typeof x?x(t):x;L(a),k(!0),void 0!=r&&Object.entries(e).forEach((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];r.setValue(a,n)}))};return Object(j.jsxs)(\"div\",{children:[Object(j.jsx)(u.a,{}),Object(j.jsx)(b.a,{data:W}),Object(j.jsx)(\"div\",{className:\"w2d_block let\",children:Object(j.jsx)(\"nav\",{\"aria-label\":\"breadcrumb\",children:Object(j.jsxs)(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[Object(j.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(j.jsx)(i.b,{underline:\"hover\",className:\"text-dark\",to:I,children:Object(j.jsxs)(\"small\",{children:[\"Lista de \",p]})})]}),Object(j.jsxs)(\"li\",{className:\"breadcrumb-item\",children:[\" \",Object(j.jsxs)(\"small\",{children:[z.toLowerCase(),\" \",p]})]})]})})}),Object(j.jsx)(\"div\",{className:\"col-md-12\",children:Object(j.jsxs)(\"div\",{className:\"block block-themed\",children:[Object(j.jsx)(\"div\",{className:\"block-header\",children:Object(j.jsxs)(\"h3\",{className:\"block-title\",children:[\"ADMINISTRACI\\xd3N :: \",p.toUpperCase()]})}),Object(j.jsxs)(\"div\",{className:\"block-content\",children:[Object(j.jsx)(\"div\",{className:\"text-right \",children:Object(j.jsx)(i.b,{to:I,children:Object(j.jsxs)(\"button\",{type:\"button\",className:\"btn btn-success\",children:[Object(j.jsx)(\"i\",{className:\"fas fa-backward\"}),\" \"]})})}),E?Object(j.jsx)(l.Autoform,{schema:M,initialValues:B,styles:d.a,submitButton:!0,submitButtonText:z,config:{arrayMode:\"table\",horizontal:!1},onSubmit:function(t){if(\"function\"!=typeof S){window.showSpinner(!0);var r={data:{type:O,attributes:t}};void 0==R?m.a.addGeneric(O,r).then((function(t){window.showSpinner(!1),t.error?X({title:\"ADMINISTRACI\\xd3N :: \"+p.toUpperCase(),message:t.error.toString(),show:!0,alert:e.Constants.TIPO_ALERTA.ERROR}):X({title:\"ADMINISTRACI\\xd3N :: \"+p.toUpperCase(),message:e.Constants.MENSAJES_MODAL.EXITOSO,show:!0,redirect:I,alert:e.Constants.TIPO_ALERTA.EXITO})})):m.a.updateGeneric(O,R,r).then((function(t){window.showSpinner(!1),t.error?X({title:\"ADMINISTRACI\\xd3N :: \"+p.toUpperCase(),message:t.error.toString(),show:!0,alert:e.Constants.TIPO_ALERTA.ERROR}):X({title:\"ADMINISTRACI\\xd3N :: \"+p.toUpperCase(),message:e.Constants.MENSAJES_MODAL.EXITOSO,show:!0,redirect:I,alert:e.Constants.TIPO_ALERTA.EXITO})}))}else S(t)},onErrors:function(e){},ref:function(e){return r=e}}):null]})]})})]})}}).call(this,r(31))},141:function(e,t,r){\"use strict\";t.a={inputBlockWrap:\"form-group\",label:\"\",input:\"form-control\",standard:\"\",errored:\"is-invalid\",inlineWrap:\"form-group\",itemHeader:\"\",button:\"btn btn-primary\",checkboxWrap:\"form-check\",radioGroupWrap:\"\",radioWrap:\"form-check\",checkboxLabel:\"form-check-label\",radioLabel:\"form-check-label\",radio:\"form-check-input\",checkbox:\"form-check-input\",error:\"w2d-invalid-feedback\",errorIcon:\"\",select:\"form-control\",table:\"table\",panel:\"card\",title:\"card-header\",content:\"card-body\",contentMargin:\"\"}},654:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return n}));var a=r(139),n=Object(a.createSchema)(\"ParametroModel\",{modulo:{type:\"string\",addInputProps:{readonly:\"readonly\"}},nombre:{type:\"string\",addInputProps:{readonly:\"readonly\"}},valor:{type:\"string\",required:!0,maxLength:255}});Object(a.setLanguageByName)(\"es\"),Object(a.addTranslations)({models:{ParametroModel:{modulo:\"Modulo\",nombre:\"Nombre parametro\",valor:\"Valor\"}}})}}]);","name":"static/js/52.c6ac76f2.chunk.js","map":{"version":3,"names":["this","push","module","__webpack_exports__","__webpack_require__","r","global","d","ParametroForm","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","_GenericForm__WEBPACK_IMPORTED_MODULE_2__","_Models_ParametroModel__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_6__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__","id","Object","_useState","title","message","show","_useState2","modalState","setModalState","children","data","formName","service","model","successRedirect","onSubmit","window","showSpinner","requestData","type","attributes","updateGeneric","then","datos","error","toString","alert","Constants","TIPO_ALERTA","ERROR","redirect","EXITO","call","GenericForm","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","react_hook_form_auto__WEBPACK_IMPORTED_MODULE_6__","_Models_Styles__WEBPACK_IMPORTED_MODULE_7__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__","_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__","props","formRef","_props$ddlServices","ddlServices","_props$ddlServicesFun","ddlServicesFunction","_props$onSubmit","_props$successRedirec","showForm","setShowForm","_useState3","_useState4","modelSchema","setModelSchema","_useState5","_useState6","initialValues","setInitialValues","_useState7","_useState8","submitButtonText","undefined","BOTON_NOMBRE","REGISTRAR","ACTUALIZAR","initialData","_initialData","apply","arguments","mark","_callee2","wrap","_context2","prev","next","abrupt","getByIdGeneric","stop","_callee","ddlData","i","element","ddlServiceData","_context","sent","length","getAllGeneric","ddlList","forEach","value","item","label","nombre","loadForm","modelDef","entries","_ref2","_ref3","key","setValue","className","underline","to","toLowerCase","toUpperCase","schema","styles","submitButton","config","arrayMode","horizontal","addGeneric","MENSAJES_MODAL","EXITOSO","onErrors","ref","e","inputBlockWrap","input","standard","errored","inlineWrap","itemHeader","button","checkboxWrap","radioGroupWrap","radioWrap","checkboxLabel","radioLabel","radio","checkbox","errorIcon","select","table","panel","content","contentMargin","ParametroModel","react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__","modulo","addInputProps","readonly","valor","required","maxLength","models"],"sources":["static/js/52.c6ac76f2.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[52],{\n\n/***/ 1177:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ParametroForm; });\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(6);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _GenericForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(140);\n/* harmony import */ var _Models_ParametroModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(654);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4);\n/* harmony import */ var _Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(56);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(39);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);\nfunction ParametroForm(){var _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useParams */ \"o\"])(),id=_useParams.id;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])({title:\"\",message:\"\",show:false}),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useState,2),modalState=_useState2[0],setModalState=_useState2[1];var submit=function submit(data){window.showSpinner(true);var requestData={\"data\":{\"type\":'parametro',\"attributes\":data}};// console.log(JSON.stringify(requestData));\n_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].updateGeneric('parametro',id,requestData).then(function(datos){window.showSpinner(false);if(!datos.error)setModalState({title:\"Registro actualizado\",message:\"Registro actualizado con exito\",show:true,redirect:'/Parametro',alert:global.Constants.TIPO_ALERTA.EXITO});else setModalState({title:\"Error\",message:datos.error?datos.error.toString():\"Error actualizando el registro\",show:true,alert:global.Constants.TIPO_ALERTA.ERROR});});};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"],{data:modalState}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_GenericForm__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"],{formName:\"parametro del sistema\",service:\"parametro\",model:_Models_ParametroModel__WEBPACK_IMPORTED_MODULE_3__[/* ParametroModel */ \"a\"],successRedirect:\"/Parametro\",onSubmit:submit})]});};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(31)))\n\n/***/ }),\n\n/***/ 140:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return GenericForm; });\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(10);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(4);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(3);\n/* harmony import */ var react_hook_form_auto__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(139);\n/* harmony import */ var react_hook_form_auto__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _Models_Styles__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(141);\n/* harmony import */ var rhfa_emergency_styles_dist_styles_css__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(142);\n/* harmony import */ var rhfa_emergency_styles_dist_styles_css__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(rhfa_emergency_styles_dist_styles_css__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(55);\n/* harmony import */ var _Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(56);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(39);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);\n//import styles from 'rhfa-emergency-styles';\nfunction GenericForm(props){var formName=props.formName,service=props.service,_props$ddlServices=props.ddlServices,ddlServices=_props$ddlServices===void 0?[]:_props$ddlServices,_props$ddlServicesFun=props.ddlServicesFunction,ddlServicesFunction=_props$ddlServicesFun===void 0?null:_props$ddlServicesFun,model=props.model,_props$onSubmit=props.onSubmit,onSubmit=_props$onSubmit===void 0?null:_props$onSubmit,_props$successRedirec=props.successRedirect,successRedirect=_props$successRedirec===void 0?'':_props$successRedirec;//const navigate = useNavigate();\nvar _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_4__[/* useParams */ \"o\"])(),id=_useParams.id;var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),showForm=_useState2[0],setShowForm=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({}),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState3,2),modelSchema=_useState4[0],setModelSchema=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({}),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState5,2),initialValues=_useState6[0],setInitialValues=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({title:\"\",message:\"\",show:false}),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState7,2),modalState=_useState8[0],setModalState=_useState8[1];var submitButtonText=id==undefined?global.Constants.BOTON_NOMBRE.REGISTRAR:global.Constants.BOTON_NOMBRE.ACTUALIZAR;var formRef;Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function(){window.showSpinner(true);function initialData(){return _initialData.apply(this,arguments);}function _initialData(){_initialData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee2(){return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(id!=undefined)){_context2.next=4;break;}return _context2.abrupt(\"return\",_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].getByIdGeneric(service,id).then(function(datos){setInitialValues(datos.data.attributes);return!datos.error?datos.data.attributes:{};}));case 4:return _context2.abrupt(\"return\",{});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return _initialData.apply(this,arguments);}Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().mark(function _callee(){var data,ddlData,i,element,ddlServiceData;return Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return initialData();case 2:data=_context.sent;ddlData={};i=0;case 5:if(!(i<ddlServices.length)){_context.next=14;break;}element=ddlServices[i];_context.next=9;return _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].getAllGeneric(element).then(function(datos){var ddlList=[];if(!datos.error){datos.data.forEach(function(value){var item=typeof ddlServicesFunction=='function'?ddlServicesFunction(element,value):{value:value.id,label:value.attributes.nombre};ddlList.push(item);});}return ddlList;});case 9:ddlServiceData=_context.sent;//console.log('END execution with result =', ddlServiceData);\nddlData[element]=ddlServiceData;case 11:i++;_context.next=5;break;case 14:loadForm(data,ddlData);window.showSpinner(false);case 16:case\"end\":return _context.stop();}}},_callee);}))();},[]);var loadForm=function loadForm(data,ddlData){//console.log(\"model type: \" + typeof model);\nvar modelDef=typeof model=='function'?model(ddlData):model;setModelSchema(modelDef);setShowForm(true);//asigna valores iniciales al formulario\n//console.log(\"asigna valores iniciales al formulario>>>>\")\nif(formRef!=undefined){Object.entries(data).forEach(function(_ref2){var _ref3=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_ref2,2),key=_ref3[0],value=_ref3[1];//console.log(key + \": \" + value);\nformRef.setValue(key,value);});}};var errors=function errors(error){// console.log('errors');\n// console.log(error);\n};var submit=function submit(data){if(typeof onSubmit=='function'){onSubmit(data);return;}window.showSpinner(true);var requestData={\"data\":{\"type\":service,\"attributes\":data}};// console.log(JSON.stringify(requestData));\nif(id==undefined){_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].addGeneric(service,requestData).then(function(datos){window.showSpinner(false);if(!datos.error)setModalState({title:\"ADMINISTRACIÓN :: \"+formName.toUpperCase(),message:global.Constants.MENSAJES_MODAL.EXITOSO,show:true,redirect:successRedirect,alert:global.Constants.TIPO_ALERTA.EXITO});else setModalState({title:\"ADMINISTRACIÓN :: \"+formName.toUpperCase(),message:datos.error.toString(),show:true,alert:global.Constants.TIPO_ALERTA.ERROR});});}else{_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"].updateGeneric(service,id,requestData).then(function(datos){window.showSpinner(false);if(!datos.error)setModalState({title:\"ADMINISTRACIÓN :: \"+formName.toUpperCase(),message:global.Constants.MENSAJES_MODAL.EXITOSO,show:true,redirect:successRedirect,alert:global.Constants.TIPO_ALERTA.EXITO});else setModalState({title:\"ADMINISTRACIÓN :: \"+formName.toUpperCase(),message:datos.error.toString(),show:true,alert:global.Constants.TIPO_ALERTA.ERROR});});}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(_Utils_Modals_ModalGeneric__WEBPACK_IMPORTED_MODULE_10__[/* default */ \"a\"],{data:modalState}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"w2d_block let\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[/* Link */ \"b\"],{underline:\"hover\",className:\"text-dark\",to:successRedirect,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"small\",{children:[\"Lista de \",formName]})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"small\",{children:[submitButtonText.toLowerCase(),\" \",formName]})]})]})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"block-header\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"h3\",{className:\"block-title\",children:[\"ADMINISTRACI\\xD3N :: \",formName.toUpperCase()]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"div\",{className:\"block-content\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"div\",{className:\"text-right \",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[/* Link */ \"b\"],{to:successRedirect,children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsxs\"])(\"button\",{type:\"button\",className:\"btn btn-success\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(\"i\",{className:\"fas fa-backward\"}),\" \"]})})}),showForm?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__[\"jsx\"])(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_6__[\"Autoform\"],{schema:modelSchema,initialValues:initialValues,styles:_Models_Styles__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],submitButton:true,submitButtonText:submitButtonText,config:{arrayMode:'table',horizontal:false},onSubmit:submit,onErrors:errors,ref:function ref(e){return formRef=e;}}):null]})]})})]});};\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(31)))\n\n/***/ }),\n\n/***/ 141:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({inputBlockWrap:'form-group',label:'',input:'form-control',standard:'',errored:'is-invalid',inlineWrap:'form-group',itemHeader:'',button:'btn btn-primary',checkboxWrap:'form-check',radioGroupWrap:'',radioWrap:'form-check',checkboxLabel:'form-check-label',radioLabel:'form-check-label',radio:'form-check-input',checkbox:'form-check-input',error:'w2d-invalid-feedback',errorIcon:'',select:'form-control',table:'table',panel:'card',title:'card-header',content:'card-body',contentMargin:''});\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ParametroModel; });\n/* harmony import */ var react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(139);\n/* harmony import */ var react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__);\nvar ParametroModel=Object(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__[\"createSchema\"])('ParametroModel',{modulo:{type:'string',addInputProps:{readonly:'readonly'}},nombre:{type:'string',addInputProps:{readonly:'readonly'}},valor:{type:'string',required:true,maxLength:255}});Object(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__[\"setLanguageByName\"])('es');Object(react_hook_form_auto__WEBPACK_IMPORTED_MODULE_0__[\"addTranslations\"])({models:{ParametroModel:{modulo:'Modulo',nombre:'Nombre parametro',valor:'Valor'}}});\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Maestras/ParametroForm.js","C:/w2d/personeria/personeria-ui/src/components/Maestras/GenericForm.js","C:/w2d/personeria/personeria-ui/src/components/Maestras/Models/Styles.js","C:/w2d/personeria/personeria-ui/src/components/Maestras/Models/ParametroModel.js"],"names":["ParametroForm","useParams","id","useState","title","message","show","modalState","setModalState","submit","data","window","showSpinner","requestData","GenericApi","updateGeneric","then","datos","error","redirect","alert","global","Constants","TIPO_ALERTA","EXITO","toString","ERROR","ParametroModel","GenericForm","props","formName","service","ddlServices","ddlServicesFunction","model","onSubmit","successRedirect","showForm","setShowForm","modelSchema","setModelSchema","initialValues","setInitialValues","submitButtonText","undefined","BOTON_NOMBRE","REGISTRAR","ACTUALIZAR","formRef","useEffect","initialData","getByIdGeneric","attributes","ddlData","i","length","element","getAllGeneric","ddlList","forEach","value","item","label","nombre","push","ddlServiceData","loadForm","modelDef","Object","entries","key","setValue","errors","addGeneric","toUpperCase","MENSAJES_MODAL","EXITOSO","toLowerCase","styles","arrayMode","horizontal","e","inputBlockWrap","input","standard","errored","inlineWrap","itemHeader","button","checkboxWrap","radioGroupWrap","radioWrap","checkboxLabel","radioLabel","radio","checkbox","errorIcon","select","table","panel","content","contentMargin","createSchema","modulo","type","addInputProps","readonly","valor","required","maxLength","setLanguageByName","addTranslations","models"],"mappings":"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","file":"x","sourcesContent":["import React, { useState } from 'react';\r\nimport GenericForm from './GenericForm';\r\nimport { ParametroModel } from './Models/ParametroModel';\r\nimport { useParams } from 'react-router-dom';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\n\r\nexport default function ParametroForm() {\r\n    const { id } = useParams();\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n    const submit = (data) => {\r\n        window.showSpinner(true);\r\n        var requestData = {\r\n            \"data\": {\r\n                \"type\": 'parametro',\r\n                \"attributes\": data,\r\n            }\r\n        }\r\n        // console.log(JSON.stringify(requestData));\r\n        GenericApi.updateGeneric('parametro', id, requestData).then(\r\n            datos => {\r\n                window.showSpinner(false);\r\n                if (!datos.error)\r\n                    setModalState({ title: \"Registro actualizado\", message: \"Registro actualizado con exito\", show: true, redirect: '/Parametro', alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                else\r\n                    setModalState({ title: \"Error\", message: (datos.error)?datos.error.toString():\"Error actualizando el registro\", show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n            }\r\n        );\r\n    }\r\n\r\n    return (<>\r\n        <ModalGen data={modalState} />\r\n        <GenericForm\r\n            formName='parametro del sistema'\r\n            service='parametro'\r\n            model={ParametroModel}\r\n            successRedirect='/Parametro'\r\n            onSubmit={submit}\r\n        />\r\n    </>\r\n    );\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { Autoform } from 'react-hook-form-auto';\r\n//import styles from 'rhfa-emergency-styles';\r\nimport styles from './Models/Styles';\r\nimport 'rhfa-emergency-styles/dist/styles.css';\r\nimport Spinner from '../Utils/Spinner';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\n\r\n\r\nexport default function GenericForm(props) {\r\n    const {\r\n        formName,\r\n        service,\r\n        ddlServices = [],\r\n        ddlServicesFunction = null,\r\n        model,\r\n        onSubmit = null,\r\n        successRedirect = ''\r\n    } = props\r\n\r\n    //const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [modelSchema, setModelSchema] = useState({});\r\n    const [initialValues, setInitialValues] = useState({});\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n    let submitButtonText = id == undefined ? global.Constants.BOTON_NOMBRE.REGISTRAR : global.Constants.BOTON_NOMBRE.ACTUALIZAR;\r\n    let formRef;\r\n\r\n    useEffect(() => {\r\n        window.showSpinner(true);\r\n\r\n        async function initialData() {\r\n\r\n            if (id != undefined) {\r\n                return GenericApi.getByIdGeneric(service, id).then(\r\n                    datos => {\r\n                        setInitialValues(datos.data.attributes);\r\n                        return !datos.error ? datos.data.attributes : {};\r\n                    }\r\n                )\r\n            }\r\n            else\r\n                return {};\r\n        }\r\n\r\n        (async function () {\r\n            var data = await initialData();\r\n            var ddlData = {};\r\n            for (var i = 0; i < ddlServices.length; i++) {\r\n                var element = ddlServices[i];\r\n                var ddlServiceData = await GenericApi.getAllGeneric(element).then(\r\n                    datos => {\r\n                        var ddlList = [];\r\n                        if (!datos.error) {\r\n                            datos.data.forEach(value => {\r\n                                let item = typeof ddlServicesFunction == 'function' ? ddlServicesFunction(element, value) : { value: value.id, label: value.attributes.nombre };\r\n                                ddlList.push(item);\r\n                            });\r\n                        }\r\n                        return ddlList;\r\n                    }\r\n                );\r\n                //console.log('END execution with result =', ddlServiceData);\r\n                ddlData[element] = ddlServiceData;\r\n            }\r\n\r\n            loadForm(data, ddlData);\r\n            window.showSpinner(false);\r\n        })();\r\n    }, []);\r\n\r\n    const loadForm = (data, ddlData) => {\r\n        //console.log(\"model type: \" + typeof model);\r\n        let modelDef = typeof model == 'function' ? model(ddlData) : model;\r\n        setModelSchema(modelDef);\r\n        setShowForm(true);\r\n\r\n        //asigna valores iniciales al formulario\r\n        //console.log(\"asigna valores iniciales al formulario>>>>\")\r\n        if (formRef != undefined) {\r\n            Object.entries(data).forEach(([key, value]) => {\r\n                //console.log(key + \": \" + value);\r\n                formRef.setValue(key, value);\r\n            });\r\n        }\r\n    }\r\n\r\n    const errors = (error) => {\r\n        // console.log('errors');\r\n        // console.log(error);\r\n    }\r\n\r\n    const submit = (data) => {\r\n\r\n        if (typeof onSubmit == 'function') {\r\n\r\n            onSubmit(data);\r\n            return;\r\n        }\r\n\r\n        window.showSpinner(true);\r\n        var requestData = {\r\n            \"data\": {\r\n                \"type\": service,\r\n                \"attributes\": data,\r\n            }\r\n        }\r\n        // console.log(JSON.stringify(requestData));\r\n        if (id == undefined) {\r\n\r\n            GenericApi.addGeneric(service, requestData).then(\r\n                datos => {\r\n                    window.showSpinner(false);\r\n                    if (!datos.error)\r\n                        setModalState({ title: \"ADMINISTRACIÓN :: \"+formName.toUpperCase(), message: global.Constants.MENSAJES_MODAL.EXITOSO, show: true, redirect: successRedirect, alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                    else\r\n                        setModalState({ title: \"ADMINISTRACIÓN :: \"+formName.toUpperCase(), message: datos.error.toString(), show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n            );\r\n        }\r\n        else {\r\n            GenericApi.updateGeneric(service, id, requestData).then(\r\n                datos => {\r\n                    window.showSpinner(false);\r\n\r\n                    if (!datos.error)\r\n                        setModalState({ title: \"ADMINISTRACIÓN :: \"+formName.toUpperCase(), message: global.Constants.MENSAJES_MODAL.EXITOSO, show: true, redirect: successRedirect, alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                    else\r\n                        setModalState({ title: \"ADMINISTRACIÓN :: \"+formName.toUpperCase(), message: datos.error.toString(), show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    return (<div>\r\n        <Spinner />\r\n        <ModalGen data={modalState} />\r\n\r\n        <div className=\"w2d_block let\">\r\n            <nav aria-label=\"breadcrumb\">\r\n                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={successRedirect}><small>Lista de {formName}</small></Link></li>\r\n                    <li className=\"breadcrumb-item\"> <small>{submitButtonText.toLowerCase()} {formName}</small></li>\r\n                </ol>\r\n            </nav>\r\n        </div>\r\n\r\n        <div className=\"col-md-12\">\r\n            <div className=\"block block-themed\">\r\n                <div className=\"block-header\">\r\n                    <h3 className=\"block-title\">ADMINISTRACIÓN :: {formName.toUpperCase()}</h3>\r\n                </div>\r\n\r\n                <div className=\"block-content\">\r\n                    <div className='text-right '>\r\n                        <Link to={successRedirect}>\r\n                            <button type=\"button\" className=\"btn btn-success\"><i className=\"fas fa-backward\"></i> </button>\r\n                        </Link>\r\n                    </div>\r\n                    {showForm ?\r\n                        <Autoform\r\n                            schema={modelSchema}\r\n                            initialValues={initialValues}\r\n                            styles={styles}\r\n                            submitButton={true}\r\n                            submitButtonText={submitButtonText}\r\n                            config={{ arrayMode: 'table', horizontal: false }}\r\n                            onSubmit={submit}\r\n                            onErrors={errors}\r\n                            ref={e => formRef = e}\r\n                        >\r\n                        </Autoform>\r\n                        : null}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};","export default {\r\n    inputBlockWrap: 'form-group',\r\n    label: '',\r\n    input: 'form-control',\r\n    standard: '',\r\n    errored: 'is-invalid',\r\n    inlineWrap: 'form-group',\r\n    itemHeader: '',\r\n    button: 'btn btn-primary',\r\n    checkboxWrap: 'form-check',\r\n    radioGroupWrap: '',\r\n    radioWrap: 'form-check',\r\n    checkboxLabel: 'form-check-label',\r\n    radioLabel: 'form-check-label',\r\n    radio: 'form-check-input',\r\n    checkbox: 'form-check-input',\r\n    error: 'w2d-invalid-feedback',\r\n    errorIcon: '',\r\n    select: 'form-control',\r\n    table: 'table',\r\n    panel: 'card',\r\n    title: 'card-header',\r\n    content: 'card-body',\r\n    contentMargin: ''\r\n  }","import { createSchema, addTranslations, setLanguageByName } from 'react-hook-form-auto'\r\n\r\nexport const ParametroModel = createSchema('ParametroModel', {\r\n    modulo: {\r\n        type: 'string',\r\n        addInputProps: { readonly: 'readonly' }\r\n    },  \r\n    nombre: {\r\n        type: 'string',\r\n        addInputProps: { readonly: 'readonly' }\r\n    },\r\n    valor: {\r\n        type: 'string',\r\n        required: true,\r\n        maxLength: 255,\r\n    },\r\n})\r\n\r\nsetLanguageByName('es')\r\naddTranslations({\r\n    models: {\r\n        ParametroModel: {\r\n            modulo: 'Modulo',\r\n            nombre: 'Nombre parametro',\r\n            valor: 'Valor',\r\n        },\r\n    },\r\n})\r\n\r\n"]}}