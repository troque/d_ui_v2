{"code":"(this[\"webpackJsonppersoneria-ui\"]=this[\"webpackJsonppersoneria-ui\"]||[]).push([[93],{297:function(e,t,c){\"use strict\";c.r(t);var s=c(14),r=c(6),a=c(12),n=c.n(a),l=c(1),i=c(71),o=c(4),d=c(65),b=c(68),j=c(63),m=(c(141),c(2),c(88),c(142),c(77),c(61)),u=c(0);t.default=function(){var e=Object(l.useState)(\"\"),t=Object(r.a)(e,2),c=t[0],a=t[1],h=Object(l.useState)(),O=Object(r.a)(h,2),x=O[0],p=O[1],f=Object(l.useState)({data:{}}),v=Object(r.a)(f,2),N=v[0],w=v[1],g=Object(l.useState)(!1),y=Object(r.a)(g,2),k=y[0],S=y[1];Object(l.useEffect)((function(){function e(){return(e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A=function(){if(null!=N&&\"undefined\"!=typeof N)return N.data.map((function(e,t){return Object(u.jsxs)(\"tr\",{children:[Object(u.jsx)(\"td\",{children:e.attributes.nombre}),Object(u.jsx)(\"td\",{children:e.attributes.apellido}),Object(u.jsx)(\"td\",{children:e.attributes.email}),Object(u.jsx)(\"td\",{children:e.attributes.dependencia.nombre}),Object(u.jsxs)(\"td\",{children:[\"  \",Object(u.jsx)(o.b,{to:\"/CasosActivos/\".concat(e.attributes.name),state:{data:e},children:Object(u.jsx)(\"button\",{type:\"button\",\"data-dismiss\":\"modal\",className:\"btn btn-sm btn-primary\",children:\"Ver casos activos\"})})]})]},e.id)}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j.a,{}),Object(u.jsx)(d.a,{error:c}),Object(u.jsx)(b.a,{}),Object(u.jsx)(i.d,{initialValues:{nombre:\"\",apellido:\"\"},enableReinitialize:!0,validate:function(e){p(e);var t={};return e.nombre||e.apellido||(t.nombre=\"Debe ingresar nombre o apellido\"),t},onSubmit:function(e,t){t.resetForm;!function(e){var t;window.showSpinner(!0),x&&(t={data:{type:\"user\",attributes:{nombre:x&&x.nombre?x.nombre:\"\",apellido:x&&x.apellido?x.apellido:\"\"}}}),console.log(JSON.stringify(t)),m.a.getByDataGeneric(\"usuario/usuario-filter\",t).then((function(e){e.error?(a(e.error.toString()),console.log(e.error),window.showModal(1)):(w(e),S(!0)),window.showSpinner(!1)}))}()},children:function(e){var t=e.errors;return Object(u.jsx)(i.c,{children:Object(u.jsx)(\"div\",{className:\"block block-rounded block-bordered\",children:Object(u.jsxs)(\"div\",{className:\"block-content block-content-full\",children:[Object(u.jsx)(\"div\",{className:\"row\",children:Object(u.jsx)(\"div\",{className:\"col-md-12 text-center mb-3\",children:Object(u.jsx)(\"label\",{children:\"PASO 1. Busca el usuario para cargar sus procesos y trasladarlos:\"})})}),Object(u.jsx)(\"div\",{className:\"row\",children:Object(u.jsx)(\"div\",{className:\"col-md-12\",children:Object(u.jsx)(\"div\",{className:\"form-group\",children:Object(u.jsx)(i.a,{name:\"nombre\",component:function(){return Object(u.jsx)(\"span\",{className:\"text-danger\",children:t.nombre})}})})})}),Object(u.jsxs)(\"div\",{className:\"row\",children:[Object(u.jsx)(\"div\",{className:\"col-md-6\",children:Object(u.jsxs)(\"div\",{className:\"form-group\",children:[Object(u.jsx)(\"label\",{htmlFor:\"nombre\",children:\"Nombre \"}),Object(u.jsx)(i.b,{type:\"text\",id:\"nombre\",name:\"nombre\",className:\"form-control\",placeholder:\"Nombre\"})]})}),Object(u.jsx)(\"div\",{className:\"col-md-6\",children:Object(u.jsxs)(\"div\",{className:\"form-group\",children:[Object(u.jsx)(\"label\",{htmlFor:\"apellido\",children:\"Apellido \"}),Object(u.jsx)(i.b,{type:\"text\",id:\"apellido\",name:\"apellido\",className:\"form-control\",placeholder:\"Apellido\"})]})})]}),Object(u.jsx)(\"div\",{className:\"block-content block-content-full text-right\",children:Object(u.jsxs)(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[Object(u.jsx)(\"i\",{className:\"fas fa-save\"}),\" Buscar\"]})}),Object(u.jsx)(\"div\",{className:\"block-content block-content-full text-center\",children:Object(u.jsx)(\"div\",{className:\"row\",children:Object(u.jsx)(\"div\",{className:\"col-md-12\",children:N.data.length>0?Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"hr\",{}),Object(u.jsx)(\"span\",{children:\"Se han encontrado las siguiente coincidencias, seleccione el usuario para ver sus casos activos.\"}),Object(u.jsx)(\"div\",{className:\"row mt-2\",children:Object(u.jsxs)(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[Object(u.jsx)(\"thead\",{children:Object(u.jsxs)(\"tr\",{children:[Object(u.jsx)(\"th\",{children:\"Nombre\"}),Object(u.jsx)(\"th\",{children:\"Apellido\"}),Object(u.jsx)(\"th\",{children:\"Correo\"}),Object(u.jsx)(\"th\",{children:\"Dependencia\"}),Object(u.jsx)(\"th\",{children:\"Acciones\"})]})}),Object(u.jsx)(\"tbody\",{children:k?A():null})]})})]}):null})})})]})})})}})]})}}}]);","name":"static/js/93.5579f7bb.chunk.js","map":{"version":3,"sources":["static/js/93.5579f7bb.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__","C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default","n","react__WEBPACK_IMPORTED_MODULE_3__","formik__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_5__","_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_6__","_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_7__","_Utils_Spinner__WEBPACK_IMPORTED_MODULE_8__","_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_14__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__","_useState","Object","_useState2","errorApi","setErrorApi","_useState3","_useState4","formIntialValuesTraslado","setFormIntialValuesTraslado","_useState5","data","_useState6","getListaUsuarios","setListaUsuarios","_useState7","_useState8","getRespuestaUsuarios","setRespuestaUsuarios","_fetchData","a","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","fetchData","listarCoincidencias","map","usuario","i","children","attributes","nombre","apellido","email","dependencia","to","concat","name","state","type","className","id","error","initialValues","enableReinitialize","validate","valores","errores","onSubmit","_ref","resetForm","datos","window","showSpinner","console","log","JSON","stringify","getByDataGeneric","then","toString","showModal","enviarDatos","_ref2","errors","component","htmlFor","placeholder","length"],"mappings":"CAACA,KAAK,6BAA+BA,KAAK,8BAAgC,IAAIC,KAAK,CAAC,CAAC,IAAI,CAEnF,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACD,IAAIG,EAAyHF,EAAoB,IAC7IG,EAAsHH,EAAoB,GAC1II,EAA8GJ,EAAoB,IAClIK,EAAmIL,EAAoBM,EAAEF,GACzJG,EAAqCP,EAAoB,GAEzDQ,EAAsCR,EAAoB,IAC1DS,EAAgDT,EAAoB,GACpEU,EAAmDV,EAAoB,IACvEW,EAAmDX,EAAoB,IACvEY,EAA8CZ,EAAoB,IAOlEa,GAN2Db,EAAoB,KACtBA,EAAoB,GACtBA,EAAoB,IACNA,EAAoB,KAC9BA,EAAoB,IAEtBA,EAAoB,KAC7Ec,EAAkDd,EAAoB,GAEsjUD,EAA6B,QAAlrU,WAA4B,IAAIgB,EAAUC,OAAOT,EAA6C,SAApDS,CAAuD,IAAIC,EAAWD,OAAOb,EAAqI,EAA5Ia,CAA+ID,EAAU,GAAGG,EAASD,EAAW,GAAGE,EAAYF,EAAW,GAAOG,EAAWJ,OAAOT,EAA6C,SAApDS,GAAyDK,EAAWL,OAAOb,EAAqI,EAA5Ia,CAA+II,EAAW,GAAGE,EAAyBD,EAAW,GAAGE,EAA4BF,EAAW,GAAOG,EAAWR,OAAOT,EAA6C,SAApDS,CAAuD,CAACS,KAAK,KAAKC,EAAWV,OAAOb,EAAqI,EAA5Ia,CAA+IQ,EAAW,GAAGG,EAAiBD,EAAW,GAAGE,EAAiBF,EAAW,GAAOG,EAAWb,OAAOT,EAA6C,SAApDS,EAAuD,GAAOc,EAAWd,OAAOb,EAAqI,EAA5Ia,CAA+Ia,EAAW,GAAGE,EAAqBD,EAAW,GAAGE,EAAqBF,EAAW,GAAkBd,OAAOT,EAA8C,UAArDS,EAAwD,WAAyE,SAASiB,IAAykB,OAA5jBA,EAAWjB,OAAOd,EAAwI,EAA/Ic,CAA+JX,EAAoH6B,EAAEC,MAAK,SAASC,IAAU,OAAO/B,EAAoH6B,EAAEG,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOF,EAASG,UAAWL,QAA+BM,MAAM9C,KAAK+C,YAA7qB,WAA4BV,EAAWS,MAAM9C,KAAK+C,WAAuoBC,KAAc,IAAI,IAA+tBC,EAAoB,WAA+B,GAAqB,MAAlBlB,GAAiD,oBAAlBA,EAA+B,OAAOA,EAAiBF,KAAKqB,KAAI,SAASC,EAAQC,GAAG,OAAmBhC,OAAOF,EAAsD,KAA7DE,CAAgE,KAAK,CAACiC,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAASF,EAAQG,WAAWC,SAAsBnC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAASF,EAAQG,WAAWE,WAAwBpC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAASF,EAAQG,WAAWG,QAAqBrC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAASF,EAAQG,WAAWI,YAAYH,SAAsBnC,OAAOF,EAAsD,KAA7DE,CAAgE,KAAK,CAACiC,SAAS,CAAC,KAAkBjC,OAAOF,EAAqD,IAA5DE,CAA+DP,EAA4D,EAAE,CAAC8C,GAAG,iBAAiBC,OAAOT,EAAQG,WAAWO,MAAMC,MAAM,CAACjC,KAAKsB,GAASE,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,SAAS,CAAC2C,KAAK,SAAS,eAAe,QAAQC,UAAU,yBAAyBX,SAAS,6BAA6BF,EAAQc,QAAU,OAAmB7C,OAAOF,EAAsD,KAA7DE,CAAgEF,EAA0D,SAAE,CAACmC,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+DJ,EAA6D,EAAE,IAAiBI,OAAOF,EAAqD,IAA5DE,CAA+DN,EAAkE,EAAE,CAACoD,MAAM5C,IAAwBF,OAAOF,EAAqD,IAA5DE,CAA+DL,EAAkE,EAAE,IAAiBK,OAAOF,EAAqD,IAA5DE,CAA+DR,EAAoD,EAAE,CAACuD,cAAc,CAACZ,OAAO,GAAGC,SAAS,IAAIY,oBAAmB,EAAKC,SAAS,SAAkBC,GAAS3C,EAA4B2C,GAAS,IAAIC,EAAQ,GAA4F,OAArFD,EAAQf,QAASe,EAAQd,WAAUe,EAAQhB,OAAO,mCAA0CgB,GAAUC,SAAS,SAAkBF,EAAQG,GAAoBA,EAAKC,WAAv/F,SAAqBC,GAAgC,IAAI9C,EAA7B+C,OAAOC,aAAY,GAAkBnD,IAA0BG,EAAK,CAACA,KAAO,CAACkC,KAAO,OAAOT,WAAa,CAACC,OAAS7B,GAAyBA,EAAyB6B,OAAO7B,EAAyB6B,OAAU,GAAGC,SAAW9B,GAAyBA,EAAyB8B,SAAS9B,EAAyB8B,SAAY,OAAOsB,QAAQC,IAAIC,KAAKC,UAAUpD,IAAOZ,EAAwE,EAAEiE,iBAAiB,yBAAyBrD,GAAMsD,MAAK,SAASR,GAAWA,EAAMT,OAAgE3C,EAAYoD,EAAMT,MAAMkB,YAAYN,QAAQC,IAAIJ,EAAMT,OAAOU,OAAOS,UAAU,KAAvIrD,EAAiB2C,GAAOvC,GAAqB,IAA8FwC,OAAOC,aAAY,MAAk0ES,IAAuBjC,SAAS,SAAkBkC,GAAO,IAAIC,EAAOD,EAAMC,OAAO,OAAmBpE,OAAOF,EAAqD,IAA5DE,CAA+DR,EAAkD,EAAE,CAACyC,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,qCAAqCX,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,MAAM,CAAC4C,UAAU,mCAAmCX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,MAAMX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,6BAA6BX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,QAAQ,CAACiC,SAAS,0EAAuFjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,MAAMX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,YAAYX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,aAAaX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+DR,EAA0D,EAAE,CAACiD,KAAK,SAAS4B,UAAU,WAAqB,OAAmBrE,OAAOF,EAAqD,IAA5DE,CAA+D,OAAO,CAAC4C,UAAU,cAAcX,SAASmC,EAAOjC,kBAAgCnC,OAAOF,EAAsD,KAA7DE,CAAgE,MAAM,CAAC4C,UAAU,MAAMX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,WAAWX,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,MAAM,CAAC4C,UAAU,aAAaX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,QAAQ,CAACsE,QAAQ,SAASrC,SAAS,YAAyBjC,OAAOF,EAAqD,IAA5DE,CAA+DR,EAAmD,EAAE,CAACmD,KAAK,OAAOE,GAAG,SAASJ,KAAK,SAASG,UAAU,eAAe2B,YAAY,gBAA6BvE,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,WAAWX,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,MAAM,CAAC4C,UAAU,aAAaX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,QAAQ,CAACsE,QAAQ,WAAWrC,SAAS,cAA2BjC,OAAOF,EAAqD,IAA5DE,CAA+DR,EAAmD,EAAE,CAACmD,KAAK,OAAOE,GAAG,WAAWJ,KAAK,WAAWG,UAAU,eAAe2B,YAAY,qBAAkCvE,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,8CAA8CX,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,SAAS,CAAC2C,KAAK,SAASC,UAAU,kBAAkBX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,IAAI,CAAC4C,UAAU,gBAAgB,eAA4B5C,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,+CAA+CX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,MAAMX,SAAsBjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,YAAYX,SAAStB,EAAiBF,KAAK+D,OAAO,EAAexE,OAAOF,EAAsD,KAA7DE,CAAgE,MAAM,CAACiC,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,IAAiBA,OAAOF,EAAqD,IAA5DE,CAA+D,OAAO,CAACiC,SAAS,qGAAkHjC,OAAOF,EAAqD,IAA5DE,CAA+D,MAAM,CAAC4C,UAAU,WAAWX,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,QAAQ,CAAC4C,UAAU,qEAAqEX,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,QAAQ,CAACiC,SAAsBjC,OAAOF,EAAsD,KAA7DE,CAAgE,KAAK,CAACiC,SAAS,CAAcjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAAS,WAAwBjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAAS,aAA0BjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAAS,WAAwBjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAAS,gBAA6BjC,OAAOF,EAAqD,IAA5DE,CAA+D,KAAK,CAACiC,SAAS,kBAA+BjC,OAAOF,EAAqD,IAA5DE,CAA+D,QAAQ,CAACiC,SAASlB,EAAqBc,IAAsB,eAAe"},"input":"(this[\"webpackJsonppersoneria-ui\"] = this[\"webpackJsonppersoneria-ui\"] || []).push([[93],{\n\n/***/ 297:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n/* harmony import */ var C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var formik__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(71);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(4);\n/* harmony import */ var _Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(65);\n/* harmony import */ var _Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(68);\n/* harmony import */ var _Utils_Spinner__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(63);\n/* harmony import */ var _Api_Services_PendientesApi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(141);\n/* harmony import */ var _components_Utils_Common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(2);\n/* harmony import */ var _Models_ParametroModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(88);\n/* harmony import */ var _Utils_Modals_ModalRemitirExpediente__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(142);\n/* harmony import */ var react_data_table_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(77);\n/* harmony import */ var react_data_table_component__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_data_table_component__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var _Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(61);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(0);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__);\nfunction TrasladoProcesos(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(''),_useState2=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState,2),errorApi=_useState2[0],setErrorApi=_useState2[1];var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(),_useState4=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState3,2),formIntialValuesTraslado=_useState4[0],setFormIntialValuesTraslado=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])({data:{}}),_useState6=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState5,2),getListaUsuarios=_useState6[0],setListaUsuarios=_useState6[1];var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),_useState8=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_useState7,2),getRespuestaUsuarios=_useState8[0],setRespuestaUsuarios=_useState8[1];var columns=[];Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"])(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=Object(C_w2d_personeria_personeria_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(){return C_w2d_personeria_personeria_ui_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var enviarDatos=function enviarDatos(datos){window.showSpinner(true);var data;if(formIntialValuesTraslado){data={\"data\":{\"type\":\"user\",\"attributes\":{\"nombre\":formIntialValuesTraslado?formIntialValuesTraslado.nombre?formIntialValuesTraslado.nombre:'':'',\"apellido\":formIntialValuesTraslado?formIntialValuesTraslado.apellido?formIntialValuesTraslado.apellido:'':''}}};}console.log(JSON.stringify(data));_Api_Services_GenericApi__WEBPACK_IMPORTED_MODULE_14__[/* default */ \"a\"].getByDataGeneric('usuario/usuario-filter',data).then(function(datos){if(!datos.error){setListaUsuarios(datos);setRespuestaUsuarios(true);}else{setErrorApi(datos.error.toString());console.log(datos.error);window.showModal(1);}window.showSpinner(false);});};var listarCoincidencias=function listarCoincidencias(){if(getListaUsuarios!=null&&typeof getListaUsuarios!='undefined'){return getListaUsuarios.data.map(function(usuario,i){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"td\",{children:usuario.attributes.nombre}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"td\",{children:usuario.attributes.apellido}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"td\",{children:usuario.attributes.email}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"td\",{children:usuario.attributes.dependencia.nombre}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"td\",{children:[\"  \",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(react_router_dom__WEBPACK_IMPORTED_MODULE_5__[/* Link */ \"b\"],{to:\"/CasosActivos/\".concat(usuario.attributes.name),state:{data:usuario},children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"button\",{type:\"button\",\"data-dismiss\":\"modal\",className:\"btn btn-sm btn-primary\",children:\"Ver casos activos\"})})]})]},usuario.id);});}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_Utils_Spinner__WEBPACK_IMPORTED_MODULE_8__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_Utils_InfoErrorApi__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{error:errorApi}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(_Utils_InfoExitoApi__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_4__[/* Formik */ \"d\"],{initialValues:{nombre:'',apellido:''},enableReinitialize:true,validate:function validate(valores){setFormIntialValuesTraslado(valores);var errores={};if(!valores.nombre&&!valores.apellido){errores.nombre='Debe ingresar nombre o apellido';}return errores;},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;enviarDatos(valores);},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_4__[/* Form */ \"c\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"block block-rounded block-bordered\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"block-content block-content-full\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"col-md-12 text-center mb-3\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"label\",{children:\"PASO 1. Busca el usuario para cargar sus procesos y trasladarlos:\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"form-group\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_4__[/* ErrorMessage */ \"a\"],{name:\"nombre\",component:function component(){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"span\",{className:\"text-danger\",children:errors.nombre});}})})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"label\",{htmlFor:\"nombre\",children:\"Nombre \"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_4__[/* Field */ \"b\"],{type:\"text\",id:\"nombre\",name:\"nombre\",className:\"form-control\",placeholder:\"Nombre\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"label\",{htmlFor:\"apellido\",children:\"Apellido \"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(formik__WEBPACK_IMPORTED_MODULE_4__[/* Field */ \"b\"],{type:\"text\",id:\"apellido\",name:\"apellido\",className:\"form-control\",placeholder:\"Apellido\"})]})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"block-content block-content-full text-right\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"i\",{className:\"fas fa-save\"}),\" Buscar\"]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"block-content block-content-full text-center\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"row\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"col-md-12\",children:getListaUsuarios.data.length>0?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"span\",{children:\"Se han encontrado las siguiente coincidencias, seleccione el usuario para ver sus casos activos.\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"div\",{className:\"row mt-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"th\",{children:\"Nombre\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"th\",{children:\"Apellido\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"th\",{children:\"Correo\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"th\",{children:\"Dependencia\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_15__[\"jsx\"])(\"tbody\",{children:getRespuestaUsuarios?listarCoincidencias():null})]})})]}):null})})})]})})});}})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (TrasladoProcesos);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/TrasladoProcesos/TrasladoProcesos.js"],"names":["TrasladoProcesos","useState","errorApi","setErrorApi","formIntialValuesTraslado","setFormIntialValuesTraslado","data","getListaUsuarios","setListaUsuarios","getRespuestaUsuarios","setRespuestaUsuarios","columns","useEffect","fetchData","enviarDatos","datos","window","showSpinner","nombre","apellido","console","log","JSON","stringify","GenericApi","getByDataGeneric","then","error","toString","showModal","listarCoincidencias","map","usuario","i","attributes","email","dependencia","name","id","valores","errores","resetForm","errors","length"],"mappings":"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","file":"x","sourcesContent":["import React, { useEffect, useState, } from 'react';\r\nimport { ErrorMessage, Form, Field, Formik } from 'formik';\r\nimport { Link } from 'react-router-dom';\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport InfoExitoApi from '../Utils/InfoExitoApi';\r\nimport Spinner from '../Utils/Spinner';\r\nimport PendientesApi from \"./../Api/Services/PendientesApi\";\r\nimport { getUser } from '../../components/Utils/Common';\r\nimport { ParametroModel } from '../Models/ParametroModel';\r\nimport ModalRemitirExpediente from '../Utils/Modals/ModalRemitirExpediente';\r\nimport { hasAccess } from '../../components/Utils/Common';\r\nimport DataTable from 'react-data-table-component';\r\nimport GenericApi from './../Api/Services/GenericApi';\r\nfunction TrasladoProcesos() {\r\n\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [formIntialValuesTraslado, setFormIntialValuesTraslado] = useState();\r\n    const [getListaUsuarios, setListaUsuarios] = useState({ data: {} });\r\n    const [getRespuestaUsuarios, setRespuestaUsuarios] = useState(false);\r\n\r\n    const columns = [\r\n\r\n    ];\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const enviarDatos = (datos) => {\r\n        window.showSpinner(true);\r\n        let data;\r\n        if (formIntialValuesTraslado) {\r\n\r\n            data = {\r\n\r\n                \"data\": {\r\n                    \"type\": \"user\",\r\n                    \"attributes\": {\r\n                        \"nombre\": formIntialValuesTraslado ? (formIntialValuesTraslado.nombre ? formIntialValuesTraslado.nombre : '') : '',\r\n                        \"apellido\": formIntialValuesTraslado ? (formIntialValuesTraslado.apellido ? formIntialValuesTraslado.apellido : '') : ''\r\n\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n        console.log(JSON.stringify(data));\r\n\r\n        GenericApi.getByDataGeneric('usuario/usuario-filter', data).then(\r\n            datos => {\r\n\r\n                if (!datos.error) {\r\n                    setListaUsuarios(datos);\r\n                    setRespuestaUsuarios(true);\r\n                }\r\n                else {\r\n                    setErrorApi(datos.error.toString())\r\n                    console.log(datos.error);\r\n                    window.showModal(1)\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    const listarCoincidencias = () => {\r\n\r\n\r\n        if (getListaUsuarios != null && typeof (getListaUsuarios) != 'undefined') {\r\n            return (\r\n\r\n                getListaUsuarios.data.map((usuario, i) => {\r\n                    return (\r\n\r\n                        <tr key={usuario.id}>\r\n                            <td>{usuario.attributes.nombre}</td>\r\n                            <td>{usuario.attributes.apellido}</td>\r\n                            <td>{usuario.attributes.email}</td>\r\n                            <td>{usuario.attributes.dependencia.nombre}</td>\r\n\r\n                            <td>  <Link to={`/CasosActivos/${usuario.attributes.name}`}  state={{ data: usuario }}>\r\n                                <button type='button' data-dismiss=\"modal\" className='btn btn-sm btn-primary' >Ver casos activos</button>\r\n                            </Link></td>\r\n                        </tr >\r\n                    )\r\n                })\r\n            )\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            {<InfoExitoApi />}\r\n            <Formik\r\n                initialValues={{\r\n                    nombre: '',\r\n                    apellido: '',\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n                    setFormIntialValuesTraslado(valores);\r\n                    let errores = {}\r\n\r\n                    if (!valores.nombre && !valores.apellido) {\r\n                        errores.nombre = 'Debe ingresar nombre o apellido'\r\n                    }\r\n\r\n                    return errores\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n\r\n\r\n                        <div className=\"block block-rounded block-bordered\">\r\n\r\n                            <div className=\"block-content block-content-full\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12 text-center mb-3\">\r\n                                        <label>PASO 1. Busca el usuario para cargar sus procesos y trasladarlos:</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <ErrorMessage name=\"nombre\" component={() => (<span className=\"text-danger\">{errors.nombre}</span>)} />\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor='nombre'>Nombre </label>\r\n                                            <Field type=\"text\" id=\"nombre\" name=\"nombre\" className=\"form-control\" placeholder=\"Nombre\" />\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"col-md-6\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor='apellido'>Apellido </label>\r\n                                            <Field type=\"text\" id=\"apellido\" name=\"apellido\" className=\"form-control\" placeholder=\"Apellido\" />\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                                <div className=\"block-content block-content-full text-right\">\r\n                                    <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-save\"></i> Buscar</button>\r\n                                </div>\r\n\r\n                                <div className=\"block-content block-content-full text-center\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-12\">\r\n                                            {\r\n                                                (getListaUsuarios.data.length > 0) ? (\r\n                                                    <div>\r\n                                                        <hr />\r\n                                                        <span>Se han encontrado las siguiente coincidencias, seleccione el usuario para ver sus casos activos.</span>\r\n\r\n                                                        <div className=\"row mt-2\" >\r\n\r\n                                                            <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                                                <thead>\r\n                                                                    <tr>\r\n                                                                        <th>Nombre</th>\r\n                                                                        <th>Apellido</th>\r\n                                                                        <th>Correo</th>\r\n                                                                        <th>Dependencia</th>\r\n                                                                        <th>Acciones</th>\r\n                                                                    </tr>\r\n                                                                </thead>\r\n                                                                <tbody >\r\n                                                                    {getRespuestaUsuarios ? listarCoincidencias() : null}\r\n                                                                </tbody>\r\n                                                            </table>\r\n\r\n                                                        </div>\r\n\r\n\r\n                                                    </div>\r\n                                                ) : null\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n\r\n\r\n\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default TrasladoProcesos;"]}}