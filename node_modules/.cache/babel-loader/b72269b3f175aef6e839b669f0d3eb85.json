{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AutofieldContainer = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _reactHookForm = require(\"react-hook-form\");\nvar _Autofield = require(\"./Autofield\");\nvar _utils = require(\"../utils\");\nvar _autoform_state = require(\"../autoform_state\");\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar AutofieldContainer = function AutofieldContainer(props) {\n  var id = props.id,\n    name = props.name,\n    fieldSchema = props.fieldSchema,\n    defaultValue = props.defaultValue,\n    schemaTypeName = props.schemaTypeName,\n    skinElement = props.skinElement,\n    control = props.formHook.control,\n    formHook = props.formHook,\n    register = props.register,\n    rules = props.rules,\n    overrides = props.overrides,\n    skin = props.skin,\n    stateControl = props.stateControl,\n    setVisible = props.setVisible,\n    setHelperText = props.setHelperText,\n    setValue = props.setValue,\n    arrayControl = props.arrayControl;\n  var _ref = (0, _autoform_state.useAutofieldState)({\n      name: name,\n      stateControl: stateControl\n    }),\n    visible = _ref.visible,\n    helperText = _ref.helperText;\n  var baseProps = Object.assign({}, props, {\n    helperText: helperText\n  });\n  var controlled = skinElement.controlled;\n  if (controlled) {\n    var _ref2 = (0, _reactHookForm.useController)({\n        name: name,\n        control: control,\n        rules: rules\n      }),\n      field = _ref2.field;\n    baseProps.onChange = field.onChange;\n    baseProps.onBlur = field.onBlur;\n    baseProps.value = field.value;\n  } else {\n    if (!skinElement.skipRegister) {\n      var registerProps = register(name, rules);\n      baseProps.onBlur = registerProps.onBlur;\n      baseProps.onChange = registerProps.onChange;\n      baseProps.inputRef = registerProps.ref;\n    }\n  } // Allow field schema or overrides onChange\n\n  if ('onChange' in fieldSchema || 'onChange' in overrides) {\n    var baseOnChange = baseProps.onChange;\n    var overrideOnChange = overrides.onChange;\n    if (overrideOnChange) delete overrides.onChange;\n    var onChangeArguments = {\n      name: name,\n      setVisible: setVisible,\n      setHelperText: setHelperText,\n      formHook: formHook,\n      setValue: setValue,\n      arrayControl: arrayControl\n    };\n    var fireOnChange = function fireOnChange(value) {\n      if (fieldSchema.onChange) fieldSchema.onChange(value, onChangeArguments);\n      if (overrideOnChange) overrideOnChange(value, onChangeArguments);\n    };\n    baseProps.onChange = function (event) {\n      var value = (0, _utils.valueFromEvent)(event);\n      baseOnChange(event);\n      fireOnChange(value);\n    };\n    baseProps.setValue = function (name, value) {\n      setValue(name, value);\n      fireOnChange(value);\n    };\n  } // Allow general onChange, passed to <Autoform />\n\n  if (props.onChange) {\n    var oldOnChange = baseProps.onChange;\n    baseProps.onChange = function (event) {\n      oldOnChange(event);\n      props.onChange();\n    };\n  }\n  var propsTransform = (0, _utils.getPropsTransform)(skinElement);\n  var transformedProps;\n  if (typeof propsTransform == 'function') transformedProps = propsTransform ? propsTransform(baseProps) : baseProps;else transformedProps = _objectSpread(_objectSpread({}, baseProps), propsTransform);\n  transformedProps = _objectSpread(_objectSpread({}, transformedProps), overrides);\n  var component = transformedProps.component || skinElement.component;\n  if (visible && component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Autofield.Autofield, _objectSpread(_objectSpread({}, transformedProps), {}, {\n      component: component\n    }));\n  } else {\n    return null;\n  }\n};\nexports.AutofieldContainer = AutofieldContainer;","map":{"version":3,"names":["Object","defineProperty","exports","value","AutofieldContainer","_react","_interopRequireDefault","require","_reactHookForm","_Autofield","_utils","_autoform_state","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","props","id","name","fieldSchema","defaultValue","schemaTypeName","skinElement","control","formHook","register","rules","overrides","skin","stateControl","setVisible","setHelperText","setValue","arrayControl","useAutofieldState","visible","helperText","baseProps","assign","controlled","useController","field","onChange","onBlur","skipRegister","registerProps","inputRef","ref","baseOnChange","overrideOnChange","onChangeArguments","fireOnChange","event","valueFromEvent","oldOnChange","propsTransform","getPropsTransform","transformedProps","component","jsx","Autofield"],"sources":["C:/w2d/personeria/personeria-ui/node_modules/react-hook-form-auto/lib/ui/AutofieldContainer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AutofieldContainer = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactHookForm = require(\"react-hook-form\");\n\nvar _Autofield = require(\"./Autofield\");\n\nvar _utils = require(\"../utils\");\n\nvar _autoform_state = require(\"../autoform_state\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst AutofieldContainer = props => {\n  const {\n    id,\n    name,\n    fieldSchema,\n    defaultValue,\n    schemaTypeName,\n    skinElement,\n    formHook: {\n      control\n    },\n    formHook,\n    register,\n    rules,\n    overrides,\n    skin,\n    stateControl,\n    setVisible,\n    setHelperText,\n    setValue,\n    arrayControl\n  } = props;\n  const {\n    visible,\n    helperText\n  } = (0, _autoform_state.useAutofieldState)({\n    name,\n    stateControl\n  });\n  let baseProps = Object.assign({}, props, {\n    helperText\n  });\n  const {\n    controlled\n  } = skinElement;\n\n  if (controlled) {\n    const {\n      field\n    } = (0, _reactHookForm.useController)({\n      name,\n      control: control,\n      rules\n    });\n    baseProps.onChange = field.onChange;\n    baseProps.onBlur = field.onBlur;\n    baseProps.value = field.value;\n  } else {\n    if (!skinElement.skipRegister) {\n      const registerProps = register(name, rules);\n      baseProps.onBlur = registerProps.onBlur;\n      baseProps.onChange = registerProps.onChange;\n      baseProps.inputRef = registerProps.ref;\n    }\n  } // Allow field schema or overrides onChange\n\n\n  if ('onChange' in fieldSchema || 'onChange' in overrides) {\n    const baseOnChange = baseProps.onChange;\n    const overrideOnChange = overrides.onChange;\n    if (overrideOnChange) delete overrides.onChange;\n    const onChangeArguments = {\n      name,\n      setVisible,\n      setHelperText,\n      formHook,\n      setValue,\n      arrayControl\n    };\n\n    const fireOnChange = value => {\n      if (fieldSchema.onChange) fieldSchema.onChange(value, onChangeArguments);\n      if (overrideOnChange) overrideOnChange(value, onChangeArguments);\n    };\n\n    baseProps.onChange = event => {\n      const value = (0, _utils.valueFromEvent)(event);\n      baseOnChange(event);\n      fireOnChange(value);\n    };\n\n    baseProps.setValue = (name, value) => {\n      setValue(name, value);\n      fireOnChange(value);\n    };\n  } // Allow general onChange, passed to <Autoform />\n\n\n  if (props.onChange) {\n    const oldOnChange = baseProps.onChange;\n\n    baseProps.onChange = event => {\n      oldOnChange(event);\n      props.onChange();\n    };\n  }\n\n  const propsTransform = (0, _utils.getPropsTransform)(skinElement);\n  let transformedProps;\n  if (typeof propsTransform == 'function') transformedProps = propsTransform ? propsTransform(baseProps) : baseProps;else transformedProps = _objectSpread(_objectSpread({}, baseProps), propsTransform);\n  transformedProps = _objectSpread(_objectSpread({}, transformedProps), overrides);\n  const component = transformedProps.component || skinElement.component;\n\n  if (visible && component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Autofield.Autofield, _objectSpread(_objectSpread({}, transformedProps), {}, {\n      component: component\n    }));\n  } else {\n    return null;\n  }\n};\n\nexports.AutofieldContainer = AutofieldContainer;"],"mappings":"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"},"metadata":{},"sourceType":"script"}