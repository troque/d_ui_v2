{"ast":null,"code":"import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import GenericForm from'./GenericForm';import{ParametroModel}from'./Models/ParametroModel';import{useParams}from'react-router-dom';import ModalGen from'../Utils/Modals/ModalGeneric';import GenericApi from'../Api/Services/GenericApi';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ParametroForm(){var _useParams=useParams(),id=_useParams.id;var _useState=useState({title:\"\",message:\"\",show:false}),_useState2=_slicedToArray(_useState,2),modalState=_useState2[0],setModalState=_useState2[1];var submit=function submit(data){data.modulo='modulo';data.nombre='nombre';window.showSpinner(true);var requestData={\"data\":{\"type\":'parametro',\"attributes\":data}};console.log(JSON.stringify(requestData));GenericApi.updateGeneric('parametro',id,requestData).then(function(datos){window.showSpinner(false);if(!datos.error)setModalState({title:\"Registro actualizado\",message:\"Registro actualizado con exito\",show:true,redirect:'/Parametro'});else setModalState({title:\"Error\",message:datos.error?datos.error.toString():\"Error actualizando el registro\",show:true});});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ModalGen,{data:modalState}),/*#__PURE__*/_jsx(GenericForm,{formName:\"parametro del sistema\",service:\"parametro\",model:ParametroModel,successRedirect:\"/Parametro\",onSubmit:submit})]});};","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Maestras/ParametroForm.js"],"names":["React","useState","GenericForm","ParametroModel","useParams","ModalGen","GenericApi","ParametroForm","id","title","message","show","modalState","setModalState","submit","data","modulo","nombre","window","showSpinner","requestData","console","log","JSON","stringify","updateGeneric","then","datos","error","redirect","toString"],"mappings":"qHAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,8BAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,C,6IAEA,cAAe,SAASC,CAAAA,aAAT,EAAyB,CACpC,eAAeH,SAAS,EAAxB,CAAQI,EAAR,YAAQA,EAAR,CACA,cAAoCP,QAAQ,CAAC,CAAEQ,KAAK,CAAE,EAAT,CAAaC,OAAO,CAAE,EAAtB,CAA0BC,IAAI,CAAE,KAAhC,CAAD,CAA5C,wCAAOC,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,CAAU,CACrBA,IAAI,CAACC,MAAL,CAAc,QAAd,CACAD,IAAI,CAACE,MAAL,CAAc,QAAd,CAEAC,MAAM,CAACC,WAAP,CAAmB,IAAnB,EACA,GAAIC,CAAAA,WAAW,CAAG,CACd,OAAQ,CACJ,OAAQ,WADJ,CAEJ,aAAcL,IAFV,CADM,CAAlB,CAMAM,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,SAAL,CAAeJ,WAAf,CAAZ,EACAd,UAAU,CAACmB,aAAX,CAAyB,WAAzB,CAAsCjB,EAAtC,CAA0CY,WAA1C,EAAuDM,IAAvD,CACI,SAAAC,KAAK,CAAI,CACLT,MAAM,CAACC,WAAP,CAAmB,KAAnB,EACA,GAAI,CAACQ,KAAK,CAACC,KAAX,CACIf,aAAa,CAAC,CAAEJ,KAAK,CAAE,sBAAT,CAAiCC,OAAO,CAAE,gCAA1C,CAA4EC,IAAI,CAAE,IAAlF,CAAwFkB,QAAQ,CAAE,YAAlG,CAAD,CAAb,CADJ,IAGIhB,CAAAA,aAAa,CAAC,CAAEJ,KAAK,CAAE,OAAT,CAAkBC,OAAO,CAAGiB,KAAK,CAACC,KAAP,CAAcD,KAAK,CAACC,KAAN,CAAYE,QAAZ,EAAd,CAAqC,gCAAhE,CAAkGnB,IAAI,CAAE,IAAxG,CAAD,CAAb,CACP,CAPL,EASH,CArBD,CAuBA,mBAAQ,wCACJ,KAAC,QAAD,EAAU,IAAI,CAAEC,UAAhB,EADI,cAEJ,KAAC,WAAD,EACI,QAAQ,CAAC,uBADb,CAEI,OAAO,CAAC,WAFZ,CAGI,KAAK,CAAET,cAHX,CAII,eAAe,CAAC,YAJpB,CAKI,QAAQ,CAAEW,MALd,EAFI,GAAR,CAWH","sourcesContent":["import React, { useState } from 'react';\r\nimport GenericForm from './GenericForm';\r\nimport { ParametroModel } from './Models/ParametroModel';\r\nimport { useParams } from 'react-router-dom';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\n\r\nexport default function ParametroForm() {\r\n    const { id } = useParams();\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n    const submit = (data) => {\r\n        data.modulo = 'modulo';\r\n        data.nombre = 'nombre';\r\n\r\n        window.showSpinner(true);\r\n        var requestData = {\r\n            \"data\": {\r\n                \"type\": 'parametro',\r\n                \"attributes\": data,\r\n            }\r\n        }\r\n        console.log(JSON.stringify(requestData));\r\n        GenericApi.updateGeneric('parametro', id, requestData).then(\r\n            datos => {\r\n                window.showSpinner(false);\r\n                if (!datos.error)\r\n                    setModalState({ title: \"Registro actualizado\", message: \"Registro actualizado con exito\", show: true, redirect: '/Parametro' });\r\n                else\r\n                    setModalState({ title: \"Error\", message: (datos.error)?datos.error.toString():\"Error actualizando el registro\", show: true });\r\n            }\r\n        );\r\n    }\r\n\r\n    return (<>\r\n        <ModalGen data={modalState} />\r\n        <GenericForm\r\n            formName='parametro del sistema'\r\n            service='parametro'\r\n            model={ParametroModel}\r\n            successRedirect='/Parametro'\r\n            onSubmit={submit}\r\n        />\r\n    </>\r\n    );\r\n};"]},"metadata":{},"sourceType":"module"}