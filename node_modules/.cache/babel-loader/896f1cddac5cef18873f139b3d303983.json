{"ast":null,"code":"import _asyncToGenerator from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{ErrorMessage,Field,Form,Formik}from'formik';import{useEffect,useState}from'react';import RemisionQuejaApi from'../../Api/Services/RemisionQuejaApi';import InfoErrorApi from'../../Utils/InfoErrorApi';import{Navigate,useParams}from\"react-router\";import{useLocation}from'react-router-dom';import ParametrosMasApi from\"./../../Api/Services/ParametrosMasApi\";import InfoExitoApiCustom from'../../Utils/InfoExitoApiCustom';import InfoExitoApiTextsCustom from'../../Utils/InfoExitoApiTextsCustom';import GenericApi from'../../Api/Services/GenericApi';import'../../Utils/Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function RemisionQuejaForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorApi=_useState2[0],setErrorApi=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errorVariablesApi=_useState4[0],setErrorVariablesApi=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),respuestaVariablesApi=_useState6[0],setRespuestaVariablesApi=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),expedienteApi=_useState8[0],setExpedienteApi=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),respuestaExpedienteApi=_useState10[0],setRespuestaExpedienteApi=_useState10[1];var _useState11=useState({}),_useState12=_slicedToArray(_useState11,2),datosFormExpediente=_useState12[0],setDatosFormExpediente=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),respuestaDependenciaOrigen=_useState14[0],setRespuestaDependenciaOrigen=_useState14[1];var _useState15=useState({data:{}}),_useState16=_slicedToArray(_useState15,2),listaDependenciaOrigen=_useState16[0],setListaDependenciaOrigen=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),existeIncorporacion=_useState18[0],setExisteIncorporacion=_useState18[1];var _useState19=useState({data:{}}),_useState20=_slicedToArray(_useState19,2),remisionQuejaIncorporacion=_useState20[0],setRemisionQuejaIncorporacion=_useState20[1];var _useState21=useState({titulo:null,cuerpo:null,boton:null}),_useState22=_slicedToArray(_useState21,2),exitoApiTextsCustom=_useState22[0],setExitoApiTextsCustom=_useState22[1];var location=useLocation();var from=location.state.from;var radicado=from.radicado;var procesoDisciplinarioId=from.procesoDisciplinarioId;var fase='Remision queja incorporacion';/*Este dato se establece para obtener la información necesaria del API teniendo en cuenta la fase*/var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isRedirect=_useState24[0],setIsRedirect=_useState24[1];/*Redirects*/var redirectToRoutes=function redirectToRoutes(){return/*#__PURE__*/_jsx(Navigate,{to:\"/RamasProceso\",state:{from:from}});};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:RemisionQuejaApi.consultarIncorporacionExistente(procesoDisciplinarioId).then(function(datosRemision){if(!datosRemision.error){if(datosRemision.data.attributes){setRemisionQuejaIncorporacion(datosRemision.data);setExisteIncorporacion(true);}else{setExisteIncorporacion(false);//ParametrosMasApi.getDependenciaOrigeByFase(fase).then(\n//en la tabla MAS_DEPENDENCIA_ACCESO el 3 corresponde a Crear remision queja\nGenericApi.getByIdGeneric('mas-dependencia-filtrado',global.Constants.ACCESO_DEPENDENCIA.REMISION_QUEJA_INCORPORACION).then(function(datos){return!datos.error?(setListaDependenciaOrigen(datos),setRespuestaDependenciaOrigen(true)):window.showModal(1);});}}else{setErrorApi(datosRemision.error);window.showModal(1);}});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var validarDatos=function validarDatos(datos){setDatosFormExpediente(datos);var data={\"data\":{\"type\":\"remision_queja\",\"attributes\":{\"accion\":1,\"dependencia\":datos.dependencia,\"expediente\":datos.expediente,\"vigencia\":datos.vigencia,\"id_proceso_disciplinario\":procesoDisciplinarioId}}};RemisionQuejaApi.consultarValidacionExpediente(data).then(function(datos){if(!datos.error){setExpedienteApi(datos.data);setRespuestaVariablesApi(false);setRespuestaExpedienteApi(true);}else{setRespuestaExpedienteApi(false);setRespuestaVariablesApi(false);if(datos.variables){setErrorVariablesApi(datos.variables);setRespuestaVariablesApi(true);}else{setErrorApi(datos.error);window.showModal(1);}}});};var guardarDatos=function guardarDatos(){var data={\"data\":{\"type\":\"remision_queja\",\"attributes\":{\"accion\":2,\"dependencia\":datosFormExpediente.dependencia,\"expediente\":datosFormExpediente.expediente,\"vigencia\":datosFormExpediente.vigencia,\"id_proceso_disciplinario\":procesoDisciplinarioId,\"id_proceso_disciplinario_expediente\":expedienteApi.id,\"version\":305}}};RemisionQuejaApi.addIncorporacionExpediente(data).then(function(datos){if(!datos.error){setExitoApiTextsCustom({titulo:'Expediente incorporado',cuerpo:'El expediente '+radicado+' fue incorporado el expediente '+datosFormExpediente.expediente,boton:'Aceptar'});window.showModal(6);setIsRedirect(true);}else{console.log(datos.error);//setErrorApi(datos.error);\nwindow.showModal(1);}});};/*\r\n    * Componentes\r\n    */var componentSelectDependenciaOrigen=function componentSelectDependenciaOrigen(){return listaDependenciaOrigen.data.map(function(dependencia,i){return/*#__PURE__*/_jsx(\"option\",{value:dependencia.id,children:dependencia.attributes.nombre},dependencia.id);});};var componentExpedienteForm=function componentExpedienteForm(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{dependencia:'',expediente:'',vigencia:''},enableReinitialize:true,validate:function validate(valores){var errores={};if(!valores.dependencia){errores.dependencia='Debe seleccionar la dependencia';}if(!valores.expediente){errores.expediente='Debe digitar el número de expediente';}if(!valores.vigencia){errores.vigencia='Debe digitar la vigencia';}return errores;},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;validarDatos(valores);},children:function children(_ref2){var errors=_ref2.errors;return/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-primary\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\" ATENCI\\xD3N: \"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\" POR PAR\\xC1METROS DEL SISTEMA, PARA UNA QUEJA CLASIFICADA EN LA ETAPA DE EVALUACI\\xD3N COMO: \",/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsx(\"u\",{children:\"INCOPORACION\"})}),\"; SE DEBE SELECCIONAR LA DEPENDENCIA DEL EJE DE POTESTAD DISCIPLINARIA QUE CONTINUAR\\xC1 CON EL TR\\xC1MITE DEL EXPEDIENTE.\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"dependencia\",children:[\"Dependencia \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(Field,{as:\"select\",className:\"form-control\",id:\"dependencia\",name:\"dependencia\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione la dependencia\"}),respuestaDependenciaOrigen?componentSelectDependenciaOrigen():null]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"dependencia\",component:function component(){return/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.dependencia});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"expediente\",children:[\"No de expediente \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",id:\"expediente\",name:\"expediente\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"expediente\",component:function component(){return/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.expediente});}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"vigencia\",children:[\"Vigencia del expediente \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(Field,{className:\"form-control\",id:\"vigencia\",name:\"vigencia\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"vigencia\",component:function component(){return/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.vigencia});}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full text-right\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-search\"}),\" Validar Expediente\"]})})]})});}})});};var componentErrorExpendiente=function componentErrorExpendiente(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-center\",children:/*#__PURE__*/_jsx(\"b\",{children:\"INCONSISTENCIA EN LOS DATOS INGRESADOS\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[\"No se encontr\\xF3 registrado ning\\xFAn Proceso Disciplinario asociado a los datos ingresados, es necesario que confirme la informaci\\xF3n para continuar con el tr\\xE1mite del expediente. \",/*#__PURE__*/_jsx(\"br\",{}),\"Si posterior a la revisi\\xF3n de los datos del expediente a incorporar persiste el presente mensaje, por favor contacte a la Direcci\\xF3n de TIC e informe de la presente alerta.\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"* Dependencia cosultada: \"}),errorVariablesApi.dependencia?errorVariablesApi.dependencia:null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"* SINPROC consultado: \"}),errorVariablesApi.expediente?errorVariablesApi.expediente:null,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"b\",{children:\"* Para la vigencia: \"}),errorVariablesApi.vigencia?errorVariablesApi.vigencia:null,/*#__PURE__*/_jsx(\"br\",{})]})})})});};var componentInformeExpendiente=function componentInformeExpendiente(){var _expedienteApi$attrib,_expedienteApi$attrib2,_expedienteApi$attrib3,_expedienteApi$attrib4,_expedienteApi$attrib5,_expedienteApi$attrib6,_expedienteApi$attrib7,_expedienteApi$attrib8,_expedienteApi$attrib9,_expedienteApi$attrib10,_expedienteApi$attrib11,_expedienteApi$attrib12,_expedienteApi$attrib13,_expedienteApi$attrib14,_expedienteApi$attrib15,_expedienteApi$attrib16,_expedienteApi$attrib17,_expedienteApi$attrib18,_expedienteApi$attrib19,_expedienteApi$attrib20,_expedienteApi$attrib21,_expedienteApi$attrib22,_expedienteApi$attrib23,_expedienteApi$attrib24;console.log(\"Daticos\",expedienteApi);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsx(\"label\",{children:\"DATOS DEL EXPEDIENTE A INCORPORAR\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Datos consultados\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"SINPROC \",datosFormExpediente.expediente,\" - VIGENCIA \",datosFormExpediente.vigencia]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Hechos\"}),/*#__PURE__*/_jsxs(\"td\",{children:[\"Fecha radicaci\\xF3n: \",expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib=expedienteApi.attributes)===null||_expedienteApi$attrib===void 0?void 0:_expedienteApi$attrib.fecha_registro,/*#__PURE__*/_jsx(\"br\",{}),\"Anexos: \",expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib2=expedienteApi.attributes)===null||_expedienteApi$attrib2===void 0?void 0:_expedienteApi$attrib2.anexos,/*#__PURE__*/_jsx(\"br\",{}),\"Asunto: \",expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib3=expedienteApi.attributes)===null||_expedienteApi$attrib3===void 0?void 0:(_expedienteApi$attrib4=_expedienteApi$attrib3.antecedente)===null||_expedienteApi$attrib4===void 0?void 0:_expedienteApi$attrib4.descripcion,/*#__PURE__*/_jsx(\"br\",{}),\"Observaciones: \",(expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib5=expedienteApi.attributes)===null||_expedienteApi$attrib5===void 0?void 0:(_expedienteApi$attrib6=_expedienteApi$attrib5.usuario)===null||_expedienteApi$attrib6===void 0?void 0:_expedienteApi$attrib6.nombre)+\" \"+(expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib7=expedienteApi.attributes)===null||_expedienteApi$attrib7===void 0?void 0:(_expedienteApi$attrib8=_expedienteApi$attrib7.usuario)===null||_expedienteApi$attrib8===void 0?void 0:_expedienteApi$attrib8.apellido)]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Dependencia de gesti\\xF3n\"}),/*#__PURE__*/_jsx(\"td\",{children:expedienteApi!==null&&expedienteApi!==void 0&&(_expedienteApi$attrib9=expedienteApi.attributes)!==null&&_expedienteApi$attrib9!==void 0&&(_expedienteApi$attrib10=_expedienteApi$attrib9.etapa_log)!==null&&_expedienteApi$attrib10!==void 0&&(_expedienteApi$attrib11=_expedienteApi$attrib10.dependencia)!==null&&_expedienteApi$attrib11!==void 0&&_expedienteApi$attrib11.nombre?expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib12=expedienteApi.attributes)===null||_expedienteApi$attrib12===void 0?void 0:(_expedienteApi$attrib13=_expedienteApi$attrib12.etapa_log)===null||_expedienteApi$attrib13===void 0?void 0:(_expedienteApi$attrib14=_expedienteApi$attrib13.dependencia)===null||_expedienteApi$attrib14===void 0?void 0:_expedienteApi$attrib14.nombre:'SIN INFORMACIÓN'})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Etapa actual en SINPROC\"}),/*#__PURE__*/_jsx(\"td\",{children:expedienteApi!==null&&expedienteApi!==void 0&&(_expedienteApi$attrib15=expedienteApi.attributes)!==null&&_expedienteApi$attrib15!==void 0&&(_expedienteApi$attrib16=_expedienteApi$attrib15.etapa)!==null&&_expedienteApi$attrib16!==void 0&&_expedienteApi$attrib16.nombre?expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib17=expedienteApi.attributes)===null||_expedienteApi$attrib17===void 0?void 0:(_expedienteApi$attrib18=_expedienteApi$attrib17.etapa)===null||_expedienteApi$attrib18===void 0?void 0:_expedienteApi$attrib18.nombre:null})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Vigencia\"}),/*#__PURE__*/_jsx(\"td\",{children:'PENDIENTE POR CONSTRUIR'})]})]})})}),!!(expedienteApi!==null&&expedienteApi!==void 0&&(_expedienteApi$attrib19=expedienteApi.attributes)!==null&&_expedienteApi$attrib19!==void 0&&(_expedienteApi$attrib20=_expedienteApi$attrib19.etapa_log)!==null&&_expedienteApi$attrib20!==void 0&&(_expedienteApi$attrib21=_expedienteApi$attrib20.dependencia)!==null&&_expedienteApi$attrib21!==void 0&&_expedienteApi$attrib21.id)&&!!datosFormExpediente.dependencia&&parseInt(expedienteApi===null||expedienteApi===void 0?void 0:(_expedienteApi$attrib22=expedienteApi.attributes)===null||_expedienteApi$attrib22===void 0?void 0:(_expedienteApi$attrib23=_expedienteApi$attrib22.etapa_log)===null||_expedienteApi$attrib23===void 0?void 0:(_expedienteApi$attrib24=_expedienteApi$attrib23.dependencia)===null||_expedienteApi$attrib24===void 0?void 0:_expedienteApi$attrib24.id)==parseInt(datosFormExpediente.dependencia)?/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return guardarDatos();},className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-save\"}),\" Guardar y asignar\"]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-center\",children:/*#__PURE__*/_jsx(\"b\",{children:\"ATENCI\\xD3N\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0 text-center\",children:[\" La dependencia seleccionada \",/*#__PURE__*/_jsx(\"b\",{children:\"NO\"}),\" corresponde con la dependencia actual del expediente.\"]})]})})]})});};var componentInformacionIncorporacion=function componentInformacionIncorporacion(){var _remisionQuejaIncorpo,_remisionQuejaIncorpo2,_remisionQuejaIncorpo3,_remisionQuejaIncorpo4,_remisionQuejaIncorpo5,_remisionQuejaIncorpo6;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:\"Evaluaci\\xF3n de la queja\"}),/*#__PURE__*/_jsx(\"td\",{children:'Incorporación'})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Fecha registro\"}),/*#__PURE__*/_jsx(\"td\",{children:remisionQuejaIncorporacion===null||remisionQuejaIncorporacion===void 0?void 0:(_remisionQuejaIncorpo=remisionQuejaIncorporacion.attributes)===null||_remisionQuejaIncorpo===void 0?void 0:_remisionQuejaIncorpo.fecha_creacion})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Asignada a la delegada\"}),/*#__PURE__*/_jsx(\"td\",{children:remisionQuejaIncorporacion===null||remisionQuejaIncorporacion===void 0?void 0:(_remisionQuejaIncorpo2=remisionQuejaIncorporacion.attributes)===null||_remisionQuejaIncorpo2===void 0?void 0:(_remisionQuejaIncorpo3=_remisionQuejaIncorpo2.dependencia)===null||_remisionQuejaIncorpo3===void 0?void 0:_remisionQuejaIncorpo3.nombre})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Asignada a\"}),/*#__PURE__*/_jsx(\"td\",{children:remisionQuejaIncorporacion===null||remisionQuejaIncorporacion===void 0?void 0:(_remisionQuejaIncorpo4=remisionQuejaIncorporacion.attributes)===null||_remisionQuejaIncorpo4===void 0?void 0:_remisionQuejaIncorpo4.usuario})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Expediente a incorporar\"}),/*#__PURE__*/_jsx(\"td\",{children:(remisionQuejaIncorporacion===null||remisionQuejaIncorporacion===void 0?void 0:(_remisionQuejaIncorpo5=remisionQuejaIncorporacion.attributes)===null||_remisionQuejaIncorpo5===void 0?void 0:_remisionQuejaIncorpo5.expediente)+' de '+(remisionQuejaIncorporacion===null||remisionQuejaIncorporacion===void 0?void 0:(_remisionQuejaIncorpo6=remisionQuejaIncorporacion.attributes)===null||_remisionQuejaIncorpo6===void 0?void 0:_remisionQuejaIncorpo6.vigencia_expediente)})]})]})})})})})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[isRedirect?redirectToRoutes():null,/*#__PURE__*/_jsx(InfoErrorApi,{error:errorApi}),/*#__PURE__*/_jsx(InfoExitoApiTextsCustom,{success:exitoApiTextsCustom}),existeIncorporacion?componentInformacionIncorporacion():/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"block-title\",children:[\"SINPROC NO \",radicado,\" ::: REMISI\\xD3N QUEJA\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[componentExpedienteForm(),respuestaVariablesApi?componentErrorExpendiente():null,respuestaExpedienteApi?componentInformeExpendiente():null]})]})})})})]});}export default RemisionQuejaForm;","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/RemisionQueja/RemisionQuejaForm.js"],"names":["ErrorMessage","Field","Form","Formik","useEffect","useState","RemisionQuejaApi","InfoErrorApi","Navigate","useParams","useLocation","ParametrosMasApi","InfoExitoApiCustom","InfoExitoApiTextsCustom","GenericApi","RemisionQuejaForm","errorApi","setErrorApi","errorVariablesApi","setErrorVariablesApi","respuestaVariablesApi","setRespuestaVariablesApi","expedienteApi","setExpedienteApi","respuestaExpedienteApi","setRespuestaExpedienteApi","datosFormExpediente","setDatosFormExpediente","respuestaDependenciaOrigen","setRespuestaDependenciaOrigen","data","listaDependenciaOrigen","setListaDependenciaOrigen","existeIncorporacion","setExisteIncorporacion","remisionQuejaIncorporacion","setRemisionQuejaIncorporacion","titulo","cuerpo","boton","exitoApiTextsCustom","setExitoApiTextsCustom","location","from","state","radicado","procesoDisciplinarioId","fase","isRedirect","setIsRedirect","redirectToRoutes","fetchData","consultarIncorporacionExistente","then","datosRemision","error","attributes","getByIdGeneric","global","Constants","ACCESO_DEPENDENCIA","REMISION_QUEJA_INCORPORACION","datos","window","showModal","validarDatos","dependencia","expediente","vigencia","consultarValidacionExpediente","variables","guardarDatos","id","addIncorporacionExpediente","console","log","componentSelectDependenciaOrigen","map","i","nombre","componentExpedienteForm","valores","errores","resetForm","errors","componentErrorExpendiente","componentInformeExpendiente","fecha_registro","anexos","antecedente","descripcion","usuario","apellido","etapa_log","etapa","parseInt","componentInformacionIncorporacion","fecha_creacion","vigencia_expediente"],"mappings":"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","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport { useEffect, useState } from 'react';\r\nimport RemisionQuejaApi from '../../Api/Services/RemisionQuejaApi';\r\nimport InfoErrorApi from '../../Utils/InfoErrorApi';\r\nimport { Navigate, useParams } from \"react-router\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport ParametrosMasApi from \"./../../Api/Services/ParametrosMasApi\";\r\nimport InfoExitoApiCustom from '../../Utils/InfoExitoApiCustom';\r\nimport InfoExitoApiTextsCustom from '../../Utils/InfoExitoApiTextsCustom';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport '../../Utils/Constants';\r\nfunction RemisionQuejaForm() {\r\n\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [errorVariablesApi, setErrorVariablesApi] = useState({});\r\n    const [respuestaVariablesApi, setRespuestaVariablesApi] = useState(false);\r\n    const [expedienteApi, setExpedienteApi] = useState([]);\r\n    const [respuestaExpedienteApi, setRespuestaExpedienteApi] = useState(false);\r\n    const [datosFormExpediente, setDatosFormExpediente] = useState({});\r\n\r\n    const [respuestaDependenciaOrigen, setRespuestaDependenciaOrigen] = useState(false);\r\n    const [listaDependenciaOrigen, setListaDependenciaOrigen] = useState({ data: {} });\r\n\r\n\r\n    const [existeIncorporacion, setExisteIncorporacion] = useState(false);\r\n    const [remisionQuejaIncorporacion, setRemisionQuejaIncorporacion] = useState({ data: {} });\r\n\r\n    const [exitoApiTextsCustom, setExitoApiTextsCustom] = useState({ titulo: null, cuerpo: null, boton: null });\r\n\r\n    const location = useLocation()\r\n    const { from } = location.state\r\n    let radicado = from.radicado;\r\n    let procesoDisciplinarioId = from.procesoDisciplinarioId;\r\n    let fase = 'Remision queja incorporacion'; /*Este dato se establece para obtener la información necesaria del API teniendo en cuenta la fase*/\r\n    const [isRedirect, setIsRedirect] = useState(false);\r\n\r\n    /*Redirects*/\r\n    const redirectToRoutes = () => {\r\n        return <Navigate to={`/RamasProceso`} state={{ from: from }} />;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        async function fetchData() {\r\n            RemisionQuejaApi.consultarIncorporacionExistente(procesoDisciplinarioId).then(\r\n                datosRemision => {\r\n                    if (!datosRemision.error) {\r\n                        if (datosRemision.data.attributes) {\r\n                            setRemisionQuejaIncorporacion(datosRemision.data);\r\n                            setExisteIncorporacion(true);\r\n                        }\r\n                        else {\r\n                            setExisteIncorporacion(false);\r\n\r\n                            //ParametrosMasApi.getDependenciaOrigeByFase(fase).then(\r\n                            //en la tabla MAS_DEPENDENCIA_ACCESO el 3 corresponde a Crear remision queja\r\n                            GenericApi.getByIdGeneric('mas-dependencia-filtrado', global.Constants.ACCESO_DEPENDENCIA.REMISION_QUEJA_INCORPORACION).then(\r\n                                datos => !datos.error ? (setListaDependenciaOrigen(datos), setRespuestaDependenciaOrigen(true)) : window.showModal(1)\r\n                            )\r\n                        }\r\n                    }\r\n                    else {\r\n                        setErrorApi(datosRemision.error);\r\n                        window.showModal(1);\r\n                    }\r\n                }\r\n            )\r\n        }\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    const validarDatos = (datos) => {\r\n\r\n        setDatosFormExpediente(datos);\r\n\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": \"remision_queja\",\r\n                \"attributes\": {\r\n                    \"accion\": 1,\r\n                    \"dependencia\": datos.dependencia,\r\n                    \"expediente\": datos.expediente,\r\n                    \"vigencia\": datos.vigencia,\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId\r\n                }\r\n            }\r\n        }\r\n\r\n        RemisionQuejaApi.consultarValidacionExpediente(data).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setExpedienteApi(datos.data);\r\n                    setRespuestaVariablesApi(false);\r\n                    setRespuestaExpedienteApi(true);\r\n                }\r\n                else {\r\n\r\n                    setRespuestaExpedienteApi(false);\r\n                    setRespuestaVariablesApi(false);\r\n\r\n                    if (datos.variables) {\r\n                        setErrorVariablesApi(datos.variables);\r\n                        setRespuestaVariablesApi(true);\r\n                    }\r\n                    else {\r\n                        setErrorApi(datos.error);\r\n                        window.showModal(1);\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const guardarDatos = () => {\r\n\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": \"remision_queja\",\r\n                \"attributes\": {\r\n                    \"accion\": 2,\r\n                    \"dependencia\": datosFormExpediente.dependencia,\r\n                    \"expediente\": datosFormExpediente.expediente,\r\n                    \"vigencia\": datosFormExpediente.vigencia,\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                    \"id_proceso_disciplinario_expediente\": expedienteApi.id,\r\n                    \"version\": 305\r\n                }\r\n            }\r\n        }\r\n\r\n        RemisionQuejaApi.addIncorporacionExpediente(data).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setExitoApiTextsCustom(\r\n                        {\r\n                            titulo: 'Expediente incorporado',\r\n                            cuerpo: 'El expediente ' + radicado + ' fue incorporado el expediente ' + datosFormExpediente.expediente,\r\n                            boton: 'Aceptar'\r\n                        }\r\n                    );\r\n                    window.showModal(6);\r\n                    setIsRedirect(true);\r\n                }\r\n                else {\r\n                    console.log(datos.error);\r\n                    //setErrorApi(datos.error);\r\n                    window.showModal(1);\r\n                }\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n    /*\r\n    * Componentes\r\n    */\r\n\r\n    const componentSelectDependenciaOrigen = () => {\r\n        return (\r\n            listaDependenciaOrigen.data.map((dependencia, i) => {\r\n                return (\r\n                    <option key={dependencia.id} value={dependencia.id}>{dependencia.attributes.nombre}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const componentExpedienteForm = () => {\r\n        return (\r\n            <>\r\n                <Formik\r\n                    initialValues={{\r\n                        dependencia: '',\r\n                        expediente: '',\r\n                        vigencia: ''\r\n                    }}\r\n                    enableReinitialize\r\n                    validate={(valores) => {\r\n                        let errores = {};\r\n\r\n                        if (!valores.dependencia) {\r\n                            errores.dependencia = 'Debe seleccionar la dependencia';\r\n                        }\r\n\r\n                        if (!valores.expediente) {\r\n                            errores.expediente = 'Debe digitar el número de expediente';\r\n                        }\r\n\r\n                        if (!valores.vigencia) {\r\n                            errores.vigencia = 'Debe digitar la vigencia';\r\n                        }\r\n\r\n                        return errores;\r\n                    }}\r\n                    onSubmit={(valores, { resetForm }) => {\r\n                        validarDatos(valores);\r\n                    }}>\r\n                    {({ errors }) => (\r\n                        <Form>\r\n                            <div className='row'>\r\n                                <div className='col-md-12'>\r\n                                    <div className='alert alert-primary' role='alert'>\r\n                                        <p className='mb-0'> ATENCIÓN: </p>\r\n                                        <p className='mb-0'> POR PARÁMETROS DEL SISTEMA, PARA UNA QUEJA CLASIFICADA EN LA ETAPA DE EVALUACIÓN COMO: <b><u>INCOPORACION</u></b>; SE DEBE SELECCIONAR LA DEPENDENCIA DEL EJE DE POTESTAD DISCIPLINARIA QUE CONTINUARÁ CON EL TRÁMITE DEL EXPEDIENTE.</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className='col-md-12'>\r\n                                    <label htmlFor='dependencia'>Dependencia <span className='text-danger'>*</span></label>\r\n                                    <Field as='select' className='form-control' id='dependencia' name='dependencia'>\r\n                                        <option value=''>Seleccione la dependencia</option>\r\n                                        {respuestaDependenciaOrigen ? componentSelectDependenciaOrigen() : null}\r\n                                    </Field>\r\n                                    <ErrorMessage name='dependencia' component={() => (<span className='text-danger'>{errors.dependencia}</span>)} />\r\n                                </div>\r\n\r\n                                <div className='col-md-6'>\r\n                                    <label htmlFor='expediente'>No de expediente <span className='text-danger'>*</span></label>\r\n                                    <Field className='form-control' id='expediente' name='expediente'></Field>\r\n                                    <ErrorMessage name='expediente' component={() => (<span className='text-danger'>{errors.expediente}</span>)} />\r\n                                </div>\r\n\r\n                                <div className='col-md-6'>\r\n                                    <label htmlFor='vigencia'>Vigencia del expediente <span className='text-danger'>*</span></label>\r\n                                    <Field className='form-control' id='vigencia' name='vigencia'></Field>\r\n                                    <ErrorMessage name='vigencia' component={() => (<span className='text-danger'>{errors.vigencia}</span>)} />\r\n                                </div>\r\n\r\n                                <div className='block-content block-content-full text-right'>\r\n                                    <button type='submit' className='btn btn-danger'>\r\n                                        <i className='fa fa-fw fa-search'></i> Validar Expediente\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const componentErrorExpendiente = () => {\r\n        return (\r\n            <>\r\n                <div className='row'>\r\n                    <div className='col-md-12'>\r\n                        <div className='alert alert-danger' role='alert'>\r\n                            <p className='mb-0 text-center'><b>INCONSISTENCIA EN LOS DATOS INGRESADOS</b></p>\r\n                            <p className='mb-0'>No se encontró registrado ningún Proceso Disciplinario asociado a los datos ingresados, es necesario que confirme la información para continuar con el trámite del expediente. <br></br>Si posterior a la revisión de los datos del expediente a incorporar persiste el presente mensaje, por favor contacte a la Dirección de TIC e informe de la presente alerta.</p><br></br>\r\n                            <b>* Dependencia cosultada: </b>{errorVariablesApi.dependencia ? errorVariablesApi.dependencia : null}<br></br>\r\n                            <b>* SINPROC consultado: </b>{errorVariablesApi.expediente ? errorVariablesApi.expediente : null}<br></br>\r\n                            <b>* Para la vigencia: </b>{errorVariablesApi.vigencia ? errorVariablesApi.vigencia : null}<br></br>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const componentInformeExpendiente = () => {\r\n\r\n        console.log(\"Daticos\", expedienteApi);\r\n\r\n        return (\r\n            <>\r\n                <div className='row'>\r\n                    <div className='col-md-12 text-center'>\r\n                        <label>DATOS DEL EXPEDIENTE A INCORPORAR</label>\r\n                    </div>\r\n\r\n                    <div className='col-md-12'>\r\n                        <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <th>Datos consultados</th>\r\n                                    <td>SINPROC {datosFormExpediente.expediente} - VIGENCIA {datosFormExpediente.vigencia}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Hechos</th>\r\n                                    <td>\r\n                                        Fecha radicación: {expedienteApi?.attributes?.fecha_registro}<br></br>\r\n                                        Anexos: {expedienteApi?.attributes?.anexos}<br></br>\r\n                                        Asunto: {expedienteApi?.attributes?.antecedente?.descripcion}<br></br>\r\n                                        Observaciones: {expedienteApi?.attributes?.usuario?.nombre + \" \" + expedienteApi?.attributes?.usuario?.apellido }\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Dependencia de gestión</th>\r\n                                    <td>{expedienteApi?.attributes?.etapa_log?.dependencia?.nombre ? expedienteApi?.attributes?.etapa_log?.dependencia?.nombre : 'SIN INFORMACIÓN'}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Etapa actual en SINPROC</th>\r\n                                    <td>{expedienteApi?.attributes?.etapa?.nombre ? expedienteApi?.attributes?.etapa?.nombre : null}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <th>Vigencia</th>\r\n                                    <td>{'PENDIENTE POR CONSTRUIR'}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n\r\n                    {\r\n                        (!!expedienteApi?.attributes?.etapa_log?.dependencia?.id && !!datosFormExpediente.dependencia && parseInt(expedienteApi?.attributes?.etapa_log?.dependencia?.id) == parseInt(datosFormExpediente.dependencia)) ?\r\n                            (\r\n                                <div className='col-md-12'>\r\n                                    <div className='block-content block-content-full text-center'>\r\n                                        <button onClick={() => guardarDatos()} className='btn btn-primary'>\r\n                                            <i className='fa fa-fw fa-save'></i> Guardar y asignar\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ) :\r\n                            (\r\n                                <div className='col-md-12'>\r\n                                    <div className='alert alert-danger' role='alert'>\r\n                                        <p className='mb-0 text-center'><b>ATENCIÓN</b></p>\r\n                                        <p className='mb-0 text-center'> La dependencia seleccionada <b>NO</b> corresponde con la dependencia actual del expediente.</p>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                    }\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const componentInformacionIncorporacion = () => {\r\n        return (\r\n            <>\r\n                <div className='content'>\r\n                    <div className='row'>\r\n                        <div className='col-md-12'>\r\n                            <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <th width=\"20%\">Evaluación de la queja</th>\r\n                                        <td>{'Incorporación'}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Fecha registro</th>\r\n                                        <td>{remisionQuejaIncorporacion?.attributes?.fecha_creacion}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Asignada a la delegada</th>\r\n                                        <td>{remisionQuejaIncorporacion?.attributes?.dependencia?.nombre}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Asignada a</th>\r\n                                        <td>{remisionQuejaIncorporacion?.attributes?.usuario}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>Expediente a incorporar</th>\r\n                                        <td>{remisionQuejaIncorporacion?.attributes?.expediente + ' de ' + remisionQuejaIncorporacion?.attributes?.vigencia_expediente}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {isRedirect ? redirectToRoutes() : null}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            {<InfoExitoApiTextsCustom success={exitoApiTextsCustom} />}\r\n            {\r\n                existeIncorporacion ?\r\n                    (\r\n                        componentInformacionIncorporacion()\r\n                    )\r\n                    :\r\n                    (\r\n                        <div className='content'>\r\n                            <div className='row'>\r\n                                <div className='col-md-12'>\r\n                                    <div className='block block-themed'>\r\n                                        <div className='block-header'>\r\n                                            <h3 className='block-title'>SINPROC NO {radicado} ::: REMISIÓN QUEJA</h3>\r\n                                        </div>\r\n                                        <div className='block-content'>\r\n                                            {componentExpedienteForm()}\r\n                                            {respuestaVariablesApi ? componentErrorExpendiente() : null}\r\n                                            {respuestaExpedienteApi ? componentInformeExpendiente() : null}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n\r\n\r\n            }\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default RemisionQuejaForm;\r\n"]},"metadata":{},"sourceType":"module"}