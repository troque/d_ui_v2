{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAutoformState = exports.useAutofieldState = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"./utils\");\n\nvar _coercing = require(\"./coercing\");\n\nvar _pubsub = require(\"./pubsub\");\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst useAutoformState = _ref => {\n  let {\n    initialValues,\n    onSubmit,\n    onChange,\n    schema,\n    skin,\n    formHook,\n    skipManualReset\n  } = _ref;\n  const stateRef = (0, _react.useRef)({\n    stateControl: new _pubsub.PubSub(),\n    fields: {}\n  });\n  const {\n    stateControl\n  } = stateRef.current;\n  const coercersBase = {\n    initialValues,\n    stateRef,\n    skin,\n    onSubmit,\n    schema\n  };\n  const coercedSubmit = (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n    notify: onSubmit\n  }));\n  let coercedChange;\n\n  if (onChange) {\n    const coercedChangeDoc = onChange && (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n      notify: onChange\n    }));\n\n    coercedChange = () => {\n      const doc = formHook.getValues();\n      return coercedChangeDoc(doc);\n    };\n  } else {\n    coercedChange = null;\n  }\n\n  const schemaDef = schema.getSchema();\n\n  const findOrInitState = name => {\n    return (0, _utils.valueOrCreate)(stateRef.current.fields, name, () => {\n      const nameForVisible = `${name}.initiallyVisible`;\n      const initiallyVisible = (0, _utils.objectTraverse)(schemaDef, nameForVisible, {\n        returnValue: true\n      });\n      return {\n        visible: initiallyVisible === null ? true : initiallyVisible,\n        helperText: null\n      };\n    });\n  };\n\n  const setValue = function (name, value) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const fieldState = findOrInitState(name);\n\n    const newState = _objectSpread(_objectSpread({}, fieldState), {}, {\n      value,\n      changed: true\n    });\n\n    if (!options.skipSetInput) formHook.setValue(name, value, options);\n  };\n\n  stateControl.findOrInitState = findOrInitState;\n  stateControl.setValue = setValue;\n  /**\n   * Sets values in the stateRef. Doesn't trigger.\n   */\n\n  const setValues = (values, _ref2) => {\n    let {\n      parent = null,\n      field\n    } = _ref2;\n    const fields = Object.keys(values);\n    fields.forEach(field => {\n      const cur = values[field];\n\n      if (typeof cur == 'object') {\n        return setValues(cur, {\n          parent: field,\n          field\n        });\n      } else {\n        const name = inputName({\n          parent,\n          field\n        });\n        findOrInitState(fieldName);\n      }\n    });\n  };\n\n  const resetState = (values, omit) => {\n    stateRef.current.fields = {};\n    setValues(values || {}, {});\n    const currentValues = formHook.getValues();\n\n    if (!skipManualReset) {\n      // Reset by setting everything to initialValues or null.\n      function resetValues(obj) {\n        let initials = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        let path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n        let isArray = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        const fields = Object.keys(obj);\n        fields.forEach((field, idx) => {\n          const value = obj[field];\n          const elPath = isArray ? `${path}.${idx}` : path ? `${path}.${field}` : field;\n          const initial = initials[field];\n          if (typeof value == 'object') resetValues(value, initial, elPath, Array.isArray(value));else {\n            const initialOrNull = typeof initial == 'undefined' ? null : initial;\n            formHook.setValue(elPath, initialOrNull);\n          }\n        });\n      }\n\n      resetValues(currentValues, initialValues);\n    }\n\n    formHook.reset(values, omit);\n  };\n\n  const changeAndPublish = (name, attr, value) => {\n    const state = findOrInitState(name);\n    stateControl.publish(name, _objectSpread(_objectSpread({}, state), {}, {\n      [attr]: value\n    }));\n    state[attr] = value;\n  };\n\n  const setVisible = (name, visible) => {\n    changeAndPublish(name, 'visible', visible);\n  };\n\n  const setHelperText = (name, text) => {\n    changeAndPublish(name, 'helperText', text);\n  };\n\n  const getValues = () => {\n    let values = {};\n    const coercedGetValues = (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n      notify: coerced => {\n        (0, _utils.deepmerge)(values, coerced);\n      }\n    }));\n    const doc = formHook.getValues();\n    coercedGetValues(doc);\n    return values;\n  };\n\n  return {\n    coercedSubmit,\n    coercedChange,\n    setValue,\n    setVisible,\n    setHelperText,\n    resetState,\n    stateControl,\n    getValues\n  };\n}; // Subscribes to visible, helperText and potential future additions\n\n\nexports.useAutoformState = useAutoformState;\n\nconst useAutofieldState = _ref3 => {\n  let {\n    name,\n    stateControl\n  } = _ref3;\n  const initialState = stateControl.findOrInitState(name);\n  const [state, setState] = (0, _react.useState)(_objectSpread({}, initialState));\n  (0, _react.useEffect)(() => {\n    stateControl.subscribe(name, setState);\n    return () => {\n      stateControl.unsubscribe(name, setState);\n    };\n  }, []);\n  return state;\n};\n\nexports.useAutofieldState = useAutofieldState;","map":{"version":3,"names":["Object","defineProperty","exports","value","useAutoformState","useAutofieldState","_react","_interopRequireWildcard","require","_utils","_coercing","_pubsub","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","initialValues","onSubmit","onChange","schema","skin","formHook","skipManualReset","stateRef","useRef","stateControl","PubSub","fields","current","coercersBase","coercedSubmit","createCoercers","notify","coercedChange","coercedChangeDoc","doc","getValues","schemaDef","getSchema","findOrInitState","name","valueOrCreate","nameForVisible","initiallyVisible","objectTraverse","returnValue","visible","helperText","setValue","options","fieldState","newState","changed","skipSetInput","setValues","values","parent","field","cur","inputName","fieldName","resetState","omit","currentValues","resetValues","initials","path","isArray","idx","elPath","initial","Array","initialOrNull","reset","changeAndPublish","attr","state","publish","setVisible","setHelperText","text","coercedGetValues","coerced","deepmerge","initialState","setState","useState","useEffect","subscribe","unsubscribe"],"sources":["C:/w2d/personeria/personeria-ui/node_modules/react-hook-form-auto/lib/autoform_state.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAutoformState = exports.useAutofieldState = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _utils = require(\"./utils\");\n\nvar _coercing = require(\"./coercing\");\n\nvar _pubsub = require(\"./pubsub\");\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst useAutoformState = ({\n  initialValues,\n  onSubmit,\n  onChange,\n  schema,\n  skin,\n  formHook,\n  skipManualReset\n}) => {\n  const stateRef = (0, _react.useRef)({\n    stateControl: new _pubsub.PubSub(),\n    fields: {}\n  });\n  const {\n    stateControl\n  } = stateRef.current;\n  const coercersBase = {\n    initialValues,\n    stateRef,\n    skin,\n    onSubmit,\n    schema\n  };\n  const coercedSubmit = (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n    notify: onSubmit\n  }));\n  let coercedChange;\n\n  if (onChange) {\n    const coercedChangeDoc = onChange && (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n      notify: onChange\n    }));\n\n    coercedChange = () => {\n      const doc = formHook.getValues();\n      return coercedChangeDoc(doc);\n    };\n  } else {\n    coercedChange = null;\n  }\n\n  const schemaDef = schema.getSchema();\n\n  const findOrInitState = name => {\n    return (0, _utils.valueOrCreate)(stateRef.current.fields, name, () => {\n      const nameForVisible = `${name}.initiallyVisible`;\n      const initiallyVisible = (0, _utils.objectTraverse)(schemaDef, nameForVisible, {\n        returnValue: true\n      });\n      return {\n        visible: initiallyVisible === null ? true : initiallyVisible,\n        helperText: null\n      };\n    });\n  };\n\n  const setValue = (name, value, options = {}) => {\n    const fieldState = findOrInitState(name);\n\n    const newState = _objectSpread(_objectSpread({}, fieldState), {}, {\n      value,\n      changed: true\n    });\n\n    if (!options.skipSetInput) formHook.setValue(name, value, options);\n  };\n\n  stateControl.findOrInitState = findOrInitState;\n  stateControl.setValue = setValue;\n  /**\n   * Sets values in the stateRef. Doesn't trigger.\n   */\n\n  const setValues = (values, {\n    parent = null,\n    field\n  }) => {\n    const fields = Object.keys(values);\n    fields.forEach(field => {\n      const cur = values[field];\n\n      if (typeof cur == 'object') {\n        return setValues(cur, {\n          parent: field,\n          field\n        });\n      } else {\n        const name = inputName({\n          parent,\n          field\n        });\n        findOrInitState(fieldName);\n      }\n    });\n  };\n\n  const resetState = (values, omit) => {\n    stateRef.current.fields = {};\n    setValues(values || {}, {});\n    const currentValues = formHook.getValues();\n\n    if (!skipManualReset) {\n      // Reset by setting everything to initialValues or null.\n      function resetValues(obj, initials = {}, path = '', isArray = false) {\n        const fields = Object.keys(obj);\n        fields.forEach((field, idx) => {\n          const value = obj[field];\n          const elPath = isArray ? `${path}.${idx}` : path ? `${path}.${field}` : field;\n          const initial = initials[field];\n          if (typeof value == 'object') resetValues(value, initial, elPath, Array.isArray(value));else {\n            const initialOrNull = typeof initial == 'undefined' ? null : initial;\n            formHook.setValue(elPath, initialOrNull);\n          }\n        });\n      }\n\n      resetValues(currentValues, initialValues);\n    }\n\n    formHook.reset(values, omit);\n  };\n\n  const changeAndPublish = (name, attr, value) => {\n    const state = findOrInitState(name);\n    stateControl.publish(name, _objectSpread(_objectSpread({}, state), {}, {\n      [attr]: value\n    }));\n    state[attr] = value;\n  };\n\n  const setVisible = (name, visible) => {\n    changeAndPublish(name, 'visible', visible);\n  };\n\n  const setHelperText = (name, text) => {\n    changeAndPublish(name, 'helperText', text);\n  };\n\n  const getValues = () => {\n    let values = {};\n    const coercedGetValues = (0, _coercing.createCoercers)(_objectSpread(_objectSpread({}, coercersBase), {}, {\n      notify: coerced => {\n        (0, _utils.deepmerge)(values, coerced);\n      }\n    }));\n    const doc = formHook.getValues();\n    coercedGetValues(doc);\n    return values;\n  };\n\n  return {\n    coercedSubmit,\n    coercedChange,\n    setValue,\n    setVisible,\n    setHelperText,\n    resetState,\n    stateControl,\n    getValues\n  };\n}; // Subscribes to visible, helperText and potential future additions\n\n\nexports.useAutoformState = useAutoformState;\n\nconst useAutofieldState = ({\n  name,\n  stateControl\n}) => {\n  const initialState = stateControl.findOrInitState(name);\n  const [state, setState] = (0, _react.useState)(_objectSpread({}, initialState));\n  (0, _react.useEffect)(() => {\n    stateControl.subscribe(name, setState);\n    return () => {\n      stateControl.unsubscribe(name, setState);\n    };\n  }, []);\n  return state;\n};\n\nexports.useAutofieldState = useAutofieldState;"],"mappings":"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"},"metadata":{},"sourceType":"script"}