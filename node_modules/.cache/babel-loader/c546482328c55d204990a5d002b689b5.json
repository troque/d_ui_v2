{"ast":null,"code":"import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import'../../Utils/Constants';import{logDOM}from'@testing-library/react';import ModalItemsEditar from'./ModalItemsEditar';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ModalItems(props){// Se inicializan las constantes\nvar navigate=useNavigate();var _useState=useState(props.data.show),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),getInformacion=_useState4[0],setInformacion=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),getValidarInformacion=_useState6[0],setValidarInformacion=_useState6[1];var _useState7=useState(props.data.permitirEditar),_useState8=_slicedToArray(_useState7,2),getPermitirEditar=_useState8[0],setPermitirEditar=_useState8[1];var _useState9=useState({title:\"\",message:\"\",show:false,data:{}}),_useState10=_slicedToArray(_useState9,2),getModalStateEditar=_useState10[0],setModalStateEditar=_useState10[1];// Metodo encargado de cerrar el modal\nvar handleClose=function handleClose(){// Se valida que sea diferente de indefinido\nif(props.data.redirect!=undefined)// Se redirecciona a la url\nnavigate(props.data.redirect,{state:props.data.from});// Se setea la propiedad en false\nprops.data.show=false;// Se quita el modal\nsetShow(false);};// Metodo encargado de generar el modal\nuseEffect(function(){// Se setea el valor para mostrar el modal\nsetShow(props.data.show);// Se captura el array de los items\nvar arrayInformacionData=props.data.data;// Se setea en true\nsetPermitirEditar(props.data.permitirEditar);// Se valida que haya informacion\nif(arrayInformacionData&&arrayInformacionData.length>0){// Se setea en true\nsetValidarInformacion(true);}// Se setea el array general\nsetInformacion(arrayInformacionData);},[props.data.show]);// Metodo encargado de listar los items en la tabla\nvar listaItems=function listaItems(){// Se valida que exista informacion\nif(getInformacion){// Se retorna\nreturn(// Se mapea la informacion\ngetInformacion.map(function(item,i){// Se valida cuando es un elemento normal\nif(item.tipoCampo!=2){// Se retorna la informacion\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{id:\"valorItem\"+item.items,name:\"valorItem\"+item.items,style:{border:'none'},children:/*#__PURE__*/_jsxs(\"b\",{style:{fontWeight:'bold',marginBottom:'0px'},children:[item.nombreCampo,\" \"]})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{id:\"valorItem\"+item.items,name:\"valorItem\"+item.items,style:{border:'none',marginBottom:'0px'},children:item.items})})]},item.items+i);}else{// Se retorna la informacion\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{id:\"valorItem\"+item.items,name:\"valorItem\"+item.items,style:{border:'none'},children:/*#__PURE__*/_jsxs(\"b\",{style:{fontWeight:'bold',marginBottom:'0px'},children:[\" \",item.nombreCampo.trim(),\" \"]})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{id:\"valorItem\"+item.items,name:\"valorItem\"+item.items,style:{border:'none',marginBottom:'0px'},children:item.itemsSeleccionado.join(\", \")})})]},item.items+i);}}));}};// Metodo encargado de editar los items\nvar editarItems=function editarItems(){// Se setea la propiedad en false\nprops.data.show=false;// Se setea los valores\nsetModalStateEditar({title:\" Editar :: Campos adicionales\",show:true,data:getInformacion,uuidActuacion:props.data.uuidActuacion});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ModalItemsEditar,{data:getModalStateEditar}),/*#__PURE__*/_jsx(Modal,{show:show,children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(Modal.Header,{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsxs(Modal.Title,{className:\"block-title\",children:[\" \",props.data.title]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleClose,className:\"btn-block-option\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-times\"})})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:getValidarInformacion?/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full table-responsive-md\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"th\",{colSpan:\"2\",style:{textAlign:'center',fontWeight:'bold'},children:\"Listado de Items\"})}),/*#__PURE__*/_jsx(\"tbody\",{children:listaItems()})]})}):null})}),getPermitirEditar?/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center'},children:/*#__PURE__*/_jsx(Button,{className:\"btn btn-rounded btn-primary\",variant:\"primary\",onClick:editarItems,children:\"Editar Items\"})}):null]})})]});}export default ModalItems;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Modal","Button","logDOM","ModalItemsEditar","ModalItems","props","navigate","data","show","setShow","getInformacion","setInformacion","getValidarInformacion","setValidarInformacion","permitirEditar","getPermitirEditar","setPermitirEditar","title","message","getModalStateEditar","setModalStateEditar","handleClose","redirect","undefined","state","from","arrayInformacionData","length","listaItems","map","item","i","tipoCampo","items","border","fontWeight","marginBottom","nombreCampo","trim","itemsSeleccionado","join","editarItems","uuidActuacion","textAlign","display","justifyContent"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalItemsVer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport '../../Utils/Constants';\r\nimport { logDOM } from '@testing-library/react';\r\nimport ModalItemsEditar from './ModalItemsEditar';\r\n\r\nfunction ModalItems(props) {\r\n\r\n    // Se inicializan las constantes\r\n    const navigate = useNavigate();\r\n    const [show, setShow] = useState(props.data.show);\r\n    const [getInformacion, setInformacion] = useState([]);\r\n    const [getValidarInformacion, setValidarInformacion] = useState(false);\r\n    const [getPermitirEditar, setPermitirEditar] = useState(props.data.permitirEditar);\r\n    const [getModalStateEditar, setModalStateEditar] = useState({ title: \"\", message: \"\", show: false, data: {} });\r\n\r\n    // Metodo encargado de cerrar el modal\r\n    const handleClose = () => {\r\n\r\n        // Se valida que sea diferente de indefinido\r\n        if (props.data.redirect != undefined)\r\n\r\n            // Se redirecciona a la url\r\n            navigate(props.data.redirect, { state: props.data.from });\r\n\r\n        // Se setea la propiedad en false\r\n        props.data.show = false;\r\n\r\n        // Se quita el modal\r\n        setShow(false);\r\n    };\r\n\r\n    // Metodo encargado de generar el modal\r\n    useEffect(() => {\r\n\r\n        // Se setea el valor para mostrar el modal\r\n        setShow(props.data.show);\r\n\r\n        // Se captura el array de los items\r\n        let arrayInformacionData = props.data.data;\r\n\r\n        // Se setea en true\r\n        setPermitirEditar(props.data.permitirEditar);\r\n\r\n        // Se valida que haya informacion\r\n        if (arrayInformacionData && arrayInformacionData.length > 0) {\r\n\r\n            // Se setea en true\r\n            setValidarInformacion(true);\r\n        }\r\n\r\n        // Se setea el array general\r\n        setInformacion(arrayInformacionData);\r\n\r\n    }, [props.data.show])\r\n\r\n    // Metodo encargado de listar los items en la tabla\r\n    const listaItems = () => {\r\n\r\n        // Se valida que exista informacion\r\n        if (getInformacion) {\r\n\r\n            // Se retorna\r\n            return (\r\n\r\n                // Se mapea la informacion\r\n                getInformacion.map((item, i) => {\r\n\r\n                    // Se valida cuando es un elemento normal\r\n                    if (item.tipoCampo != 2) {\r\n\r\n                        // Se retorna la informacion\r\n                        return (\r\n                            <tr key={item.items + i} >\r\n                                <td>\r\n                                    <p\r\n                                        id={\"valorItem\" + item.items}\r\n                                        name={\"valorItem\" + item.items}\r\n                                        style={{ border: 'none' }}\r\n                                    >\r\n                                        <b style={{ fontWeight: 'bold', marginBottom: '0px' }}>{item.nombreCampo} </b>\r\n                                    </p>\r\n                                </td>\r\n                                <td>\r\n                                    <p\r\n                                        id={\"valorItem\" + item.items}\r\n                                        name={\"valorItem\" + item.items}\r\n                                        style={{ border: 'none', marginBottom: '0px' }}\r\n                                    >\r\n                                        {item.items}\r\n                                    </p>\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    } else {\r\n\r\n                        // Se retorna la informacion\r\n                        return (\r\n                            <tr key={item.items + i} >\r\n                                <td>\r\n                                    <p\r\n                                        id={\"valorItem\" + item.items}\r\n                                        name={\"valorItem\" + item.items}\r\n                                        style={{ border: 'none' }}\r\n                                    >\r\n                                        <b style={{ fontWeight: 'bold', marginBottom: '0px' }}> {item.nombreCampo.trim()} </b>\r\n                                    </p>\r\n                                </td>\r\n                                <td>\r\n                                    <p\r\n                                        id={\"valorItem\" + item.items}\r\n                                        name={\"valorItem\" + item.items}\r\n                                        style={{ border: 'none', marginBottom: '0px' }}\r\n                                    >\r\n                                        {item.itemsSeleccionado.join(\", \")}\r\n                                    </p>\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                    }\r\n                })\r\n            )\r\n        }\r\n    }\r\n\r\n    // Metodo encargado de editar los items\r\n    const editarItems = () => {\r\n\r\n        // Se setea la propiedad en false\r\n        props.data.show = false;\r\n\r\n        // Se setea los valores\r\n        setModalStateEditar({ title: \" Editar :: Campos adicionales\", show: true, data: getInformacion, uuidActuacion: props.data.uuidActuacion });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<ModalItemsEditar data={getModalStateEditar} />}\r\n            <Modal show={show}>\r\n                <div className=\"block block-themed block-transparent mb-0\">\r\n                    <Modal.Header className=\"block-header bg-primary-dark\">\r\n                        <Modal.Title className='block-title'> {props.data.title}</Modal.Title>\r\n                        <Button variant=\"primary\" onClick={handleClose} className='btn-block-option'>\r\n                            <i className=\"fa fa-fw fa-times\"></i>\r\n                        </Button>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <div className='row'>\r\n                            {/* Se valida que exista informacion de los items */}\r\n                            {getValidarInformacion ?\r\n                                <div className=\"block-content\">\r\n                                    <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full table-responsive-md\">\r\n                                        <thead>\r\n                                            <th colSpan=\"2\" style={{ textAlign: 'center', fontWeight: 'bold' }}>\r\n                                                Listado de Items\r\n                                            </th>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {listaItems()}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                                : null}\r\n                        </div>\r\n                    </Modal.Body>\r\n                    {getPermitirEditar ?\r\n                        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                            <Button className='btn btn-rounded btn-primary' variant=\"primary\" onClick={editarItems}>\r\n                                Editar Items\r\n                            </Button>\r\n                        </div>\r\n                        : null}\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalItems;"],"mappings":"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"},"metadata":{},"sourceType":"module"}