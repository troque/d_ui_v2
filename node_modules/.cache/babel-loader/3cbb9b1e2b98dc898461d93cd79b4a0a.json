{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\RamasProceso\\\\Herramientas\\\\TipoConductaForm.js\",\n    _s = $RefreshSig$();\n\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport Spinner from '../../Utils/Spinner';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport '../../Utils/Constants';\nimport GenericApi from '../../Api/Services/GenericApi';\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TipoConductaForm() {\n  _s();\n\n  const [getNombreUsuario, setNombreUsuario] = useState(\"\");\n  const [getModalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  const [getSelectedTipoConducta, setSelectedTipoConducta] = useState(\"\");\n  const [getListaTipoConducta, setListaTipoConducta] = useState({\n    data: {}\n  });\n  const [getRespuesta, setRespuesta] = useState(false);\n  const location = useLocation();\n  const {\n    from\n  } = location.state;\n  let radicado = from.radicado;\n  let procesoDisciplinarioId = from.procesoDisciplinarioId;\n  let dependencia = from.dependencia;\n  useEffect(() => {\n    async function fetchData() {\n      GenericApi.getGeneric(\"mas-tipo-conducta\").then(datos => !datos.error ? (setListaTipoConducta(datos), setRespuesta(true)) : setModalState({\n        title: \"Tipo Conducta:\",\n        message: datos.error.toString(),\n        show: true,\n        redirect: '/RamasProceso',\n        from: {\n          from\n        }\n      }));\n    }\n\n    fetchData();\n  }, []);\n\n  let selectChangeTipoConducta = e => {\n    setSelectedTipoConducta(e);\n  };\n\n  const selectTipoConducta = () => {\n    return getListaTipoConducta.data.map((item, i) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: item.id,\n        children: item.attributes.conducta_nombre\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  const enviarDatos = datos => {\n    window.showSpinner(true);\n    const data = {\n      \"data\": {\n        \"type\": 'evaluacion',\n        \"attributes\": {\n          \"id_proceso_disciplinario\": procesoDisciplinarioId,\n          \"noticia_priorizada\": \"\",\n          \"justificacion\": \"\",\n          \"estado\": global.Constants.ESTADOS_EVALUACION.RECLASIFICADO_POR_JEFE,\n          \"resultado_evaluacion\": \"\",\n          \"tipo_conducta\": datos.tipoConducta\n        }\n      }\n    };\n    GenericApi.updateGeneric('evaluacion', procesoDisciplinarioId, data).then(datos => {\n      if (!datos.error) {\n        if (datos.usuario_remitido) {} else {\n          window.showModal(1);\n        }\n      } else {\n        window.showModal(1);\n      }\n\n      window.showSpinner(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ModalGen, {\n      data: getModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block block-rounded block-bordered\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block-content\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              \"aria-label\": \"breadcrumb\",\n              children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                className: \"breadcrumb breadcrumb-alt push\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                    underline: \"hover\",\n                    className: \"text-dark\",\n                    to: `/MisPendientes`,\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Mis Pendientes\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 138\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 70\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                    underline: \"hover\",\n                    className: \"text-dark\",\n                    to: `/RamasProceso/`,\n                    state: {\n                      from: from\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Ramas del proceso\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 161\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 70\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                    underline: \"hover\",\n                    className: \"text-dark\",\n                    \"aria-current\": \"page\",\n                    to: `/ClasificacionRadicadoLista/`,\n                    state: {\n                      from: from\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Validar Clasificaci\\xF3n\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 195\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 70\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block block-themed\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"block-title\",\n              children: [\" SINPROC No \", radicado, \" :: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Actualizar Tipo de Conducta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 83\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block-content\",\n            children: /*#__PURE__*/_jsxDEV(Formik, {\n              initialValues: {\n                inputTipoConducta: ''\n              },\n              enableReinitialize: true,\n              validate: valores => {\n                let errores = {};\n\n                if (!valores.inputTipoConducta) {\n                  errores.inputTipoConducta = 'Debe seleccionar un tipo de conducta';\n                }\n\n                return errores;\n              },\n              onSubmit: (valores, _ref) => {\n                let {\n                  resetForm\n                } = _ref;\n                enviarDatos(valores);\n              },\n              children: _ref2 => {\n                let {\n                  errors\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(Form, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"ingresoTipoExpediente\",\n                          children: [\"Tipo de conducta\", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-danger\",\n                            children: \"*\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 154,\n                            columnNumber: 104\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 154,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"form-control\",\n                          id: \"inputTipoConducta\",\n                          name: \"inputTipoConducta\",\n                          value: getSelectedTipoConducta,\n                          onChange: e => selectChangeTipoConducta(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            children: \"Por favor seleccione\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 157,\n                            columnNumber: 53\n                          }, this), getRespuesta ? selectTipoConducta() : null]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 155,\n                          columnNumber: 49\n                        }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                          name: \"inputTipoConducta\",\n                          component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-danger\",\n                            children: errors.inputTipoConducta\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 161,\n                            columnNumber: 106\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 161,\n                          columnNumber: 49\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 153,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 152,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-12\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"submit\",\n                        className: \"btn btn-primary\",\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fas fa-check-square\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 166,\n                          columnNumber: 95\n                        }, this), \" Aceptar\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 33\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TipoConductaForm, \"zHWVLZDi4KJ6BxzBj5G324gbU4U=\", false, function () {\n  return [useLocation];\n});\n\n_c = TipoConductaForm;\nexport default TipoConductaForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"TipoConductaForm\");","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/Herramientas/TipoConductaForm.js"],"names":["ErrorMessage","Field","Form","Formik","Spinner","React","useEffect","useState","Link","useLocation","GenericApi","ModalGen","TipoConductaForm","getNombreUsuario","setNombreUsuario","getModalState","setModalState","title","message","show","getSelectedTipoConducta","setSelectedTipoConducta","getListaTipoConducta","setListaTipoConducta","data","getRespuesta","setRespuesta","location","from","state","radicado","procesoDisciplinarioId","dependencia","fetchData","getGeneric","then","datos","error","toString","redirect","selectChangeTipoConducta","e","selectTipoConducta","map","item","i","id","attributes","conducta_nombre","enviarDatos","window","showSpinner","global","Constants","ESTADOS_EVALUACION","RECLASIFICADO_POR_JEFE","tipoConducta","updateGeneric","usuario_remitido","showModal","inputTipoConducta","valores","errores","resetForm","errors","target","value"],"mappings":"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","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport Spinner from '../../Utils/Spinner';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport '../../Utils/Constants';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\r\n\r\nfunction TipoConductaForm() {\r\n\r\n\r\n    const [getNombreUsuario, setNombreUsuario] = useState(\"\");\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n    const [getSelectedTipoConducta, setSelectedTipoConducta] = useState(\"\");\r\n    const [getListaTipoConducta, setListaTipoConducta] =  useState({ data: {} });\r\n    const [getRespuesta, setRespuesta] = useState(false);\r\n\r\n    \r\n    const location = useLocation()\r\n    const { from } = location.state\r\n    let radicado = from.radicado;\r\n    let procesoDisciplinarioId = from.procesoDisciplinarioId;\r\n    let dependencia = from.dependencia;\r\n\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n           GenericApi.getGeneric(\"mas-tipo-conducta\").then(\r\n                datos => !datos.error ? \r\n                (setListaTipoConducta(datos), setRespuesta(true)):\r\n                setModalState({ title: \"Tipo Conducta:\", message: datos.error.toString(), show: true, redirect: '/RamasProceso', from: {from} })\r\n            )\r\n           \r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    let selectChangeTipoConducta = (e) => {\r\n        setSelectedTipoConducta(e);\r\n    }\r\n\r\n\r\n    const selectTipoConducta = () => {\r\n        return (\r\n            getListaTipoConducta.data.map((item, i) => {\r\n                return (\r\n                    <option key={item.id} value={item.id}>{item.attributes.conducta_nombre}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n\r\n    const enviarDatos = (datos) => {\r\n\r\n        window.showSpinner(true);\r\n\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": 'evaluacion',\r\n                \"attributes\": {\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                    \"noticia_priorizada\": \"\",\r\n                    \"justificacion\": \"\",\r\n                    \"estado\": global.Constants.ESTADOS_EVALUACION.RECLASIFICADO_POR_JEFE,\r\n                    \"resultado_evaluacion\":\"\",\r\n                    \"tipo_conducta\": datos.tipoConducta\r\n                }\r\n            }\r\n        }\r\n\r\n        GenericApi.updateGeneric('evaluacion', procesoDisciplinarioId, data).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    \r\n                    if (datos.usuario_remitido) {\r\n                        \r\n                    }\r\n                    else {\r\n                        window.showModal(1);\r\n                    }\r\n                }\r\n                else {\r\n                    window.showModal(1);\r\n                    \r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        \r\n        <>\r\n           {<Spinner />}\r\n           <ModalGen data={getModalState} />\r\n            \r\n            <div className=\"row\">\r\n\r\n            <div className=\"col-md-12\">\r\n                    <div className=\"block block-rounded block-bordered\">\r\n                        <div className=\"block-content\">\r\n                            <nav aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/MisPendientes`}><small>Mis Pendientes</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/RamasProceso/`} state={{ from: from }}><small>Ramas del proceso</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" aria-current=\"page\" to={`/ClasificacionRadicadoLista/`} state={{ from: from }}><small>Validar Clasificaci√≥n</small></Link></li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"block block-themed\">\r\n                        <div className=\"block-header\">\r\n                            <h3 className=\"block-title\"> SINPROC No {radicado} :: <strong>Actualizar Tipo de Conducta</strong></h3>\r\n                        </div>\r\n\r\n                        <div className=\"block-content\">\r\n                            <Formik\r\n                                initialValues={{\r\n                                    inputTipoConducta: '',\r\n                                }}\r\n\r\n                                enableReinitialize\r\n\r\n                                validate={(valores) => {\r\n                                    let errores = {}\r\n        \r\n                                    if (!valores.inputTipoConducta) {\r\n                                        errores.inputTipoConducta = 'Debe seleccionar un tipo de conducta';\r\n                                    }\r\n\r\n                                    return errores\r\n                                }}\r\n\r\n                                onSubmit={(valores, { resetForm }) => {\r\n                                    enviarDatos(valores);\r\n                                }}>\r\n\r\n                                {({ errors }) => (\r\n                                <Form>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"form-group\">\r\n                                                <label htmlFor=\"ingresoTipoExpediente\">Tipo de conducta<span className=\"text-danger\">*</span></label>\r\n                                                <select className=\"form-control\" id=\"inputTipoConducta\" name=\"inputTipoConducta\"\r\n                                                    value={getSelectedTipoConducta} onChange={e => selectChangeTipoConducta(e.target.value)}>\r\n                                                    <option value=\"\">Por favor seleccione</option>\r\n                                                    {getRespuesta ? selectTipoConducta(): null}\r\n                                                </select>\r\n\r\n                                                <ErrorMessage name=\"inputTipoConducta\" component={() => (<span className=\"text-danger\">{errors.inputTipoConducta}</span>)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-md-12\">\r\n                                            <button type=\"submit\" className=\"btn btn-primary\"><i class=\"fas fa-check-square\"></i> Aceptar</button>\r\n                                        </div>\r\n                                    </div>\r\n                                </Form>\r\n                                )}\r\n                            </Formik>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\n\r\nexport default TipoConductaForm;"]},"metadata":{},"sourceType":"module"}