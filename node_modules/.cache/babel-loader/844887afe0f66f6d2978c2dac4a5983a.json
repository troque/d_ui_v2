{"ast":null,"code":"import _objectSpread from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{ErrorMessage,Field,Form,Formik}from'formik';import React,{useEffect,useState}from'react';import{Link}from\"react-router-dom\";import InfoErrorApi from'../Utils/InfoErrorApi';import InfoExitoApi from'../Utils/InfoExitoApi';import GenericApi from'../Api/Services/GenericApi';import Spinner from'../Utils/Spinner';import{Navigate}from\"react-router-dom\";import{DragDropContext,Draggable,Droppable}from\"react-beautiful-dnd\";import ParametrosMasApi from'../Api/Services/ParametrosMasApi';import ModalListaVersionesGestorRespuestaAdministracion from'../Utils/Modals/ModalListaVersionesGestorRespuestaAdministracion';import'../Utils/Constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FuncionarioListaGestorRespuesta(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),getSeach=_useState2[0],setSeach=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorApi=_useState4[0],setErrorApi=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isRedirect=_useState6[0],setIsRedirect=_useState6[1];var paganationPerPages=global.Constants.DATA_TABLE.PAGINATION_PER_PAGE;var _useState7=useState(global.Constants.DATA_TABLE.PAGINATION_PER_PAGE),_useState8=_slicedToArray(_useState7,2),perPage=_useState8[0],setPerPage=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),pageActual=_useState10[0],setPageActual=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),getListaResultadoEvaluacion=_useState12[0],setListaResultadoEvaluacion=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),getFuncionalidadList=_useState14[0],setFuncionalidadList=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),getFuncionalidadListaSearch=_useState16[0],setFuncionalidadListaSearch=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),getEvaluacion=_useState18[0],setEvaluacion=_useState18[1];var _useState19=useState(\"REALIZANDO\"),_useState20=_slicedToArray(_useState19,2),getEvaluacionNombre=_useState20[0],setEvaluacionNombre=_useState20[1];var redirectToRoutes=function redirectToRoutes(){return/*#__PURE__*/_jsx(Navigate,{to:\"/RolesLista/\"});};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.showSpinner(true);GenericApi.getAllGeneric('modulo/get-funcionalidad-modulo/TiposUsuario').then(function(datos){if(!datos.error){if(datos[\"data\"]!=\"\"){var _datos$data$,_datos$data$$attribut;setFuncionalidadListaSearch((_datos$data$=datos[\"data\"][0])===null||_datos$data$===void 0?void 0:(_datos$data$$attribut=_datos$data$.attributes)===null||_datos$data$$attribut===void 0?void 0:_datos$data$$attribut.funcionalidades);window.showSpinner(false);}else{setErrorApi(datos.error.toString());window.showModal(1);window.showSpinner(false);}}else{setErrorApi(datos.error.toString());window.showModal(1);window.showSpinner(false);}});ParametrosMasApi.getAllResultadoEvaluacion().then(function(data){if(!data.error){setListaResultadoEvaluacion(data[\"data\"]);}else{window.showModal(1);}});case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var agregarUsuario=function agregarUsuario(valores){var funcionarios=getFuncionalidadList;setFuncionalidadList([]);funcionarios.push({\"id\":valores.rol,\"id_lista_funcionarios\":getFuncionalidadList.length+\"\",\"nombre\":getFuncionalidadListaSearch.find(function(rol){return rol.id==valores.rol;}).nombre,\"orden\":getFuncionalidadList.length+\"\",\"id_evaluacion\":getEvaluacion});setFuncionalidadList(_toConsumableArray(funcionarios));window.showModalAgregarFuncionarioGestorRespuesta(false);};var eliminarUsuario=function eliminarUsuario(index){setFuncionalidadList(getFuncionalidadList.filter(function(img,i){return i!==index;}));};var handleDragEnd=function handleDragEnd(e){if(!e.destination)return;var tempData=Array.from(getFuncionalidadList);var _tempData$splice=tempData.splice(e.source.index,1),_tempData$splice2=_slicedToArray(_tempData$splice,1),source_data=_tempData$splice2[0];tempData.splice(e.destination.index,0,source_data);setFuncionalidadList(tempData);};var showModalConfirmacion=function showModalConfirmacion(){window.showModalConfirmacionAdministradorGestorRespuesta();};var showModalAgregarFuncionario=function showModalAgregarFuncionario(){window.showModalAgregarFuncionarioGestorRespuesta(true);};var showModalListaParametrizadaPrevias=function showModalListaParametrizadaPrevias(){window.showModalListaVersionesGestorRespuestaAdminstracion();};var guardarDatos=function guardarDatos(){var attributes=[];getFuncionalidadList.forEach(function(funcionario,index){attributes.push({\"id_funcionario\":funcionario.id,\"orden\":index+1,\"id_evaluacion\":funcionario.id_evaluacion});});var data={\"data\":{\"type\":\"remision_queja\",\"attributes\":attributes}};window.showSpinner(true);ParametrosMasApi.addFuncionariosGestorRespuesta(data).then(function(datos){if(!datos.error){window.showModal(2);window.showSpinner(false);}else{console.log(datos.error);setErrorApi(datos.error);window.showModal(1);window.showSpinner(false);}});};var obtenerDatosLista=function obtenerDatosLista(id_evaluacion){setEvaluacion(id_evaluacion);setEvaluacionNombre(getListaResultadoEvaluacion.find(function(data){return data.id==id_evaluacion;}).attributes.nombre);window.showSpinner(true);GenericApi.getAllGeneric('mas-orden-funcionario/'+id_evaluacion).then(function(datos_funcionarios){if(!datos_funcionarios.error){setFuncionalidadList(datos_funcionarios[\"data\"]);}else{setErrorApi(datos_funcionarios.error.toString());window.showModal(1);}window.showSpinner(false);});};/*\r\n    * Componentes\r\n    */var componentAlertConfirmacion=function componentAlertConfirmacion(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-block-popout-confirmacion-administracion-gestor-respuesta\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block-title\",children:\"Confirmaci\\xF3n de guardado\"}),/*#__PURE__*/_jsx(\"div\",{className:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\xBFDesea modificar la lista de funcionarios? Recuerde que la modificaci\\xF3n de la lista afectara a los nuevos procesos disciplinarios que est\\xE9n a punto de realizar la fase de GESTOR RESPUESTA\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-light\",\"data-dismiss\":\"modal\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",\"data-dismiss\":\"modal\",onClick:function onClick(){return guardarDatos();},children:\"Registrar\"})]})]})})})})});};var componentSelectRol=function componentSelectRol(){return getFuncionalidadListaSearch.map(function(rol,i){return/*#__PURE__*/_jsx(\"option\",{value:rol.id,children:rol.nombre},rol.id);});};var componentSelectResultadoEvaluacion=function componentSelectResultadoEvaluacion(){return getListaResultadoEvaluacion.map(function(resultado,i){return/*#__PURE__*/_jsx(\"option\",{value:resultado.id,children:resultado.attributes.nombre},resultado.id);});};var componentAlertAgregarUsuario=function componentAlertAgregarUsuario(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{rol:''},enableReinitialize:true,validate:function validate(valores){var errores={};if(!valores.rol){errores.rol='Debe seleccionar el rol';}return errores;},onSubmit:function onSubmit(valores,_ref){var resetForm=_ref.resetForm;agregarUsuario(valores);resetForm();},children:function children(_ref2){var errors=_ref2.errors,values=_ref2.values;return/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-block-popout-agregar-funcionario-gestor-respuesta\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"block-title\",children:\"Agregar Usuario\"}),/*#__PURE__*/_jsx(\"div\",{className:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"rol\",children:[\"Tipo funcionario \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(Field,{as:\"select\",className:\"form-control\",id:\"rol\",name:\"rol\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione un tipo funcionario\"}),getFuncionalidadListaSearch.length>0?componentSelectRol():null]}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"rol\",component:function component(){return/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errors.rol});}})]})}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-light\",\"data-dismiss\":\"modal\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-sm btn-primary\",children:\"Agregar Usuario\"})]})]})})})})});}})});};return/*#__PURE__*/_jsxs(_Fragment,{children:[componentAlertAgregarUsuario(),componentAlertConfirmacion(),getEvaluacion?/*#__PURE__*/_jsx(ModalListaVersionesGestorRespuestaAdministracion,{object:getEvaluacion,nombre:getEvaluacionNombre}):null,isRedirect?redirectToRoutes():null,/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(InfoErrorApi,{error:errorApi}),/*#__PURE__*/_jsx(InfoExitoApi,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsx(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/_jsx(\"small\",{children:\"Lista de Funcionarios\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-header\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"block-title\",children:\"Tipos de usuario\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"evaluacion\",children:[\"Tipo de evaluaci\\xF3n \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"evaluacion\",name:\"evaluacion\",onChange:function onChange(e){return obtenerDatosLista(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Seleccione el tipo de evaluaci\\xF3n\"}),getListaResultadoEvaluacion.length>0?componentSelectResultadoEvaluacion():null]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-3 text-right\",children:getEvaluacion?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn btn-primary mr-1 mb-3\",\"data-toggle\":\"tooltip\",\"data-html\":\"true\",title:\"Consultar Listas Previas\",onClick:function onClick(){return showModalListaParametrizadaPrevias();},\"data-original-title\":\"Consultar Versiones\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-clipboard\",children:\" \"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn btn-success mr-1 mb-3\",\"data-toggle\":\"tooltip\",\"data-html\":\"true\",title:\"Registrar\",onClick:function onClick(){return showModalAgregarFuncionario();},\"data-original-title\":\"Consultar Versiones\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-plus\",children:\" \"})})]}):null})]})}),getEvaluacion?getFuncionalidadList.length>0?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\",children:\"Mover\"}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\",children:\"No\"}),/*#__PURE__*/_jsx(\"th\",{width:\"45%\",children:\"Rol\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(Droppable,{droppableId:\"droppable-1\",children:function children(provider){return/*#__PURE__*/_jsxs(\"tbody\",_objectSpread(_objectSpread({className:\"text-capitalize\",ref:provider.innerRef},provider.droppableProps),{},{children:[getFuncionalidadList.map(function(funcionario,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:funcionario.id_lista_funcionarios,index:index,children:function children(provider){return/*#__PURE__*/_jsxs(\"tr\",_objectSpread(_objectSpread({},provider.draggableProps),{},{ref:provider.innerRef,children:[/*#__PURE__*/_jsxs(\"td\",_objectSpread(_objectSpread({},provider.dragHandleProps),{},{children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-hand-paper\"}),\" \"]})),/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:funcionario.nombre}),/*#__PURE__*/_jsx(\"td\",{children:getFuncionalidadList.length>1?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",title:\"Eliminar Rol\",className:\"btn btn-sm btn-danger\",onClick:function onClick(){return eliminarUsuario(index);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus-circle\"})})}):null})]}));}},funcionario.id_lista_funcionarios);}),provider.placeholder]}));}})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-primary mr-2\",\"data-toggle\":\"tooltip\",\"data-html\":\"true\",title:\"Registrar\",onClick:function onClick(){return showModalConfirmacion();},\"data-original-title\":\"Consultar Versiones\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-save\",children:\" \"}),\" Registrar\"]})})})})]})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 text-center\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Sin informaci\\xF3n, registrada\"})})}),/*#__PURE__*/_jsx(\"br\",{})]}):null]})]});}export default FuncionarioListaGestorRespuesta;","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Maestras/FuncionarioListaGestorRespuesta.js"],"names":["ErrorMessage","Field","Form","Formik","React","useEffect","useState","Link","InfoErrorApi","InfoExitoApi","GenericApi","Spinner","Navigate","DragDropContext","Draggable","Droppable","ParametrosMasApi","ModalListaVersionesGestorRespuestaAdministracion","FuncionarioListaGestorRespuesta","getSeach","setSeach","errorApi","setErrorApi","isRedirect","setIsRedirect","paganationPerPages","global","Constants","DATA_TABLE","PAGINATION_PER_PAGE","perPage","setPerPage","pageActual","setPageActual","getListaResultadoEvaluacion","setListaResultadoEvaluacion","getFuncionalidadList","setFuncionalidadList","getFuncionalidadListaSearch","setFuncionalidadListaSearch","getEvaluacion","setEvaluacion","getEvaluacionNombre","setEvaluacionNombre","redirectToRoutes","fetchData","window","showSpinner","getAllGeneric","then","datos","error","attributes","funcionalidades","toString","showModal","getAllResultadoEvaluacion","data","agregarUsuario","valores","funcionarios","push","rol","length","find","id","nombre","showModalAgregarFuncionarioGestorRespuesta","eliminarUsuario","index","filter","img","i","handleDragEnd","e","destination","tempData","Array","from","splice","source","source_data","showModalConfirmacion","showModalConfirmacionAdministradorGestorRespuesta","showModalAgregarFuncionario","showModalListaParametrizadaPrevias","showModalListaVersionesGestorRespuestaAdminstracion","guardarDatos","forEach","funcionario","id_evaluacion","addFuncionariosGestorRespuesta","console","log","obtenerDatosLista","datos_funcionarios","componentAlertConfirmacion","componentSelectRol","map","componentSelectResultadoEvaluacion","resultado","componentAlertAgregarUsuario","errores","resetForm","errors","values","target","value","provider","innerRef","droppableProps","id_lista_funcionarios","draggableProps","dragHandleProps","placeholder"],"mappings":"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","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, } from \"react-router-dom\";\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport InfoExitoApi from '../Utils/InfoExitoApi';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\nimport Spinner from '../Utils/Spinner';\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport ParametrosMasApi from '../Api/Services/ParametrosMasApi';\r\nimport ModalListaVersionesGestorRespuestaAdministracion from '../Utils/Modals/ModalListaVersionesGestorRespuestaAdministracion';\r\nimport '../Utils/Constants';\r\n\r\nfunction FuncionarioListaGestorRespuesta() {\r\n\r\n    const [getSeach, setSeach] = useState('');\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [isRedirect, setIsRedirect] = useState(false);\r\n\r\n    const paganationPerPages = global.Constants.DATA_TABLE.PAGINATION_PER_PAGE;\r\n    const [perPage, setPerPage] = useState(global.Constants.DATA_TABLE.PAGINATION_PER_PAGE);\r\n    const [pageActual, setPageActual] = useState(1);\r\n    \r\n    const [getListaResultadoEvaluacion, setListaResultadoEvaluacion] = useState([]);\r\n    const [getFuncionalidadList, setFuncionalidadList] = useState([]);\r\n    const [getFuncionalidadListaSearch, setFuncionalidadListaSearch] = useState([]);\r\n    const [getEvaluacion, setEvaluacion] = useState();\r\n    const [getEvaluacionNombre, setEvaluacionNombre] = useState(\"REALIZANDO\");\r\n\r\n    const redirectToRoutes = () => {\r\n        return <Navigate to={`/RolesLista/`} />;\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            window.showSpinner(true);\r\n            GenericApi.getAllGeneric('modulo/get-funcionalidad-modulo/TiposUsuario').then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        if (datos[\"data\"] != \"\") {\r\n                            setFuncionalidadListaSearch(datos[\"data\"][0]?.attributes?.funcionalidades)\r\n                            window.showSpinner(false);\r\n                        }\r\n                        else {\r\n                            setErrorApi(datos.error.toString())\r\n                            window.showModal(1)\r\n                            window.showSpinner(false);    \r\n                        }\r\n                    }\r\n                    else {\r\n                        setErrorApi(datos.error.toString())\r\n                        window.showModal(1)\r\n                        window.showSpinner(false);\r\n                    }\r\n                }\r\n            );\r\n\r\n            ParametrosMasApi.getAllResultadoEvaluacion().then(\r\n                data => {\r\n                    if (!data.error) {\r\n                        setListaResultadoEvaluacion(data[\"data\"])\r\n                    }\r\n                    else {\r\n                        window.showModal(1);\r\n                    }\r\n                }\r\n            )\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const agregarUsuario = (valores) => {\r\n        let funcionarios = getFuncionalidadList;\r\n        setFuncionalidadList([]);\r\n        funcionarios.push(\r\n            {\r\n                \"id\": valores.rol,\r\n                \"id_lista_funcionarios\": getFuncionalidadList.length + \"\",\r\n                \"nombre\": getFuncionalidadListaSearch.find(rol => rol.id == valores.rol).nombre,\r\n                \"orden\": getFuncionalidadList.length + \"\",\r\n                \"id_evaluacion\": getEvaluacion\r\n            }\r\n        )\r\n        setFuncionalidadList([...funcionarios]);        \r\n        window.showModalAgregarFuncionarioGestorRespuesta(false);\r\n    }\r\n\r\n    const eliminarUsuario = (index) => {\r\n        setFuncionalidadList(getFuncionalidadList.filter((img, i) => i !== index));\r\n    }\r\n\r\n    const handleDragEnd = (e) => {\r\n        if (!e.destination) return;\r\n        let tempData = Array.from(getFuncionalidadList);\r\n        let [source_data] = tempData.splice(e.source.index, 1);\r\n        tempData.splice(e.destination.index, 0, source_data);\r\n        setFuncionalidadList(tempData);\r\n    };\r\n\r\n    const showModalConfirmacion = () => {\r\n        window.showModalConfirmacionAdministradorGestorRespuesta();\r\n    }\r\n\r\n    const showModalAgregarFuncionario = () => {\r\n        window.showModalAgregarFuncionarioGestorRespuesta(true);\r\n    }\r\n\r\n    const showModalListaParametrizadaPrevias = () => {\r\n        window.showModalListaVersionesGestorRespuestaAdminstracion();\r\n    }\r\n\r\n    const guardarDatos = () => {\r\n        const attributes = [];\r\n\r\n        getFuncionalidadList.forEach((funcionario, index) => {\r\n            attributes.push({\r\n                \"id_funcionario\": funcionario.id,\r\n                \"orden\": (index + 1),\r\n                \"id_evaluacion\": funcionario.id_evaluacion\r\n            })\r\n        });\r\n\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": \"remision_queja\",\r\n                \"attributes\": attributes\r\n            }\r\n        }\r\n\r\n        window.showSpinner(true);\r\n\r\n        ParametrosMasApi.addFuncionariosGestorRespuesta(data).then(\r\n            datos => {\r\n                if (!datos.error) {                   \r\n                    window.showModal(2);\r\n                    window.showSpinner(false);\r\n                }\r\n                else {\r\n                    console.log(datos.error);\r\n                    setErrorApi(datos.error);\r\n                    window.showModal(1);\r\n                    window.showSpinner(false);\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n    const obtenerDatosLista = (id_evaluacion) => {\r\n        setEvaluacion(id_evaluacion);\r\n        setEvaluacionNombre(getListaResultadoEvaluacion.find(data => data.id == id_evaluacion).attributes.nombre);\r\n        window.showSpinner(true);\r\n        GenericApi.getAllGeneric('mas-orden-funcionario/'+id_evaluacion).then(\r\n            datos_funcionarios => {\r\n                if (!datos_funcionarios.error) {\r\n                    setFuncionalidadList(datos_funcionarios[\"data\"]);\r\n                }\r\n                else {\r\n                    setErrorApi(datos_funcionarios.error.toString())\r\n                    window.showModal(1)\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n    /*\r\n    * Componentes\r\n    */\r\n\r\n    const componentAlertConfirmacion = () => {\r\n        return (\r\n            <>\r\n                <div className=\"modal fade\" id=\"modal-block-popout-confirmacion-administracion-gestor-respuesta\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                    <div className=\"modal-dialog modal-dialog-popout\" role=\"document\">\r\n                        <div className=\"modal-content\">\r\n                            <div className=\"block block-themed block-transparent mb-0\">\r\n                                <div className=\"block-header bg-primary-dark\">\r\n                                    <h3 className=\"block-title\">Confirmación de guardado</h3>\r\n                                    <div className=\"block-options\">\r\n                                        <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                            <i className=\"fa fa-fw fa-times\"></i>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"block-content\">\r\n                                    <p>¿Desea modificar la lista de funcionarios? Recuerde que la modificación de la lista afectara a los nuevos procesos disciplinarios que estén a punto de realizar la fase de GESTOR RESPUESTA</p>\r\n                                </div>\r\n                                <div className=\"block-content block-content-full text-right bg-light\">\r\n                                    <button type=\"button\" className=\"btn btn-sm btn-light\" data-dismiss=\"modal\">Cancelar</button>\r\n                                    <button type=\"button\" className=\"btn btn-sm btn-primary\" data-dismiss=\"modal\" onClick={() => guardarDatos()}>Registrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    const componentSelectRol = () => {\r\n        return (\r\n            getFuncionalidadListaSearch.map((rol, i) => {\r\n                return (\r\n                    <option key={rol.id} value={rol.id}>{rol.nombre}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const componentSelectResultadoEvaluacion = () => {\r\n        return (\r\n            getListaResultadoEvaluacion.map((resultado, i) => {\r\n                return (\r\n                    <option key={resultado.id} value={resultado.id}>{resultado.attributes.nombre}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const componentAlertAgregarUsuario = () => {\r\n        return (\r\n            <>\r\n                <Formik\r\n                    initialValues={{\r\n                        rol: '',\r\n                    }}\r\n                    enableReinitialize\r\n                    validate={(valores) => { \r\n                        let errores = {};\r\n\r\n                        if(!valores.rol){\r\n                            errores.rol = 'Debe seleccionar el rol';\r\n                        }\r\n\r\n                        return errores;\r\n                    }}\r\n                    onSubmit={(valores, {resetForm}) => {\r\n                        agregarUsuario(valores);\r\n                        resetForm();\r\n                    }}\r\n                >\r\n                    {({ errors, values }) => (\r\n                        <Form>\r\n                            <div className=\"modal fade\" id=\"modal-block-popout-agregar-funcionario-gestor-respuesta\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                                <div className=\"modal-dialog modal-dialog-popout\" role=\"document\">\r\n                                    <div className=\"modal-content\">\r\n                                        <div className=\"block block-themed block-transparent mb-0\">\r\n                                            <div className=\"block-header bg-primary-dark\">\r\n                                                <h3 className=\"block-title\">Agregar Usuario</h3>\r\n                                                <div className=\"block-options\">\r\n                                                    <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                        <i className=\"fa fa-fw fa-times\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"block-content\">\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-md-12\">\r\n                                                        <label htmlFor='rol'>Tipo funcionario <span className='text-danger'>*</span></label>\r\n                                                        <Field as='select' className='form-control' id='rol' name='rol'>\r\n                                                            <option value=''>Seleccione un tipo funcionario</option>                                            \r\n                                                            { getFuncionalidadListaSearch.length > 0 ? componentSelectRol() : null }\r\n                                                        </Field>\r\n                                                        <ErrorMessage name='rol'component={() => (<span className='text-danger'>{errors.rol}</span>)} />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <br></br>\r\n                                            </div>\r\n                                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                                <button type=\"button\" className=\"btn btn-sm btn-light\" data-dismiss=\"modal\">Cancelar</button>\r\n                                                <button type=\"submit\" className=\"btn btn-sm btn-primary\">Agregar Usuario</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            { componentAlertAgregarUsuario()  }\r\n            { componentAlertConfirmacion() }\r\n            { getEvaluacion ? <ModalListaVersionesGestorRespuestaAdministracion object={getEvaluacion} nombre={getEvaluacionNombre}></ModalListaVersionesGestorRespuestaAdministracion> : null }\r\n            {isRedirect ? redirectToRoutes() : null}\r\n            {<Spinner />}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            {<InfoExitoApi />}\r\n            <div className=\"block block-themed\">\r\n                <div className=\"block-content\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                            <li className=\"breadcrumb-item\"> <small>Lista de Funcionarios</small></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n                <div className=\"block-header\">\r\n                    <h3 className=\"block-title\">Tipos de usuario</h3>\r\n                </div>\r\n                \r\n                <div className=\"block-content\">\r\n                    <div className='row'>\r\n                        <div className='col-md-9'>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor='evaluacion'>Tipo de evaluación <span className='text-danger'>*</span></label>\r\n                                <select className='form-control' id='evaluacion' name='evaluacion' onChange={e => obtenerDatosLista(e.target.value)}>\r\n                                    <option value=''>Seleccione el tipo de evaluación</option>                                            \r\n                                    { getListaResultadoEvaluacion.length > 0 ? componentSelectResultadoEvaluacion() : null }\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className='col-md-3 text-right'>\r\n                            {\r\n                                getEvaluacion\r\n                                ?\r\n                                <>\r\n                                    <button type=\"button\" className=\"btn btn btn-primary mr-1 mb-3\" data-toggle=\"tooltip\" data-html=\"true\" title=\"Consultar Listas Previas\" onClick={() => showModalListaParametrizadaPrevias()} data-original-title=\"Consultar Versiones\"><span className=\"fas fa-clipboard\"> </span></button>\r\n                                    <button type=\"button\" className=\"btn btn btn-success mr-1 mb-3\" data-toggle=\"tooltip\" data-html=\"true\" title=\"Registrar\" onClick={() => showModalAgregarFuncionario()} data-original-title=\"Consultar Versiones\"><span className=\"fas fa-plus\"> </span></button>\r\n                                </>\r\n                                :\r\n                                null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    getEvaluacion\r\n                    ?\r\n                    (\r\n                        getFuncionalidadList.length > 0\r\n                        ?\r\n                            <>\r\n                                <div className=\"block-content\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-12\">\r\n                                            <DragDropContext onDragEnd={handleDragEnd}>\r\n                                                <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th width=\"5%\">Mover</th>\r\n                                                            <th width=\"5%\">No</th>\r\n                                                            <th width=\"45%\">Rol</th>\r\n                                                            <th width=\"30%\">Acciones</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <Droppable droppableId=\"droppable-1\">\r\n                                                        {(provider) => (\r\n                                                            <tbody\r\n                                                                className=\"text-capitalize\"\r\n                                                                ref={provider.innerRef}\r\n                                                                {...provider.droppableProps}\r\n                                                            >\r\n                                                                {getFuncionalidadList.map((funcionario, index) => (\r\n                                                                    <Draggable\r\n                                                                        key={funcionario.id_lista_funcionarios}\r\n                                                                        draggableId={funcionario.id_lista_funcionarios}\r\n                                                                        index={index}\r\n                                                                    >\r\n                                                                        {(provider) => (\r\n                                                                            <tr {...provider.draggableProps} ref={provider.innerRef}>\r\n                                                                                <td {...provider.dragHandleProps}> <i className=\"fas fa-hand-paper\"></i> </td>\r\n                                                                                <td>{ index + 1 }</td>\r\n                                                                                <td>{funcionario.nombre}</td>\r\n                                                                                <td>\r\n                                                                                    {\r\n                                                                                        getFuncionalidadList.length > 1 ?\r\n                                                                                        (\r\n                                                                                            <>\r\n                                                                                                <button type='button' title='Eliminar Rol' className='btn btn-sm btn-danger' onClick={() => eliminarUsuario(index)}><i className=\"fas fa-minus-circle\"></i></button>\r\n                                                                                            </>\r\n                                                                                        )\r\n                                                                                        :\r\n                                                                                        null\r\n                                                                                    }\r\n                                                                                </td>\r\n                                                                            </tr>\r\n                                                                        )}\r\n                                                                    </Draggable>\r\n                                                                ))}\r\n                                                                {provider.placeholder}\r\n                                                            </tbody>\r\n                                                        )}\r\n                                                    </Droppable>\r\n                                                </table>\r\n                                            </DragDropContext>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-md-12\">\r\n                                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                                <button type=\"button\" className=\"btn btn-primary mr-2\" data-toggle=\"tooltip\" data-html=\"true\" title=\"Registrar\" onClick={() => showModalConfirmacion()} data-original-title=\"Consultar Versiones\"><span className=\"fas fa-save\"> </span> Registrar</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </>\r\n                        :\r\n                        (\r\n                            <>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12 text-center\">\r\n                                        <b>Sin información, registrada</b>\r\n                                    </div>\r\n                                </div>\r\n                                <br></br>\r\n                            </>\r\n                        )\r\n                    )                    \r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FuncionarioListaGestorRespuesta;\r\n"]},"metadata":{},"sourceType":"module"}