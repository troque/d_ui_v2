{"ast":null,"code":"import _asyncToGenerator from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{ErrorMessage,Field,Form,Formik}from'formik';import React,{useEffect,useState}from'react';import Spinner from'../../Utils/Spinner';import ParametrosMasApi from'../../Api/Services/ParametrosMasApi';import{Link}from\"react-router-dom\";import'react-datetime/css/react-datetime.css';import'moment/locale/es';import{useLocation}from'react-router-dom';import{hasAccess}from'../../../components/Utils/Common';import ClasificacionRadicado from'../ClasificacionRadicado/ClasificacionRadicado';import GenericApi from'../../Api/Services/GenericApi';import ModalGen from'../../Utils/Modals/ModalGeneric';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ValidarClasificacionRadicadoForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),errorApi=_useState2[0],setErrorApi=_useState2[1];var location=useLocation();var from=location.state.from;var radicado=from.radicado;var procesoDisciplinarioId=from.procesoDisciplinarioId;var _useState3=useState({data:{}}),_useState4=_slicedToArray(_useState3,2),listaTipoRespuesta=_useState4[0],setListaTipoRespuesta=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selectedTipoRespuesta=_useState6[0],setSelectedTipoRespuesta=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),respuestaTipoRespuesta=_useState8[0],setRespuestaTipoRespuesta=_useState8[1];var _useState9=useState({data:{}}),_useState10=_slicedToArray(_useState9,2),getJefe=_useState10[0],setJefe=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),getRtaJefe=_useState12[0],setRtaJefe=_useState12[1];var _useState13=useState({title:\"\",message:\"\",show:false}),_useState14=_slicedToArray(_useState13,2),modalState=_useState14[0],setModalState=_useState14[1];var _useState15=useState({data:{}}),_useState16=_slicedToArray(_useState15,2),getValidacion=_useState16[0],setValidacion=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),getRtaValidacion=_useState18[0],setRtaValidacion=_useState18[1];var _useState19=useState({id_proceso_disciplinario:procesoDisciplinarioId,id_etapa:2,// from.idEtapa\nreclasificacion:true,route:\"/MisPendientes/\",tipo_clasificacion:global.Constants.TIPO_CLASIFICACION.VALIDAR_CLASIFICACION}),_useState20=_slicedToArray(_useState19,2),getParametros=_useState20[0],setParametros=_useState20[1];var validarClasificacion=function validarClasificacion(){var data={\"data\":{\"type\":\"validacion_clasificado\",\"attributes\":{\"id_proceso_disciplinario\":procesoDisciplinarioId}}};return GenericApi.getByDataGeneric(\"validar-clasificado/get-validar-clasificado/\"+procesoDisciplinarioId,data).then(function(datos){if(!datos.error){setValidacion(datos);setRtaValidacion(true);}});};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data={\"data\":{\"type\":\"clasificacion_radicado\",\"attributes\":{\"id_proceso_disciplinario\":procesoDisciplinarioId,\"id_etapa\":\"id_etapa\",\"id_tipo_expediente\":\"id_tipo_expediente\",\"observaciones\":\"observaciones\",\"id_tipo_queja\":\"id_tipo_queja\",\"id_termino_respuesta\":\"id_termino_respuesta\",\"fecha_termino\":\"fecha_termino\",\"hora_termino\":\"hora_termino\",\"gestion_juridica\":\"gestion_juridica\",\"estado\":true,\"id_estado_reparto\":\"id_estado_reparto\"}}};GenericApi.getByDataGeneric(\"log-proceso-disciplinario/get-reclasificacion-expediente/\"+procesoDisciplinarioId,data).then(function(datos){if(!datos.error){setClasificacionRadicadoLista(datos);setRespuestaClasificacionRadicado(true);validarClasificacion();}else{setModalState({title:\"Clasificación del radicado\",message:datos.error.toString(),show:true,redirect:'/ValidarClasificadoForm',from:{from:from}});}window.showSpinner(false);});ParametrosMasApi.getAllTipoRespuesta().then(function(datos){return!datos.error?(setListaTipoRespuesta(datos),setRespuestaTipoRespuesta(true)):window.showModal(1);});data2={\"data\":{\"type\":\"usuario\",\"attributes\":{\"\":\"\"}}};GenericApi.getByDataGeneric(\"usuario/get-jefe-dependencia\",data2).then(function(datos){if(!datos.error){console.log(\"CON JEFE\");console.log(datos.data[0]['attributes']['name']);setJefe(datos.data[0]['attributes']['name']);setRtaJefe(true);}else{console.log(\"SIN JEFE\");setJefe(null);console.log(getJefe);setRtaJefe(false);}window.showSpinner(false);});case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var selectChangeTipoRespuesta=function selectChangeTipoRespuesta(e){setSelectedTipoRespuesta(e);};var selectTipoRespuesta=function selectTipoRespuesta(){return listaTipoRespuesta.data.map(function(tipo_respuesta,i){return/*#__PURE__*/_jsx(\"option\",{value:tipo_respuesta.id,children:tipo_respuesta.attributes.nombre},tipo_respuesta.id);});};var enviarDatos=function enviarDatos(){window.showSpinner(true);var data;data={\"data\":{\"type\":\"clasificacion_radicado\",\"attributes\":{\"id_proceso_disciplinario\":procesoDisciplinarioId,\"id_etapa\":2,\"id_tipo_expediente\":\"datos.selectedTipoExpediente\",\"observaciones\":\"observaciones\",\"id_tipo_queja\":\"id_tipo_queja\",\"id_termino_respuesta\":\"id_termino_respuesta\",\"fecha_termino\":\"fecha_termino\",\"hora_termino\":\"hora_termino\",\"gestion_juridica\":\"gestion_juridica\",\"estado\":\"estado\",\"id_estado_reparto\":\"id_estado_reparto\",\"id_derecho_peticion\":\"id_derecho_peticion\",\"oficina_control_interno\":\"oficina_control_interno\",\"created_user\":\"created_user\",\"reclasificacion\":false}}};console.log(JSON.stringify(data));GenericApi.addGeneric(\"clasificacion-radicado\",data).then(function(datos){if(!datos.error){window.showModal(2);}else{setErrorApi(datos.error.toString());window.showModal(1);}window.showSpinner(false);});};// COMPONENTE CONFIRMACION TIPO DE CLASIFICADO\nvar componenteTipoRespuesta=function componenteTipoRespuesta(tipo_respuesta){// CONFIRMACION TIPO DE CLASIFICADO = SI\nif(tipo_respuesta===1){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Formik,{initialValues:{aceptacion_clasificacion:true},enableReinitialize:true,onSubmit:function onSubmit(_ref){var resetForm=_ref.resetForm;enviarDatos();},children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"block-content block-content-full text-right\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save\"}),\" Registrar\"]}),/*#__PURE__*/_jsx(Link,{to:\"/ValidarClasificacionRadicadoLista/\",state:{from:from},children:/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-window-close\"}),\" Cancelar\"]})})]})})})});}/// CONFIRMACION TIPO DE CLASIFICADO = NO\nelse if(tipo_respuesta===2){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(ClasificacionRadicado,{getParametros:getParametros,id:\"cr_componente\",name:\"cr_componente\"})});}};var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),respuestaClasificacionRadicado=_useState22[0],setRespuestaClasificacionRadicado=_useState22[1];var _useState23=useState({data:[],links:[],meta:[]}),_useState24=_slicedToArray(_useState23,2),clasificacionRadicadoLista=_useState24[0],setClasificacionRadicadoLista=_useState24[1];var listaClasificacionRadicado=function listaClasificacionRadicado(){if(clasificacionRadicadoLista.data!=null&&typeof clasificacionRadicadoLista.data!='undefined'){return clasificacionRadicadoLista.data.map(function(clasificacion_radicado,i){return cargarTabla(clasificacion_radicado,i);});}else{return clasificacionRadicadoLista.map(function(clasificacion_radicado,i){return cargarTabla(clasificacion_radicado,i);});}};var cargarTabla=function cargarTabla(clasificacion_radicado,i){return/*#__PURE__*/_jsxs(_Fragment,{children:[i===0?/*#__PURE__*/_jsx(\"tr\",{style:{backgroundColor:'#D0D1D9'},children:cargarColumnasTabla(clasificacion_radicado,\"Asignar\",false)}):null,i===1?/*#__PURE__*/_jsx(\"tr\",{children:cargarColumnasTabla(clasificacion_radicado,\"Asignar\",false)}):null,i===2?/*#__PURE__*/_jsx(\"tr\",{children:cargarColumnasTabla(clasificacion_radicado,\"Reparto Aleatorio\",true)}):null]});};var cargarColumnasTabla=function cargarColumnasTabla(clasificacion_radicado,nombre_boton,reparto){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{children:clasificacion_radicado.attributes.etapa.nombre}),/*#__PURE__*/_jsxs(\"td\",{children:[clasificacion_radicado.attributes.id_tipo_expediente.nombre,/*#__PURE__*/_jsx(\"br\",{}),clasificacion_radicado.attributes.id_tipo_sub_expediente.nombre]}),/*#__PURE__*/_jsx(\"td\",{children:clasificacion_radicado.attributes.dependencia_origen.nombre}),/*#__PURE__*/_jsxs(\"td\",{children:[clasificacion_radicado.attributes.funcionario_registra.nombre,\" \",clasificacion_radicado.attributes.funcionario_registra.apellido]}),/*#__PURE__*/_jsx(\"td\",{children:clasificacion_radicado.attributes.created_at}),getRtaJefe?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Formik,{initialValues:{uuid:clasificacion_radicado.id,id_clasificacion_radicado:clasificacion_radicado.id,id_proceso_disciplinario:clasificacion_radicado.attributes.id_proceso_disciplinario,id_tipo_expediente:clasificacion_radicado.attributes.id_tipo_expediente.id,id_tipo_sub_expediente:clasificacion_radicado.attributes.id_tipo_sub_expediente.id,funcionario_registra_id:clasificacion_radicado.attributes.funcionario_registra.id,funcionario_registra_name:clasificacion_radicado.attributes.funcionario_registra.name},enableReinitialize:true,validate:function validate(valores){var errores={};return errores;},onSubmit:function onSubmit(valores,_ref2){var resetForm=_ref2.resetForm;console.log(valores);asignarCaso(valores,reparto);},children:/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save\"}),\" \",nombre_boton]})})})}):null]});};var asignarCaso=function asignarCaso(datos,reparto){window.showSpinner(true);var data;console.log(reparto);data={\"data\":{\"type\":\"clasificacion_radicado\",\"attributes\":{\"uuid\":datos.uuid,\"id_proceso_disciplinario\":datos.id_proceso_disciplinario,\"id_etapa\":2,\"id_tipo_expediente\":datos.id_tipo_expediente,\"observaciones\":\"\",\"id_tipo_queja\":null,\"id_termino_respuesta\":null,\"fecha_termino\":null,\"hora_termino\":null,\"gestion_juridica\":false,\"estado\":true,\"id_estado_reparto\":null,\"id_tipo_derecho_peticion\":null,\"oficina_control_interno\":false,\"created_user\":datos.funcionario_registra_name,\"reclasificacion\":null,\"id_tipo_sub_expediente\":datos.id_tipo_sub_expediente,\"reparto\":reparto}}};console.log(JSON.stringify(data));GenericApi.addGeneric(\"clasificacion-radicado/asignar-caso-por-jefe\",data).then(function(datos){if(!datos.error){setModalState({title:\"Asignación del proceso disciplinario\",message:\"El proceso disciplinario es asignado a \"+datos.data.attributes.funcionario_actual.nombre+\" \"+datos.data.attributes.funcionario_actual.apellido,show:true,redirect:'/MisPendientes'});}else{console.log(datos.error.toString());setErrorApi(datos.error.toString());window.showModal(1);}window.showSpinner(false);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(ModalGen,{data:modalState}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block block-rounded block-bordered\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsx(\"nav\",{\"aria-label\":\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"breadcrumb breadcrumb-alt push\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/_jsx(Link,{underline:\"hover\",className:\"text-dark\",to:\"/MisPendientes\",children:/*#__PURE__*/_jsx(\"small\",{children:\"Mis Pendientes\"})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/_jsx(Link,{underline:\"hover\",className:\"text-dark\",to:\"/RamasProceso/\",state:{from:from},children:/*#__PURE__*/_jsx(\"small\",{children:\"Ramas del proceso\"})})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"breadcrumb-item\",children:[\" \",/*#__PURE__*/_jsx(Link,{underline:\"hover\",className:\"text-dark\",\"aria-current\":\"page\",to:\"/ClasificacionRadicadoLista/\",state:{from:from},children:/*#__PURE__*/_jsx(\"small\",{children:\"Validar Clasificaci\\xF3n\"})})]})]})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"block-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"block-title\",children:[\" SINPROC No \",radicado,\" :: \",/*#__PURE__*/_jsx(\"strong\",{children:\"Validar Clasificaci\\xF3n\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(_Fragment,{children:hasAccess('EI_ValidarClasificacion','Consultar')?/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Etapa\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo de expediente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registrado En\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Registrado por\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha de registro\"}),getRtaJefe?/*#__PURE__*/_jsx(\"th\",{children:\"Asignaci\\xF3n\"}):null]})}),/*#__PURE__*/_jsx(\"tbody\",{children:respuestaClasificacionRadicado?listaClasificacionRadicado():null})]}):null}),!getRtaValidacion?/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"ingresoTipoExpediente\",children:[\"Confirma la clasificaci\\xF3n del expediente? \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",id:\"ingresoTipoExpediente\",name:\"ingresoTipoExpediente\",value:selectedTipoRespuesta,onChange:function onChange(e){return selectChangeTipoRespuesta(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Por favor seleccione\"}),respuestaTipoRespuesta?selectTipoRespuesta():null]})]})})}),selectedTipoRespuesta==='1'?componenteTipoRespuesta(1):'',selectedTipoRespuesta==='2'?componenteTipoRespuesta(2):'']}):null]})]})})]})]});}export default ValidarClasificacionRadicadoForm;","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/ValidarClasificacionRadicado/ValidarClasificacionRadicadoForm.js"],"names":["ErrorMessage","Field","Form","Formik","React","useEffect","useState","Spinner","ParametrosMasApi","Link","useLocation","hasAccess","ClasificacionRadicado","GenericApi","ModalGen","ValidarClasificacionRadicadoForm","errorApi","setErrorApi","location","from","state","radicado","procesoDisciplinarioId","data","listaTipoRespuesta","setListaTipoRespuesta","selectedTipoRespuesta","setSelectedTipoRespuesta","respuestaTipoRespuesta","setRespuestaTipoRespuesta","getJefe","setJefe","getRtaJefe","setRtaJefe","title","message","show","modalState","setModalState","getValidacion","setValidacion","getRtaValidacion","setRtaValidacion","id_proceso_disciplinario","id_etapa","reclasificacion","route","tipo_clasificacion","global","Constants","TIPO_CLASIFICACION","VALIDAR_CLASIFICACION","getParametros","setParametros","validarClasificacion","getByDataGeneric","then","datos","error","fetchData","setClasificacionRadicadoLista","setRespuestaClasificacionRadicado","toString","redirect","window","showSpinner","getAllTipoRespuesta","showModal","data2","console","log","selectChangeTipoRespuesta","e","selectTipoRespuesta","map","tipo_respuesta","i","id","attributes","nombre","enviarDatos","JSON","stringify","addGeneric","componenteTipoRespuesta","aceptacion_clasificacion","resetForm","respuestaClasificacionRadicado","links","meta","clasificacionRadicadoLista","listaClasificacionRadicado","clasificacion_radicado","cargarTabla","backgroundColor","cargarColumnasTabla","nombre_boton","reparto","etapa","id_tipo_expediente","id_tipo_sub_expediente","dependencia_origen","funcionario_registra","apellido","created_at","uuid","id_clasificacion_radicado","funcionario_registra_id","funcionario_registra_name","name","valores","errores","asignarCaso","funcionario_actual","target","value"],"mappings":"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","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Spinner from '../../Utils/Spinner';\r\nimport ParametrosMasApi from '../../Api/Services/ParametrosMasApi';\r\nimport { Link } from \"react-router-dom\";\r\nimport 'react-datetime/css/react-datetime.css';\r\nimport 'moment/locale/es';\r\nimport { useLocation } from 'react-router-dom'\r\nimport { hasAccess } from '../../../components/Utils/Common';\r\nimport ClasificacionRadicado from '../ClasificacionRadicado/ClasificacionRadicado';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\r\n\r\nfunction ValidarClasificacionRadicadoForm() {\r\n\r\n    const [errorApi, setErrorApi] = useState('');\r\n   \r\n    const location = useLocation()\r\n    const { from } = location.state\r\n    let radicado = from.radicado;\r\n    let procesoDisciplinarioId = from.procesoDisciplinarioId;\r\n\r\n    const [listaTipoRespuesta, setListaTipoRespuesta] = useState({ data: {} });\r\n    const [selectedTipoRespuesta, setSelectedTipoRespuesta] = useState(\"\");\r\n    const [respuestaTipoRespuesta, setRespuestaTipoRespuesta] = useState(false);\r\n\r\n    const [getJefe, setJefe] = useState({ data: {} });\r\n    const [getRtaJefe, setRtaJefe] = useState(false);\r\n\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n\r\n    const [getValidacion, setValidacion] = useState({ data: {} });\r\n    const [getRtaValidacion, setRtaValidacion] = useState(false);\r\n\r\n\r\n    const [getParametros, setParametros] = useState({\r\n        id_proceso_disciplinario: procesoDisciplinarioId,\r\n        id_etapa: 2, // from.idEtapa\r\n        reclasificacion: true,\r\n        route: \"/MisPendientes/\",\r\n        tipo_clasificacion: global.Constants.TIPO_CLASIFICACION.VALIDAR_CLASIFICACION,\r\n    });\r\n\r\n\r\n    const validarClasificacion = () => {\r\n        \r\n        const data = {\r\n            \"data\": {\r\n                \"type\": \"validacion_clasificado\",\r\n                \"attributes\": {\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                }\r\n            }\r\n        }\r\n\r\n        return (\r\n            GenericApi.getByDataGeneric(\"validar-clasificado/get-validar-clasificado/\"+procesoDisciplinarioId, data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        setValidacion(datos)\r\n                        setRtaValidacion(true)\r\n                    }\r\n                }\r\n            )\r\n\r\n            \r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"clasificacion_radicado\",\r\n                    \"attributes\": {\r\n                        \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                        \"id_etapa\": \"id_etapa\",\r\n                        \"id_tipo_expediente\": \"id_tipo_expediente\",\r\n                        \"observaciones\": \"observaciones\",\r\n                        \"id_tipo_queja\": \"id_tipo_queja\",\r\n                        \"id_termino_respuesta\": \"id_termino_respuesta\",\r\n                        \"fecha_termino\": \"fecha_termino\",\r\n                        \"hora_termino\": \"hora_termino\",\r\n                        \"gestion_juridica\": \"gestion_juridica\",\r\n                        \"estado\": true,\r\n                        \"id_estado_reparto\": \"id_estado_reparto\",\r\n                    }\r\n                }\r\n            }\r\n\r\n            GenericApi.getByDataGeneric(\"log-proceso-disciplinario/get-reclasificacion-expediente/\"+procesoDisciplinarioId, data).then(\r\n\r\n          \r\n                datos => {\r\n                    if (!datos.error) {\r\n                        setClasificacionRadicadoLista(datos)\r\n                        setRespuestaClasificacionRadicado(true)\r\n                        validarClasificacion()\r\n                    }\r\n                    else {\r\n                        setModalState({ title: \"Clasificación del radicado\", message: datos.error.toString(), show: true, redirect: '/ValidarClasificadoForm', from: {from} });\r\n                    }\r\n                    window.showSpinner(false);\r\n                }\r\n            )\r\n\r\n\r\n            ParametrosMasApi.getAllTipoRespuesta().then(\r\n                datos => !datos.error ? (setListaTipoRespuesta(datos), setRespuestaTipoRespuesta(true)) : window.showModal(1)\r\n            )\r\n\r\n            const data2 = {\r\n                \"data\":{\r\n                   \"type\":\"usuario\",\r\n                   \"attributes\":{\r\n                      \"\":\"\"\r\n                   }\r\n                }\r\n             }\r\n\r\n            GenericApi.getByDataGeneric(\"usuario/get-jefe-dependencia\", data2).then(\r\n\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        console.log(\"CON JEFE\");\r\n                        console.log(datos.data[0]['attributes']['name']);\r\n                        setJefe(datos.data[0]['attributes']['name'])\r\n                        setRtaJefe(true)\r\n                    }\r\n                    else {\r\n                        console.log(\"SIN JEFE\");\r\n                        setJefe(null);\r\n                        console.log(getJefe);\r\n                        setRtaJefe(false);\r\n                    }\r\n                    window.showSpinner(false);\r\n                }\r\n            )\r\n\r\n\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n\r\n    let selectChangeTipoRespuesta = (e) => {\r\n        setSelectedTipoRespuesta(e);\r\n    }\r\n\r\n    const selectTipoRespuesta = () => {\r\n        return (\r\n            listaTipoRespuesta.data.map((tipo_respuesta, i) => {\r\n                return (\r\n                    <option key={tipo_respuesta.id} value={tipo_respuesta.id}>{tipo_respuesta.attributes.nombre}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const enviarDatos = () => {\r\n        window.showSpinner(true);\r\n\r\n\r\n        let data;\r\n\r\n        data = {\r\n            \"data\": {\r\n                \"type\": \"clasificacion_radicado\",\r\n                \"attributes\": {\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                    \"id_etapa\": 2,\r\n                    \"id_tipo_expediente\": \"datos.selectedTipoExpediente\",\r\n                    \"observaciones\": \"observaciones\",\r\n                    \"id_tipo_queja\": \"id_tipo_queja\",\r\n                    \"id_termino_respuesta\": \"id_termino_respuesta\",\r\n                    \"fecha_termino\": \"fecha_termino\",\r\n                    \"hora_termino\": \"hora_termino\",\r\n                    \"gestion_juridica\": \"gestion_juridica\",\r\n                    \"estado\": \"estado\",\r\n                    \"id_estado_reparto\": \"id_estado_reparto\",\r\n                    \"id_derecho_peticion\": \"id_derecho_peticion\",\r\n                    \"oficina_control_interno\": \"oficina_control_interno\",\r\n                    \"created_user\": \"created_user\",\r\n                    \"reclasificacion\": false,\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(JSON.stringify(data));\r\n\r\n        GenericApi.addGeneric(\"clasificacion-radicado\",data).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    window.showModal(2);\r\n                }\r\n                else {\r\n                    setErrorApi(datos.error.toString())\r\n                    window.showModal(1)\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n\r\n     // COMPONENTE CONFIRMACION TIPO DE CLASIFICADO\r\n     const componenteTipoRespuesta = (tipo_respuesta) => {\r\n\r\n        // CONFIRMACION TIPO DE CLASIFICADO = SI\r\n        if (tipo_respuesta === 1) {\r\n            return (\r\n                <>\r\n                    <Formik\r\n\r\n                        initialValues={{\r\n                            aceptacion_clasificacion: true,\r\n                        }}\r\n                        enableReinitialize\r\n\r\n                        onSubmit={({ resetForm }) => {\r\n                            enviarDatos();\r\n                        }}\r\n                        >\r\n\r\n                        <Form>\r\n                            <div className=\"block-content block-content-full text-right\">\r\n\r\n                                <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-save\"></i> Registrar</button>\r\n\r\n                                <Link to={`/ValidarClasificacionRadicadoLista/`} state={{ from: from }}>\r\n                                    <button type=\"button\" className=\"btn btn-danger\"><i className=\"fas fa-window-close\"></i> Cancelar</button>\r\n                                </Link>\r\n                            </div>\r\n                        </Form>\r\n\r\n                    </Formik>\r\n\r\n                </>\r\n            );\r\n        }\r\n\r\n        /// CONFIRMACION TIPO DE CLASIFICADO = NO\r\n        else if (tipo_respuesta === 2) {\r\n            return (\r\n                <>\r\n                    <ClasificacionRadicado getParametros={getParametros} id=\"cr_componente\" name=\"cr_componente\" />\r\n                   \r\n                </>\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n    const [respuestaClasificacionRadicado, setRespuestaClasificacionRadicado] = useState(false);\r\n    const [clasificacionRadicadoLista, setClasificacionRadicadoLista] = useState({ data: [], links: [], meta: [] });\r\n\r\n    const listaClasificacionRadicado = () => {\r\n\r\n        if (clasificacionRadicadoLista.data != null && typeof (clasificacionRadicadoLista.data) != 'undefined') {\r\n            return (\r\n\r\n\r\n                clasificacionRadicadoLista.data.map((clasificacion_radicado, i) => {\r\n                    return (\r\n                        cargarTabla(clasificacion_radicado, i)\r\n                    )\r\n                })\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n\r\n                clasificacionRadicadoLista.map((clasificacion_radicado, i) => {\r\n                    return (\r\n                        cargarTabla(clasificacion_radicado, i)\r\n                    )\r\n                })\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const cargarTabla = (clasificacion_radicado, i) => {\r\n        return (\r\n            <>\r\n                {(i === 0 ? <tr style={{ backgroundColor: '#D0D1D9' }}>{cargarColumnasTabla(clasificacion_radicado, \"Asignar\", false)}</tr> : null) }\r\n                {(i === 1 ? <tr>{cargarColumnasTabla(clasificacion_radicado, \"Asignar\", false)}</tr>:null)}\r\n                {(i === 2 ? <tr>{cargarColumnasTabla(clasificacion_radicado, \"Reparto Aleatorio\", true)}</tr>:null)}    \r\n            </>   \r\n        )\r\n    }\r\n\r\n\r\n    const cargarColumnasTabla = (clasificacion_radicado, nombre_boton, reparto) => {\r\n\r\n        return (\r\n        <>\r\n            <td>{clasificacion_radicado.attributes.etapa.nombre}</td>\r\n            <td>{clasificacion_radicado.attributes.id_tipo_expediente.nombre}<br/>{clasificacion_radicado.attributes.id_tipo_sub_expediente.nombre}</td>\r\n            <td>{clasificacion_radicado.attributes.dependencia_origen.nombre}</td>\r\n            <td>{clasificacion_radicado.attributes.funcionario_registra.nombre} {clasificacion_radicado.attributes.funcionario_registra.apellido}</td>\r\n            <td>{clasificacion_radicado.attributes.created_at}</td>\r\n\r\n            {getRtaJefe ? (                                       \r\n                <td>\r\n                    <Formik\r\n                        initialValues={{\r\n                            uuid: clasificacion_radicado.id,\r\n                            id_clasificacion_radicado: clasificacion_radicado.id,\r\n                            id_proceso_disciplinario: clasificacion_radicado.attributes.id_proceso_disciplinario,\r\n                            id_tipo_expediente: clasificacion_radicado.attributes.id_tipo_expediente.id,\r\n                            id_tipo_sub_expediente: clasificacion_radicado.attributes.id_tipo_sub_expediente.id,\r\n                            funcionario_registra_id: clasificacion_radicado.attributes.funcionario_registra.id,\r\n                            funcionario_registra_name: clasificacion_radicado.attributes.funcionario_registra.name\r\n\r\n                        }}\r\n                        enableReinitialize\r\n\r\n                        validate={(valores) => {\r\n                            let errores = {}\r\n                            return errores\r\n                        }}\r\n\r\n                        onSubmit={(valores, { resetForm }) => {\r\n                            console.log(valores);\r\n                            asignarCaso(valores, reparto);\r\n                        }}\r\n                    >\r\n                        <Form>\r\n                            <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-save\"></i> {nombre_boton}</button>\r\n                        </Form>\r\n                    </Formik>\r\n                </td>):null\r\n            }\r\n        </>\r\n        \r\n        );\r\n\r\n    }\r\n\r\n    const asignarCaso = (datos, reparto) => {\r\n\r\n        window.showSpinner(true);\r\n        let data;\r\n\r\n        console.log(reparto);\r\n\r\n        data = {\r\n            \"data\": {\r\n                \"type\": \"clasificacion_radicado\",\r\n                \"attributes\": {\r\n                    \"uuid\": datos.uuid,\r\n                    \"id_proceso_disciplinario\": datos.id_proceso_disciplinario,\r\n                    \"id_etapa\": 2,\r\n                    \"id_tipo_expediente\": datos.id_tipo_expediente,\r\n                    \"observaciones\": \"\",\r\n                    \"id_tipo_queja\": null,\r\n                    \"id_termino_respuesta\": null,\r\n                    \"fecha_termino\": null,\r\n                    \"hora_termino\": null,\r\n                    \"gestion_juridica\": false,\r\n                    \"estado\": true,\r\n                    \"id_estado_reparto\": null,\r\n                    \"id_tipo_derecho_peticion\": null,\r\n                    \"oficina_control_interno\": false,\r\n                    \"created_user\": datos.funcionario_registra_name,\r\n                    \"reclasificacion\": null,\r\n                    \"id_tipo_sub_expediente\": datos.id_tipo_sub_expediente,\r\n                    \"reparto\": reparto\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(JSON.stringify(data));\r\n\r\n        GenericApi.addGeneric(\"clasificacion-radicado/asignar-caso-por-jefe\", data).then(\r\n\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setModalState({ title: \"Asignación del proceso disciplinario\", message: \"El proceso disciplinario es asignado a \"+datos.data.attributes.funcionario_actual.nombre +\" \"+ datos.data.attributes.funcionario_actual.apellido, show: true, redirect: '/MisPendientes' });\r\n                }\r\n                else {\r\n                    console.log(datos.error.toString());\r\n                    setErrorApi(datos.error.toString())\r\n                    window.showModal(1)\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        \r\n        <>\r\n           {<Spinner />}\r\n            <ModalGen data={modalState} />\r\n            \r\n            <div className=\"row\">\r\n\r\n            <div className=\"col-md-12\">\r\n                    <div className=\"block block-rounded block-bordered\">\r\n                        <div className=\"block-content\">\r\n                            <nav aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/MisPendientes`}><small>Mis Pendientes</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={`/RamasProceso/`} state={{ from: from }}><small>Ramas del proceso</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" aria-current=\"page\" to={`/ClasificacionRadicadoLista/`} state={{ from: from }}><small>Validar Clasificación</small></Link></li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <div className=\"block block-themed\">\r\n                        <div className=\"block-header\">\r\n                            <h3 className=\"block-title\"> SINPROC No {radicado} :: <strong>Validar Clasificación</strong></h3>\r\n                        </div>\r\n\r\n                        <div className=\"block-content\">\r\n                            <>\r\n                                {\r\n                                    (hasAccess('EI_ValidarClasificacion', 'Consultar')) ? (\r\n\r\n                                        <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Etapa</th>\r\n                                                    <th>Tipo de expediente</th>\r\n                                                    <th>Registrado En</th>\r\n                                                    <th>Registrado por</th>\r\n                                                    <th>Fecha de registro</th>\r\n                                                    {getRtaJefe ? (\r\n                                                        <th>Asignación</th>\r\n                                                    ):null}\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                {respuestaClasificacionRadicado ? listaClasificacionRadicado() : null}\r\n                                            </tbody>\r\n                                        </table>\r\n                                    ) : null\r\n\r\n                                }\r\n                            </>\r\n\r\n                            {(!getRtaValidacion ?(\r\n\r\n                                <div className=\"block-content\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"ingresoTipoExpediente\">Confirma la clasificación del expediente? <span className=\"text-danger\">*</span></label>\r\n                                            <select className=\"form-control\" id=\"ingresoTipoExpediente\" name=\"ingresoTipoExpediente\"\r\n                                                value={selectedTipoRespuesta} onChange={e => selectChangeTipoRespuesta(e.target.value)}>\r\n                                                <option value=\"\">Por favor seleccione</option>\r\n                                                {respuestaTipoRespuesta ? selectTipoRespuesta() : null}\r\n                                            </select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/*SI APLICA RECLASIFIFCACION*/}\r\n                                {selectedTipoRespuesta === '1' ? componenteTipoRespuesta(1) : ''}\r\n                                {/*NO APLICA RECLASIFIFCACION*/}\r\n                                {selectedTipoRespuesta === '2' ? componenteTipoRespuesta(2) : ''}\r\n\r\n\r\n                                </div>\r\n\r\n                            ):null)\r\n\r\n                            }\r\n\r\n\r\n                            \r\n\r\n                        </div>\r\n\r\n                        \r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n\r\n}\r\nexport default ValidarClasificacionRadicadoForm;\r\n"]},"metadata":{},"sourceType":"module"}