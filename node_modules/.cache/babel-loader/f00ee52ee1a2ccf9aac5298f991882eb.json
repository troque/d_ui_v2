{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\RamasProceso\\\\ComunicacionInteresado\\\\ComunicacionInteresadoForm.js\",\n    _s = $RefreshSig$();\n\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router\";\nimport InfoErrorApi from '../../Utils/InfoErrorApi';\nimport InfoExitoApi from '../../Utils/InfoExitoApi';\nimport InfoCustom from '../../Utils/InfoCustom';\nimport DocumentoSiriusApi from '../../Api/Services/DocumentoSiriusApi';\nimport { useLocation } from 'react-router-dom';\nimport DatosInteresadoApi from '../../Api/Services/DatosInteresadoApi';\nimport ComunicacionInteresadoApi from '../../Api/Services/ComunicacionInteresadoApi';\nimport Spinner from '../../Utils/Spinner';\nimport { Navigate } from \"react-router-dom\";\nimport ParametrosMasApi from \"../../Api/Services/ParametrosMasApi\";\nimport { ParametroModel } from '../../Models/ParametroModel';\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\nimport GenericApi from '../../Api/Services/GenericApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ComunicacionInteresadoForm() {\n  _s();\n\n  const [respuestaDatosInteresado, setRespuestaDatosInteresado] = useState(false);\n  const [DatosInteresadoLista, setDatosInteresadoLista] = useState({\n    data: [],\n    links: [],\n    meta: []\n  });\n  const [errorApi, setErrorApi] = useState('');\n  const [isRedirect, setIsRedirect] = useState(false);\n  const [esNuevo, setEsNuevo] = useState(false);\n  const [respuestaSoporteRadicado, setRespuestaSoporteRadicado] = useState(false);\n  const [soporteRadicadoLista, setSoporteRadicadoLista] = useState({\n    data: [],\n    links: [],\n    meta: []\n  });\n  const [getDocumentosPorInteresado, setDocumentosPorInteresado] = useState({});\n  const [respuestaAsociaciones, setRespuestasociaciones] = useState(false);\n  const [asociacionesLista, setAsociacionesLista] = useState({\n    data: [],\n    links: [],\n    meta: []\n  });\n  const location = useLocation();\n  const {\n    from\n  } = location.state;\n  let radicado = from.radicado;\n  let procesoDisciplinarioId = from.procesoDisciplinarioId;\n  const [getListaAsociados, setListaAsociados] = useState([]);\n  const [getModalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  let asociacionAraay = [];\n\n  const redirectToRoutes = () => {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: `/ComunicacionInteresadoForm/${procesoDisciplinarioId}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      window.showSpinner(true);\n      getComunicacionInteresado();\n    }\n\n    fetchData();\n  }, []);\n\n  const getComunicacionInteresado = () => {\n    let data = {\n      \"data\": {\n        \"type\": \"comunicacion_interesado\",\n        \"attributes\": {\n          \"concatenado\": '1234',\n          \"id_proceso_disciplinario\": procesoDisciplinarioId\n        }\n      }\n    };\n    console.log(JSON.stringify(data));\n    ComunicacionInteresadoApi.getComunicacionInteresadoByIdProceso(data, procesoDisciplinarioId).then(datos => {\n      if (!datos.error) {\n        if (datos[\"data\"] != \"\") {\n          setAsociacionesLista(datos);\n          setRespuestasociaciones(true);\n          console.log(data);\n          window.showSpinner(false);\n        } else {\n          setEsNuevo(true);\n          getListados();\n        }\n      } else {\n        setModalState({\n          title: \"Comunicación de los interesados\",\n          message: datos.error.toString(),\n          show: true,\n          redirect: '/AntecedentesForm',\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n        window.showSpinner(false);\n      }\n    });\n  };\n\n  const getListados = () => {\n    const data = {\n      \"data\": {\n        \"type\": \"interesado\",\n        \"attributes\": {\n          \"id_proceso_disciplinario\": procesoDisciplinarioId,\n          \"tipo_documento\": \"1\",\n          \"numero_documento\": \"1\",\n          \"primer_nombre\": \"1\",\n          \"segundo_nombre\": \"1\",\n          \"primer_apellido\": \"1\",\n          \"segundo_apellido\": \"1\",\n          \"estado\": '1'\n        }\n      }\n    };\n    console.log(JSON.stringify(data));\n    DatosInteresadoApi.getAllDatosInteresadoByIdProDisciplinario(data, procesoDisciplinarioId).then(datos => {\n      if (!datos.error) {\n        setDatosInteresadoLista(datos);\n        setRespuestaDatosInteresado(true);\n        comunicacionSirius();\n      } else {\n        setModalState({\n          title: \"Comunicación de los interesados\",\n          message: datos.error.toString(),\n          show: true,\n          redirect: '/AntecedentesForm',\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n        window.showSpinner(false);\n      }\n    });\n  };\n\n  function comunicacionSirius() {\n    //VERIFICAR FUNCIONALIDAD\n    const dataComunicacion = {\n      \"data\": {\n        \"type\": \"documento_sirius\",\n        \"attributes\": {\n          \"id_proceso_disciplinario\": \"id_proceso_disciplinario\",\n          \"id_etapa\": \"id_etapa\",\n          \"id_fase\": \"id_fase\",\n          \"url_archivo\": \"url_archivo\",\n          \"nombre_archivo\": \"nombre_archivo\",\n          \"estado\": \"1\",\n          \"file64\": \"file64\",\n          \"num_folios\": \"num_folios\",\n          \"num_radicado\": \"pendiente\",\n          \"extension\": \"doc\",\n          \"peso\": \"peso\"\n        }\n      }\n    };\n    DocumentoSiriusApi.getDocumentacionSiriusByIdProDisciplinario(dataComunicacion, procesoDisciplinarioId, null, null, '1').then(datos => {\n      if (!datos.error) {\n        setSoporteRadicadoLista(datos);\n        setRespuestaSoporteRadicado(true);\n      } else {\n        setModalState({\n          title: \"Comunicación de los interesados\",\n          message: datos.error.toString(),\n          show: true,\n          redirect: '/AntecedentesForm',\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      }\n\n      window.showSpinner(false);\n    });\n  }\n\n  const selectRadicadosSirius = () => {\n    return soporteRadicadoLista.data.map((soporte, i) => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: soporte.id,\n        children: [soporte.attributes.num_radicado, \" | \", soporte.attributes.nombre_archivo, \" | \", soporte.attributes.sirius_track_id]\n      }, soporte.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  const asignarTemporal = () => {\n    if (asociacionAraay.length == 0 && getListaAsociados.length > 0) {\n      asociacionAraay = [];\n      console.log(\"entra\");\n      getListaAsociados.forEach(function (element, index) {\n        asociacionAraay.push(element);\n      });\n    }\n  };\n\n  const handleChange = idInteresado => event => {\n    try {\n      asignarTemporal();\n      console.log(getListaAsociados);\n      let valorRadicado = event.target.value;\n      let concat = idInteresado + \"|\" + valorRadicado;\n\n      if (asociacionAraay.length == 0) {\n        asociacionAraay.push(concat);\n        setListaAsociados(asociacionAraay);\n      } else {\n        let yaExiste = false;\n        asociacionAraay.forEach(function (element, index) {\n          if (idInteresado == element.split(\"|\")[0]) {\n            asociacionAraay[index] = idInteresado + \"|\" + valorRadicado;\n            yaExiste = true;\n          }\n        });\n\n        if (!yaExiste) {\n          asociacionAraay.push(concat);\n        }\n\n        setListaAsociados(asociacionAraay);\n      } //setAsociaciones({ asociaciones: [asociaciones, listado] })\n\n\n      console.log(asociacionAraay);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const listaDatosInteresado = () => {\n    return DatosInteresadoLista.data.map((datosInteresado, i) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: datosInteresado.attributes.primer_apellido ? datosInteresado.attributes.primer_apellido + \" \" + datosInteresado.attributes.segundo_apellido + \" \" + datosInteresado.attributes.primer_nombre + \" \" + datosInteresado.attributes.segundo_nombre : \"SIN INFORMACIÓN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Field, {\n            name: datosInteresado.id,\n            id: datosInteresado.id,\n            as: \"select\",\n            className: \"form-control\",\n            onChange: handleChange(datosInteresado.id),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Por favor seleccione\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 33\n            }, this), respuestaSoporteRadicado ? selectRadicadosSirius() : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            title: \"Descargar documento\",\n            className: \"btn btn-rounded btn-primary\",\n            onClick: () => handleClicArchivo(datosInteresado.id, true),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 179\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }, this)]\n      }, datosInteresado.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  const handleClicArchivo = (id, validacion) => {\n    let documento_sirius = null;\n\n    if (validacion) {\n      let id_documento = null;\n\n      for (let cont = 0; cont < getListaAsociados.length; cont++) {\n        let auxDato = getListaAsociados[cont].split('|');\n\n        if (auxDato[0] == id) {\n          id_documento = auxDato[1];\n          cont = getListaAsociados.length + 1;\n        }\n      }\n\n      if (!id_documento) {\n        setModalState({\n          title: \"SINPROC No \" + radicado + \" :: Comunicación de los interesados\",\n          message: 'Debe seleccionar un documento primero',\n          show: true,\n          redirect: null,\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n        return;\n      }\n\n      documento_sirius = soporteRadicadoLista.data.find(datos => datos.id == id_documento);\n\n      if (!documento_sirius) {\n        setModalState({\n          title: \"SINPROC No \" + radicado + \" :: Comunicación de los interesados\",\n          message: 'Debe seleccionar un documento primero',\n          show: true,\n          redirect: null,\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n        return;\n      }\n    } else {\n      documento_sirius = {\n        id: id.documento.uuid,\n        attributes: id.documento\n      };\n    }\n\n    try {\n      window.showSpinner(true);\n      let nombre_documento = documento_sirius.attributes.nombre_archivo;\n      let extension = documento_sirius.attributes.extension;\n      let es_compulsa = false;\n\n      if (documento_sirius.attributes.compulsa == '1') {\n        es_compulsa = true;\n      }\n\n      const data = {\n        \"data\": {\n          \"type\": \"documeto_sirius\",\n          \"attributes\": {\n            \"id_documento_sirius\": documento_sirius.id,\n            \"extension\": extension,\n            \"es_compulsa\": es_compulsa,\n            \"radicado\": from.radicado,\n            \"vigencia\": from.vigencia\n          }\n        }\n      };\n      DocumentoSiriusApi.getDocumento(data).then(datos => {\n        if (!datos.error) {\n          //console.log(datos.content_type);\n          downloadBase64File(datos.content_type, datos.base_64, nombre_documento, extension);\n        } else {\n          setErrorApi(datos.error.toString());\n          window.showModal(1);\n        }\n\n        window.showSpinner(false);\n      });\n    } catch (error) {\n      console.error(error);\n      window.showSpinner(false);\n    }\n  };\n\n  function downloadBase64File(contentType, base64Data, fileName, extension) {\n    const linkSource = `data:${contentType};base64,${base64Data}`;\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = linkSource;\n    downloadLink.download = fileName;\n    downloadLink.click();\n  }\n\n  const listaAsociaciones = () => {\n    return asociacionesLista.data.map((asociacion, i) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: asociacion.attributes.nombre_interesado ? asociacion.attributes.nombre_interesado : \"SIN INFORMACIÓN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [asociacion.attributes.radicado, \" - \", asociacion.attributes.archivo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            title: \"Descargar documento\",\n            className: \"btn btn-rounded btn-primary\",\n            onClick: () => handleClicArchivo(asociacion.attributes, false),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 183\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 25\n        }, this)]\n      }, asociacion.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 21\n      }, this);\n    });\n  };\n\n  const enviarDatos = aaaa => {\n    getListaAsociados.forEach(lista => {\n      let auxLista = lista.split('|');\n      console.log(\"Daticos\", auxLista[1]);\n\n      if (getListaAsociados.filter(dato => {\n        let auxDato = dato.split('|');\n\n        if (auxDato[1] == auxLista[1]) {\n          return dato;\n        }\n\n        return null;\n      }).length > 1) {\n        setModalState({\n          title: \"SINPROC No \" + radicado + \" :: Comunicación de los interesados\",\n          message: 'No puede informar a dos interesados con el mismo documento.',\n          show: true,\n          redirect: null,\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      }\n    });\n    console.log(\"***************************************\");\n    console.log(getListaAsociados);\n    window.showSpinner(true);\n    const data = {\n      \"data\": {\n        \"type\": 'comunicacion_interesado',\n        \"attributes\": {\n          \"concatenado\": getListaAsociados,\n          \"id_proceso_disciplinario\": procesoDisciplinarioId\n        }\n      }\n    };\n    console.log(\"***************************************\");\n    console.log(JSON.stringify(data));\n    console.log(\"***************************************\");\n    GenericApi.addGeneric(\"comunicacion-interesado\", data).then(datos => {\n      if (!datos.error) {\n        setModalState({\n          title: \"SINPROC No \" + radicado + \" :: Comunicación de los interesados\",\n          message: 'Registro Exitoso',\n          show: true,\n          redirect: '/RamasProceso/',\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.EXITO\n        }); //window.location.reload(true);\n      } else {\n        setModalState({\n          title: \"SINPROC No \" + radicado + \" :: Comunicación de los interesados\",\n          message: datos.error.toString(),\n          show: true,\n          redirect: null,\n          from: {\n            from\n          },\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n        asignarTemporal();\n      }\n\n      window.showSpinner(false);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ModalGen, {\n      data: getModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w2d_block\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          \"aria-label\": \"breadcrumb\",\n          children: /*#__PURE__*/_jsxDEV(\"ol\", {\n            className: \"breadcrumb breadcrumb-alt push\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                underline: \"hover\",\n                className: \"text-dark\",\n                to: `/MisPendientes`,\n                children: /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: \"Mis Pendientes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 101\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"breadcrumb-item\",\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                children: \"Ramas del proceso\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"block block-themed\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"block-title\",\n          children: [\"SINPROC No \", radicado, \" :: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Comunicaci\\xF3n del interesado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 74\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-12\",\n            children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(InfoErrorApi, {\n              error: errorApi\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(InfoExitoApi, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(InfoCustom, {\n              mensaje: \"El radicado que intenta asociar ya se encuentra relacionado con otro interesado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(Formik, {\n              initialValues: {\n                completado: ''\n              },\n              validate: valores => {\n                let errores = {};\n\n                if (getListaAsociados.length != DatosInteresadoLista.data.length) {\n                  errores.completado = \"Debe asociar todos los interesados\";\n                }\n\n                return errores;\n              },\n              onSubmit: (valores, _ref) => {\n                let {\n                  resetForm\n                } = _ref;\n                enviarDatos(valores);\n              },\n              children: _ref2 => {\n                let {\n                  errors\n                } = _ref2;\n                return /*#__PURE__*/_jsxDEV(Form, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-right\",\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      to: `/RamasProceso/`,\n                      state: {\n                        from: from\n                      },\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn btn-rounded btn-primary mr-1 mb-3 float-right\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          class: \"fas fa-backward\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 484,\n                          columnNumber: 133\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 484,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 483,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 482,\n                    columnNumber: 41\n                  }, this), esNuevo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block block-rounded block-bordered\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"block-title\",\n                      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Comunicaci\\xF3n al interesado\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 492,\n                        columnNumber: 81\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"block-content block-content-full\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-sm-12\",\n                          children: [/*#__PURE__*/_jsxDEV(ErrorMessage, {\n                            name: \"completado\",\n                            component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-danger\",\n                              children: errors.completado\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 497,\n                              columnNumber: 115\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 497,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                            className: \"table table-bordered table-striped table-vcenter js-dataTable-full\",\n                            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                  className: \"text-center\",\n                                  children: \"Persona\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 502,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Radicado para asociar\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 503,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Acciones\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 504,\n                                  columnNumber: 77\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 501,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 499,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                              children: respuestaSoporteRadicado ? listaDatosInteresado() : null\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 507,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 498,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 496,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 494,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 493,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 49\n                  }, this) : null, esNuevo ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block-content block-content-full text-right bg-light\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-12\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          type: \"submit\",\n                          className: \"btn btn-rounded btn-primary\",\n                          children: \" Guardar y asociar\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 523,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 522,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 520,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 49\n                  }, this) : null, !esNuevo ? /*#__PURE__*/_jsxDEV(\"table\", {\n                    className: \"table table-bordered table-striped table-vcenter js-dataTable-full\",\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Persona\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 540,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Radicado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 541,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"Acciones\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 542,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 539,\n                        columnNumber: 57\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 538,\n                      columnNumber: 53\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: respuestaAsociaciones ? listaAsociaciones() : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 53\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 537,\n                    columnNumber: 49\n                  }, this) : null]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 480,\n                  columnNumber: 37\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(ComunicacionInteresadoForm, \"Bhyk9OE5FXM0jqAdOvODG8Q9xlU=\", false, function () {\n  return [useLocation];\n});\n\n_c = ComunicacionInteresadoForm;\nexport default ComunicacionInteresadoForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ComunicacionInteresadoForm\");","map":{"version":3,"names":["ErrorMessage","Field","Form","Formik","React","useEffect","useState","Link","useParams","InfoErrorApi","InfoExitoApi","InfoCustom","DocumentoSiriusApi","useLocation","DatosInteresadoApi","ComunicacionInteresadoApi","Spinner","Navigate","ParametrosMasApi","ParametroModel","ModalGen","GenericApi","ComunicacionInteresadoForm","respuestaDatosInteresado","setRespuestaDatosInteresado","DatosInteresadoLista","setDatosInteresadoLista","data","links","meta","errorApi","setErrorApi","isRedirect","setIsRedirect","esNuevo","setEsNuevo","respuestaSoporteRadicado","setRespuestaSoporteRadicado","soporteRadicadoLista","setSoporteRadicadoLista","getDocumentosPorInteresado","setDocumentosPorInteresado","respuestaAsociaciones","setRespuestasociaciones","asociacionesLista","setAsociacionesLista","location","from","state","radicado","procesoDisciplinarioId","getListaAsociados","setListaAsociados","getModalState","setModalState","title","message","show","asociacionAraay","redirectToRoutes","fetchData","window","showSpinner","getComunicacionInteresado","console","log","JSON","stringify","getComunicacionInteresadoByIdProceso","then","datos","error","getListados","toString","redirect","alert","global","Constants","TIPO_ALERTA","ERROR","getAllDatosInteresadoByIdProDisciplinario","comunicacionSirius","dataComunicacion","getDocumentacionSiriusByIdProDisciplinario","selectRadicadosSirius","map","soporte","i","id","attributes","num_radicado","nombre_archivo","sirius_track_id","asignarTemporal","length","forEach","element","index","push","handleChange","idInteresado","event","valorRadicado","target","value","concat","yaExiste","split","listaDatosInteresado","datosInteresado","primer_apellido","segundo_apellido","primer_nombre","segundo_nombre","handleClicArchivo","validacion","documento_sirius","id_documento","cont","auxDato","find","documento","uuid","nombre_documento","extension","es_compulsa","compulsa","vigencia","getDocumento","downloadBase64File","content_type","base_64","showModal","contentType","base64Data","fileName","linkSource","downloadLink","document","createElement","href","download","click","listaAsociaciones","asociacion","nombre_interesado","archivo","enviarDatos","aaaa","lista","auxLista","filter","dato","addGeneric","EXITO","completado","valores","errores","resetForm","errors"],"sources":["C:/w2d/personeria/personeria-ui/src/components/RamasProceso/ComunicacionInteresado/ComunicacionInteresadoForm.js"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport InfoErrorApi from '../../Utils/InfoErrorApi';\r\nimport InfoExitoApi from '../../Utils/InfoExitoApi';\r\nimport InfoCustom from '../../Utils/InfoCustom';\r\n\r\nimport DocumentoSiriusApi from '../../Api/Services/DocumentoSiriusApi';\r\nimport { useLocation } from 'react-router-dom'\r\nimport DatosInteresadoApi from '../../Api/Services/DatosInteresadoApi';\r\nimport ComunicacionInteresadoApi from '../../Api/Services/ComunicacionInteresadoApi'\r\nimport Spinner from '../../Utils/Spinner';\r\nimport { Navigate } from \"react-router-dom\";\r\nimport ParametrosMasApi from \"../../Api/Services/ParametrosMasApi\";\r\nimport { ParametroModel } from '../../Models/ParametroModel';\r\n\r\nimport ModalGen from '../../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\n\r\nfunction ComunicacionInteresadoForm() {\r\n\r\n    const [respuestaDatosInteresado, setRespuestaDatosInteresado] = useState(false);\r\n    const [DatosInteresadoLista, setDatosInteresadoLista] = useState({ data: [], links: [], meta: [] });\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [isRedirect, setIsRedirect] = useState(false);\r\n\r\n    const [esNuevo, setEsNuevo] = useState(false);\r\n    const [respuestaSoporteRadicado, setRespuestaSoporteRadicado] = useState(false);\r\n    const [soporteRadicadoLista, setSoporteRadicadoLista] = useState({ data: [], links: [], meta: [] });\r\n    const [getDocumentosPorInteresado, setDocumentosPorInteresado] = useState({});\r\n\r\n    const [respuestaAsociaciones, setRespuestasociaciones] = useState(false);\r\n    const [asociacionesLista, setAsociacionesLista] = useState({ data: [], links: [], meta: [] });\r\n\r\n    const location = useLocation()\r\n    const { from } = location.state\r\n    let radicado = from.radicado;\r\n    let procesoDisciplinarioId = from.procesoDisciplinarioId;\r\n    const [getListaAsociados, setListaAsociados] = useState([]);\r\n\r\n\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n\r\n    let asociacionAraay = [];\r\n\r\n    const redirectToRoutes = () => {\r\n        return <Navigate to={`/ComunicacionInteresadoForm/${procesoDisciplinarioId}`} />;\r\n    }\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n\r\n            window.showSpinner(true);\r\n            getComunicacionInteresado();\r\n\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const getComunicacionInteresado = () => {\r\n\r\n        let data = {\r\n            \"data\": {\r\n                \"type\": \"comunicacion_interesado\",\r\n                \"attributes\": {\r\n                    \"concatenado\": '1234',\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(JSON.stringify(data));\r\n        ComunicacionInteresadoApi.getComunicacionInteresadoByIdProceso(data, procesoDisciplinarioId).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    if (datos[\"data\"] != \"\") {\r\n                        setAsociacionesLista(datos);\r\n                        setRespuestasociaciones(true);\r\n                        console.log(data);\r\n                        window.showSpinner(false);\r\n                    }\r\n                    else {\r\n                        setEsNuevo(true);\r\n                        getListados();\r\n                    }\r\n                }\r\n                else {\r\n                    setModalState({ title: \"Comunicación de los interesados\", message: datos.error.toString(), show: true, redirect: '/AntecedentesForm', from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    window.showSpinner(false);\r\n                }\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    const getListados = () => {\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": \"interesado\",\r\n                \"attributes\": {\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId,\r\n                    \"tipo_documento\": \"1\",\r\n                    \"numero_documento\": \"1\",\r\n                    \"primer_nombre\": \"1\",\r\n                    \"segundo_nombre\": \"1\",\r\n                    \"primer_apellido\": \"1\",\r\n                    \"segundo_apellido\": \"1\",\r\n                    \"estado\": '1'\r\n                }\r\n            }\r\n        }\r\n        console.log(JSON.stringify(data));\r\n        DatosInteresadoApi.getAllDatosInteresadoByIdProDisciplinario(data, procesoDisciplinarioId).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setDatosInteresadoLista(datos)\r\n                    setRespuestaDatosInteresado(true)\r\n                    comunicacionSirius();\r\n                }\r\n                else {\r\n                    setModalState({ title: \"Comunicación de los interesados\", message: datos.error.toString(), show: true, redirect: '/AntecedentesForm', from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    window.showSpinner(false);\r\n                }\r\n            }\r\n        )\r\n\r\n        \r\n    }\r\n\r\n    function comunicacionSirius(){//VERIFICAR FUNCIONALIDAD\r\n        const dataComunicacion = {\r\n            \"data\": {\r\n                \"type\": \"documento_sirius\",\r\n                \"attributes\": {\r\n                    \"id_proceso_disciplinario\": \"id_proceso_disciplinario\",\r\n                    \"id_etapa\": \"id_etapa\",\r\n                    \"id_fase\": \"id_fase\",\r\n                    \"url_archivo\": \"url_archivo\",\r\n                    \"nombre_archivo\": \"nombre_archivo\",\r\n                    \"estado\": \"1\",\r\n                    \"file64\": \"file64\",\r\n                    \"num_folios\": \"num_folios\",\r\n                    \"num_radicado\": \"pendiente\",\r\n                    \"extension\": \"doc\",\r\n                    \"peso\": \"peso\",\r\n                }\r\n            }\r\n        }\r\n\r\n        DocumentoSiriusApi.getDocumentacionSiriusByIdProDisciplinario(dataComunicacion,procesoDisciplinarioId, null,null,'1').then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setSoporteRadicadoLista(datos)\r\n                    setRespuestaSoporteRadicado(true)\r\n                }\r\n                else {\r\n                    setModalState({ title: \"Comunicación de los interesados\", message: datos.error.toString(), show: true, redirect: '/AntecedentesForm', from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n    const selectRadicadosSirius = () => {\r\n        return (\r\n            soporteRadicadoLista.data.map((soporte, i) => {\r\n                return (\r\n                    <option key={soporte.id} value={soporte.id}>{soporte.attributes.num_radicado} | {soporte.attributes.nombre_archivo} | {soporte.attributes.sirius_track_id}</option>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const   asignarTemporal = () => {\r\n        if (asociacionAraay.length == 0 && getListaAsociados.length > 0) {\r\n            asociacionAraay = [];\r\n            console.log(\"entra\");\r\n            getListaAsociados.forEach(function (element, index) {\r\n                asociacionAraay.push(element);\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n    const handleChange = idInteresado => (event) => {\r\n\r\n        try {\r\n            asignarTemporal();\r\n            console.log(getListaAsociados);\r\n\r\n            let valorRadicado = event.target.value;\r\n\r\n            let concat = idInteresado + \"|\" + valorRadicado;\r\n\r\n            if (asociacionAraay.length == 0) {\r\n\r\n                asociacionAraay.push(concat);\r\n                setListaAsociados(asociacionAraay);\r\n\r\n            }\r\n            else {\r\n                let yaExiste = false;\r\n\r\n                asociacionAraay.forEach(function (element, index) {\r\n\r\n\r\n                    if (idInteresado == element.split(\"|\")[0]) {\r\n                        asociacionAraay[index] = idInteresado + \"|\" + valorRadicado;\r\n                        yaExiste = true;\r\n                    }\r\n\r\n                });\r\n\r\n\r\n\r\n                if (!yaExiste) {\r\n                    asociacionAraay.push(concat)\r\n                }\r\n\r\n                setListaAsociados(asociacionAraay);\r\n            }\r\n\r\n            //setAsociaciones({ asociaciones: [asociaciones, listado] })\r\n            console.log(asociacionAraay);\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const listaDatosInteresado = () => {\r\n\r\n        return (\r\n            DatosInteresadoLista.data.map((datosInteresado, i) => {\r\n                return (\r\n                    <tr key={datosInteresado.id}>\r\n\r\n                        <td>{datosInteresado.attributes.primer_apellido?(datosInteresado.attributes.primer_apellido+\" \"+datosInteresado.attributes.segundo_apellido+\" \"+datosInteresado.attributes.primer_nombre+\" \"+datosInteresado.attributes.segundo_nombre):\"SIN INFORMACIÓN\"}</td>\r\n                        <td >\r\n                            <Field name={datosInteresado.id} id={datosInteresado.id} as=\"select\" className=\"form-control\" onChange={handleChange(datosInteresado.id)}>\r\n                                <option value=\"\">Por favor seleccione</option>\r\n                                {respuestaSoporteRadicado ? selectRadicadosSirius() : null}\r\n                            </Field>\r\n                        </td>\r\n                        <td>\r\n                            <button type='button' title='Descargar documento' className='btn btn-rounded btn-primary' onClick={() => handleClicArchivo(datosInteresado.id, true)}><i className=\"fas fa-download\"></i></button>\r\n                        </td>\r\n\r\n                    </tr>\r\n                )\r\n            })\r\n        )\r\n    }\r\n\r\n    const handleClicArchivo = (id, validacion) => {\r\n\r\n        let documento_sirius = null;\r\n\r\n        if(validacion){\r\n            let id_documento = null;\r\n\r\n            for(let cont = 0; cont < getListaAsociados.length; cont++){\r\n                let auxDato = getListaAsociados[cont].split('|');\r\n                if(auxDato[0] == id){\r\n                    id_documento = auxDato[1];\r\n                    cont = getListaAsociados.length + 1;\r\n                }\r\n            }\r\n    \r\n            if(!id_documento){\r\n                setModalState({ title: \"SINPROC No \"+radicado+\" :: Comunicación de los interesados\", message: 'Debe seleccionar un documento primero', show: true, redirect: null, from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                return;\r\n            }\r\n    \r\n            documento_sirius = soporteRadicadoLista.data.find(datos => datos.id == id_documento);\r\n    \r\n            if(!documento_sirius){\r\n                setModalState({ title: \"SINPROC No \"+radicado+\" :: Comunicación de los interesados\", message: 'Debe seleccionar un documento primero', show: true, redirect: null, from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                return;\r\n            }\r\n        }\r\n        else{\r\n            documento_sirius = {\r\n                id: id.documento.uuid,\r\n                attributes: id.documento\r\n            }\r\n        }\r\n\r\n        try {\r\n            window.showSpinner(true);\r\n            let nombre_documento = documento_sirius.attributes.nombre_archivo;\r\n            let extension = documento_sirius.attributes.extension;\r\n            let es_compulsa = false;\r\n\r\n            if (documento_sirius.attributes.compulsa == '1') {\r\n                es_compulsa = true;\r\n            }\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"documeto_sirius\",\r\n                    \"attributes\": {\r\n                        \"id_documento_sirius\": documento_sirius.id,\r\n                        \"extension\": extension,\r\n                        \"es_compulsa\": es_compulsa,\r\n                        \"radicado\": from.radicado,\r\n                        \"vigencia\": from.vigencia\r\n                    }\r\n                }\r\n            }\r\n\r\n            DocumentoSiriusApi.getDocumento(data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        //console.log(datos.content_type);\r\n                        downloadBase64File(datos.content_type, datos.base_64, nombre_documento, extension);\r\n                    }\r\n                    else {\r\n                        setErrorApi(datos.error.toString())\r\n                        window.showModal(1)\r\n                    }\r\n                    window.showSpinner(false);\r\n                }\r\n            )\r\n        } catch (error) {\r\n            console.error(error);\r\n            window.showSpinner(false);\r\n        }\r\n    };\r\n\r\n    function downloadBase64File(contentType, base64Data, fileName, extension) {\r\n        const linkSource = `data:${contentType};base64,${base64Data}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n\r\n    const listaAsociaciones = () => {\r\n\r\n        return (\r\n\r\n\r\n            asociacionesLista.data.map((asociacion, i) => {\r\n                return (\r\n                    <tr key={asociacion.id}>\r\n                        <td>{asociacion.attributes.nombre_interesado?asociacion.attributes.nombre_interesado:\"SIN INFORMACIÓN\"}</td>\r\n                        <td>{asociacion.attributes.radicado} - {asociacion.attributes.archivo}</td>\r\n                        <td>\r\n                            <button type='button' title='Descargar documento' className='btn btn-rounded btn-primary' onClick={() => handleClicArchivo(asociacion.attributes, false)}><i className=\"fas fa-download\"></i></button>\r\n                        </td>\r\n                    </tr>\r\n                )\r\n            })\r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    const enviarDatos = (aaaa) => {\r\n\r\n        getListaAsociados.forEach(lista => {\r\n            let auxLista = lista.split('|');\r\n            console.log(\"Daticos\", auxLista[1]);\r\n            if(getListaAsociados.filter(dato => {\r\n                let auxDato = dato.split('|');\r\n                if(auxDato[1] == auxLista[1]){\r\n                    return dato;\r\n                }\r\n                return null;\r\n            }).length > 1){\r\n                setModalState({ title: \"SINPROC No \"+radicado+\" :: Comunicación de los interesados\", message: 'No puede informar a dos interesados con el mismo documento.', show: true, redirect: null, from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n            }\r\n        });\r\n\r\n\r\n        console.log(\"***************************************\");\r\n\r\n        console.log(getListaAsociados);\r\n        window.showSpinner(true);\r\n        const data = {\r\n            \"data\": {\r\n                \"type\": 'comunicacion_interesado',\r\n                \"attributes\": {\r\n                    \"concatenado\": getListaAsociados,\r\n                    \"id_proceso_disciplinario\": procesoDisciplinarioId\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n        console.log(\"***************************************\");\r\n        console.log(JSON.stringify(data));\r\n        console.log(\"***************************************\");\r\n        \r\n        GenericApi.addGeneric(\"comunicacion-interesado\",data).then(\r\n\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setModalState({ title: \"SINPROC No \"+radicado+\" :: Comunicación de los interesados\", message: 'Registro Exitoso', show: true, redirect: '/RamasProceso/', from: {from}, alert: global.Constants.TIPO_ALERTA.EXITO});\r\n\r\n                    //window.location.reload(true);\r\n                }\r\n                else {\r\n                    setModalState({ title: \"SINPROC No \"+radicado+\" :: Comunicación de los interesados\", message: datos.error.toString(), show: true, redirect: null, from: {from}, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    asignarTemporal();\r\n                }\r\n                window.showSpinner(false);\r\n\r\n            }\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n        {<ModalGen data={getModalState} />}\r\n            <div className=\"col-md-12\">\r\n                <div className=\"w2d_block\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb breadcrumb-alt push\">\r\n\r\n                            <li className=\"breadcrumb-item\">\r\n                                <Link underline=\"hover\" className=\"text-dark\" to={`/MisPendientes`}><small>Mis Pendientes</small></Link></li>\r\n                            <li className=\"breadcrumb-item\"><small>Ramas del proceso</small></li>\r\n                        </ol>\r\n                    </nav>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"block block-themed\">\r\n\r\n                <div className=\"block-header\">\r\n                    <h3 className=\"block-title\">SINPROC No {radicado} :: <strong>Comunicación del interesado</strong></h3>\r\n                </div>\r\n\r\n\r\n                <div className=\"block-content\">\r\n\r\n                    \r\n                    <div className=\"row\">\r\n\r\n                        <div className=\"col-md-12\">\r\n                            {<Spinner />}\r\n                            {<InfoErrorApi error={errorApi} />}\r\n                            {<InfoExitoApi />}\r\n                            {<InfoCustom mensaje={\"El radicado que intenta asociar ya se encuentra relacionado con otro interesado\"} />}\r\n                            <Formik\r\n                                initialValues={{\r\n                                    completado: ''\r\n                                }}\r\n\r\n                                validate={(valores) => {\r\n                                    let errores = {}\r\n\r\n                                    if (getListaAsociados.length != DatosInteresadoLista.data.length) {\r\n                                        errores.completado = \"Debe asociar todos los interesados\";\r\n                                    }\r\n\r\n                                    return errores;\r\n                                }}\r\n                                onSubmit={(valores, { resetForm }) => {\r\n                                    enviarDatos(valores);\r\n                                }}\r\n                            >\r\n\r\n\r\n                                {({ errors }) => (\r\n                                    <Form>\r\n                                        \r\n                                        <div className=\"text-right\">\r\n                                            <Link to={`/RamasProceso/`} state={{ from: from }}>\r\n                                                <button type=\"button\" className=\"btn btn-rounded btn-primary mr-1 mb-3 float-right\"><i class=\"fas fa-backward\"></i></button>\r\n                                            </Link>\r\n                                        </div>\r\n\r\n\r\n                                        {\r\n                                            (esNuevo) ? (\r\n                                                <div className=\"block block-rounded block-bordered\">\r\n                                                    <h3 className=\"block-title\"><strong>Comunicación al interesado</strong></h3>\r\n                                                    <div className=\"block-content block-content-full\">\r\n                                                        <div className=\"row\">\r\n\r\n                                                            <div className=\"col-sm-12\">\r\n                                                                <ErrorMessage name=\"completado\" component={() => (<span className=\"text-danger\">{errors.completado}</span>)} />\r\n                                                                <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                                                    <thead>\r\n\r\n                                                                        <tr>\r\n                                                                            <th className=\"text-center\">Persona</th>\r\n                                                                            <th>Radicado para asociar</th>\r\n                                                                            <th>Acciones</th>\r\n                                                                        </tr>\r\n                                                                    </thead>\r\n                                                                    <tbody>\r\n                                                                        {respuestaSoporteRadicado ? listaDatosInteresado() : null}\r\n                                                                    </tbody>\r\n                                                                </table>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            ) : null\r\n                                        }\r\n                                        {\r\n                                            (esNuevo) ? (\r\n                                                <div className=\"block-content block-content-full text-right bg-light\">\r\n                                                    <div className='row'>\r\n\r\n                                                        <div className='col-12'>\r\n                                                            <button type=\"submit\" className=\"btn btn-rounded btn-primary\"> Guardar y asociar</button>\r\n\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n\r\n\r\n                                                </div>\r\n                                            ) : null\r\n                                        }\r\n\r\n                                        {\r\n                                            (!esNuevo) ? (\r\n\r\n                                                <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th>Persona</th>\r\n                                                            <th>Radicado</th>\r\n                                                            <th>Acciones</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        {respuestaAsociaciones ? listaAsociaciones() : null}\r\n                                                    </tbody>\r\n                                                </table>\r\n\r\n                                            ) : null\r\n                                        }\r\n\r\n\r\n                                    </Form>\r\n                                )}\r\n                            </Formik>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    );\r\n\r\n\r\n}\r\nexport default ComunicacionInteresadoForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}