{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\Maestras\\\\GenericForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { Autoform } from 'react-hook-form-auto'; //import styles from 'rhfa-emergency-styles';\n\nimport styles from './Models/Styles';\nimport 'rhfa-emergency-styles/dist/styles.css';\nimport Spinner from '../Utils/Spinner';\nimport ModalGen from '../Utils/Modals/ModalGeneric';\nimport GenericApi from '../Api/Services/GenericApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GenericForm(props) {\n  _s();\n\n  const {\n    formName,\n    service,\n    ddlServices = [],\n    ddlServicesFunction = null,\n    model,\n    onSubmit = null,\n    successRedirect = ''\n  } = props; //const navigate = useNavigate();\n\n  const {\n    id\n  } = useParams();\n  const [showForm, setShowForm] = useState(false);\n  const [modelSchema, setModelSchema] = useState({});\n  const [initialValues, setInitialValues] = useState({});\n  const [modalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  let submitButtonText = id == undefined ? 'Crear' : 'Editar';\n  let formRef;\n  useEffect(() => {\n    window.showSpinner(true);\n\n    async function initialData() {\n      if (id != undefined) {\n        return GenericApi.getByIdGeneric(service, id).then(datos => {\n          setInitialValues(datos.data.attributes);\n          return !datos.error ? datos.data.attributes : {};\n        });\n      } else return {};\n    }\n\n    (async function () {\n      var data = await initialData();\n      var ddlData = {};\n\n      for (var i = 0; i < ddlServices.length; i++) {\n        var element = ddlServices[i];\n        var ddlServiceData = await GenericApi.getAllGeneric(element).then(datos => {\n          var ddlList = [];\n\n          if (!datos.error) {\n            datos.data.forEach(value => {\n              let item = typeof ddlServicesFunction == 'function' ? ddlServicesFunction(element, value) : {\n                value: value.id,\n                label: value.attributes.nombre\n              };\n              ddlList.push(item);\n            });\n          }\n\n          return ddlList;\n        }); //console.log('END execution with result =', ddlServiceData);\n\n        ddlData[element] = ddlServiceData;\n      }\n\n      loadForm(data, ddlData);\n      window.showSpinner(false);\n    })();\n  }, []);\n\n  const loadForm = (data, ddlData) => {\n    //console.log(\"model type: \" + typeof model);\n    let modelDef = typeof model == 'function' ? model(ddlData) : model;\n    setModelSchema(modelDef);\n    setShowForm(true); //asigna valores iniciales al formulario\n    //console.log(\"asigna valores iniciales al formulario>>>>\")\n\n    if (formRef != undefined) {\n      Object.entries(data).forEach(_ref => {\n        let [key, value] = _ref;\n        //console.log(key + \": \" + value);\n        formRef.setValue(key, value);\n      });\n    }\n  };\n\n  const errors = error => {\n    console.log('errors');\n    console.log(error);\n  };\n\n  const submit = data => {\n    if (typeof onSubmit == 'function') {\n      onSubmit(data);\n      return;\n    }\n\n    window.showSpinner(true);\n    var requestData = {\n      \"data\": {\n        \"type\": service,\n        \"attributes\": data\n      }\n    };\n    console.log(JSON.stringify(requestData));\n\n    if (id == undefined) {\n      GenericApi.addGeneric(service, requestData).then(datos => {\n        window.showSpinner(false);\n        if (!datos.error) setModalState({\n          title: \"Registro creado\",\n          message: \"Registro creado con éxito\",\n          show: true,\n          redirect: successRedirect,\n          alert: global.Constants.TIPO_ALERTA.EXITO\n        });else setModalState({\n          title: \"Error\",\n          message: datos.error ? datos.error.toString() : \"Error creando el registro\",\n          show: true,\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      });\n    } else {\n      GenericApi.updateGeneric(service, id, requestData).then(datos => {\n        window.showSpinner(false);\n        if (!datos.error) setModalState({\n          title: \"Registro actualizado\",\n          message: \"Registro actualizado con éxito\",\n          show: true,\n          redirect: successRedirect,\n          alert: global.Constants.TIPO_ALERTA.EXITO\n        });else setModalState({\n          title: \"Error\",\n          message: datos.error ? datos.error.toString() : \"Error actualizando el registro\",\n          show: true,\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalGen, {\n      data: modalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block block-rounded block-bordered\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block-content\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            \"aria-label\": \"breadcrumb\",\n            children: /*#__PURE__*/_jsxDEV(\"ol\", {\n              className: \"breadcrumb breadcrumb-alt push\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"breadcrumb-item\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                  underline: \"hover\",\n                  className: \"text-dark\",\n                  to: successRedirect,\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\"Lista de \", formName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 125\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"breadcrumb-item\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [submitButtonText, \" \", formName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"block block-themed\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"block-title\",\n            children: [\"Datos b\\xE1sicos \", formName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"block-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right \",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: successRedirect,\n              title: \"Regresar a lista de Ciudades\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-success\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-backward\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 79\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 21\n          }, this), showForm ? /*#__PURE__*/_jsxDEV(Autoform, {\n            schema: modelSchema,\n            initialValues: initialValues,\n            styles: styles,\n            submitButton: true,\n            submitButtonText: submitButtonText,\n            config: {\n              arrayMode: 'table',\n              horizontal: false\n            },\n            onSubmit: submit,\n            onErrors: errors,\n            ref: e => formRef = e\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 13\n  }, this);\n}\n\n_s(GenericForm, \"DRzSLSQyzdwPy8OemV73hFMAd/A=\", false, function () {\n  return [useParams];\n});\n\n_c = GenericForm;\n;\n\nvar _c;\n\n$RefreshReg$(_c, \"GenericForm\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","useNavigate","Autoform","styles","Spinner","ModalGen","GenericApi","GenericForm","props","formName","service","ddlServices","ddlServicesFunction","model","onSubmit","successRedirect","id","showForm","setShowForm","modelSchema","setModelSchema","initialValues","setInitialValues","modalState","setModalState","title","message","show","submitButtonText","undefined","formRef","window","showSpinner","initialData","getByIdGeneric","then","datos","data","attributes","error","ddlData","i","length","element","ddlServiceData","getAllGeneric","ddlList","forEach","value","item","label","nombre","push","loadForm","modelDef","Object","entries","key","setValue","errors","console","log","submit","requestData","JSON","stringify","addGeneric","redirect","alert","global","Constants","TIPO_ALERTA","EXITO","toString","ERROR","updateGeneric","arrayMode","horizontal","e"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Maestras/GenericForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { Autoform } from 'react-hook-form-auto';\r\n//import styles from 'rhfa-emergency-styles';\r\nimport styles from './Models/Styles';\r\nimport 'rhfa-emergency-styles/dist/styles.css';\r\nimport Spinner from '../Utils/Spinner';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\n\r\n\r\nexport default function GenericForm(props) {\r\n    const {\r\n        formName,\r\n        service,\r\n        ddlServices = [],\r\n        ddlServicesFunction = null,\r\n        model,\r\n        onSubmit = null,\r\n        successRedirect = ''\r\n    } = props\r\n\r\n    //const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    const [showForm, setShowForm] = useState(false);\r\n    const [modelSchema, setModelSchema] = useState({});\r\n    const [initialValues, setInitialValues] = useState({});\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n    let submitButtonText = id == undefined ? 'Crear' : 'Editar';\r\n    let formRef;\r\n\r\n    useEffect(() => {\r\n        window.showSpinner(true);\r\n\r\n        async function initialData() {\r\n\r\n            if (id != undefined) {\r\n                return GenericApi.getByIdGeneric(service, id).then(\r\n                    datos => {\r\n                        setInitialValues(datos.data.attributes);\r\n                        return !datos.error ? datos.data.attributes : {};\r\n                    }\r\n                )\r\n            }\r\n            else\r\n                return {};\r\n        }\r\n\r\n        (async function () {\r\n            var data = await initialData();\r\n            var ddlData = {};\r\n            for (var i = 0; i < ddlServices.length; i++) {\r\n                var element = ddlServices[i];\r\n                var ddlServiceData = await GenericApi.getAllGeneric(element).then(\r\n                    datos => {\r\n                        var ddlList = [];\r\n                        if (!datos.error) {\r\n                            datos.data.forEach(value => {\r\n                                let item = typeof ddlServicesFunction == 'function' ? ddlServicesFunction(element, value) : { value: value.id, label: value.attributes.nombre };\r\n                                ddlList.push(item);\r\n                            });\r\n                        }\r\n                        return ddlList;\r\n                    }\r\n                );\r\n                //console.log('END execution with result =', ddlServiceData);\r\n                ddlData[element] = ddlServiceData;\r\n            }\r\n\r\n            loadForm(data, ddlData);\r\n            window.showSpinner(false);\r\n        })();\r\n    }, []);\r\n\r\n    const loadForm = (data, ddlData) => {\r\n        //console.log(\"model type: \" + typeof model);\r\n        let modelDef = typeof model == 'function' ? model(ddlData) : model;\r\n        setModelSchema(modelDef);\r\n        setShowForm(true);\r\n\r\n        //asigna valores iniciales al formulario\r\n        //console.log(\"asigna valores iniciales al formulario>>>>\")\r\n        if (formRef != undefined) {\r\n            Object.entries(data).forEach(([key, value]) => {\r\n                //console.log(key + \": \" + value);\r\n                formRef.setValue(key, value);\r\n            });\r\n        }\r\n    }\r\n\r\n    const errors = (error) => {\r\n        console.log('errors');\r\n        console.log(error);\r\n    }\r\n\r\n    const submit = (data) => {\r\n\r\n        if (typeof onSubmit == 'function') {\r\n\r\n            onSubmit(data);\r\n            return;\r\n        }\r\n\r\n        window.showSpinner(true);\r\n        var requestData = {\r\n            \"data\": {\r\n                \"type\": service,\r\n                \"attributes\": data,\r\n            }\r\n        }\r\n        console.log(JSON.stringify(requestData));\r\n        if (id == undefined) {\r\n\r\n            GenericApi.addGeneric(service, requestData).then(\r\n                datos => {\r\n                    window.showSpinner(false);\r\n                    if (!datos.error)\r\n                        setModalState({ title: \"Registro creado\", message: \"Registro creado con éxito\", show: true, redirect: successRedirect,  alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                    else\r\n                        setModalState({ title: \"Error\", message: (datos.error) ? datos.error.toString() : \"Error creando el registro\", show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n            );\r\n        }\r\n        else {\r\n            GenericApi.updateGeneric(service, id, requestData).then(\r\n                datos => {\r\n                    window.showSpinner(false);\r\n\r\n                    if (!datos.error)\r\n                        setModalState({ title: \"Registro actualizado\", message: \"Registro actualizado con éxito\", show: true, redirect: successRedirect, alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                    else\r\n                        setModalState({ title: \"Error\", message: (datos.error) ? datos.error.toString() : \"Error actualizando el registro\", show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    return (<div>\r\n        <Spinner />\r\n        <ModalGen data={modalState} />\r\n        <div className=\"col-md-12\">\r\n            <div className=\"block block-rounded block-bordered\">\r\n                <div className=\"block-content\">\r\n                    <nav aria-label=\"breadcrumb\">\r\n                        <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                            <li class=\"breadcrumb-item\"> <Link underline=\"hover\" className=\"text-dark\" to={successRedirect}><small>Lista de {formName}</small></Link></li>\r\n                            <li class=\"breadcrumb-item\"> <small>{submitButtonText} {formName}</small></li>\r\n                        </ol>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n            <div className=\"block block-themed\">\r\n                <div className=\"block-header\">\r\n                    <h3 className=\"block-title\">Datos básicos {formName}</h3>\r\n                </div>\r\n\r\n                <div className=\"block-content\">\r\n                    <div className='text-right '>\r\n                        <Link to={successRedirect} title='Regresar a lista de Ciudades' >\r\n                            <button type=\"button\" className=\"btn btn-success\"><i className=\"fas fa-backward\"></i> </button>\r\n                        </Link>\r\n                    </div>\r\n                    {showForm ?\r\n                        <Autoform\r\n                            schema={modelSchema}\r\n                            initialValues={initialValues}\r\n                            styles={styles}\r\n                            submitButton={true}\r\n                            submitButtonText={submitButtonText}\r\n                            config={{ arrayMode: 'table', horizontal: false }}\r\n                            onSubmit={submit}\r\n                            onErrors={errors}\r\n                            ref={e => formRef = e}\r\n                        >\r\n                        </Autoform>\r\n                        : null}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}