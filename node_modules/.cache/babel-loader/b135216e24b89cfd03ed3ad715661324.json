{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\Maestras\\\\ParametroForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport GenericForm from './GenericForm';\nimport { ParametroModel } from './Models/ParametroModel';\nimport { useParams } from 'react-router-dom';\nimport ModalGen from '../Utils/Modals/ModalGeneric';\nimport GenericApi from '../Api/Services/GenericApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ParametroForm() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const [modalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  const submit = data => {\n    window.showSpinner(true);\n    var requestData = {\n      \"data\": {\n        \"type\": 'parametro',\n        \"attributes\": data\n      }\n    };\n    // console.log(JSON.stringify(requestData));\n    GenericApi.updateGeneric('parametro', id, requestData).then(datos => {\n      window.showSpinner(false);\n      if (!datos.error) setModalState({\n        title: \"Registro actualizado\",\n        message: \"Registro actualizado con exito\",\n        show: true,\n        redirect: '/Parametro',\n        alert: global.Constants.TIPO_ALERTA.EXITO\n      });else setModalState({\n        title: \"Error\",\n        message: datos.error ? datos.error.toString() : \"Error actualizando el registro\",\n        show: true,\n        alert: global.Constants.TIPO_ALERTA.ERROR\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ModalGen, {\n      data: modalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(GenericForm, {\n      formName: \"parametro del sistema\",\n      service: \"parametro\",\n      model: ParametroModel,\n      successRedirect: \"/Parametro\",\n      onSubmit: submit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(ParametroForm, \"/a+tcizDssLNtwi6LHKZqVJ1UXo=\", false, function () {\n  return [useParams];\n});\n_c = ParametroForm;\n;\nvar _c;\n$RefreshReg$(_c, \"ParametroForm\");","map":{"version":3,"names":["React","useState","GenericForm","ParametroModel","useParams","ModalGen","GenericApi","ParametroForm","id","modalState","setModalState","title","message","show","submit","data","window","showSpinner","requestData","updateGeneric","then","datos","error","redirect","alert","global","Constants","TIPO_ALERTA","EXITO","toString","ERROR"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Maestras/ParametroForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport GenericForm from './GenericForm';\r\nimport { ParametroModel } from './Models/ParametroModel';\r\nimport { useParams } from 'react-router-dom';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\n\r\nexport default function ParametroForm() {\r\n    const { id } = useParams();\r\n    const [modalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n    const submit = (data) => {\r\n        window.showSpinner(true);\r\n        var requestData = {\r\n            \"data\": {\r\n                \"type\": 'parametro',\r\n                \"attributes\": data,\r\n            }\r\n        }\r\n        // console.log(JSON.stringify(requestData));\r\n        GenericApi.updateGeneric('parametro', id, requestData).then(\r\n            datos => {\r\n                window.showSpinner(false);\r\n                if (!datos.error)\r\n                    setModalState({ title: \"Registro actualizado\", message: \"Registro actualizado con exito\", show: true, redirect: '/Parametro', alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                else\r\n                    setModalState({ title: \"Error\", message: (datos.error)?datos.error.toString():\"Error actualizando el registro\", show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n            }\r\n        );\r\n    }\r\n\r\n    return (<>\r\n        <ModalGen data={modalState} />\r\n        <GenericForm\r\n            formName='parametro del sistema'\r\n            service='parametro'\r\n            model={ParametroModel}\r\n            successRedirect='/Parametro'\r\n            onSubmit={submit}\r\n        />\r\n    </>\r\n    );\r\n};"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,cAAc,QAAQ,yBAAyB;AACxD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,QAAQ,MAAM,8BAA8B;AACnD,OAAOC,UAAU,MAAM,4BAA4B;AAAC;AAAA;AAEpD,eAAe,SAASC,aAAa,GAAG;EAAA;EACpC,MAAM;IAAEC;EAAG,CAAC,GAAGJ,SAAS,EAAE;EAC1B,MAAM,CAACK,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC;IAAEU,KAAK,EAAE,EAAE;IAAEC,OAAO,EAAE,EAAE;IAAEC,IAAI,EAAE;EAAM,CAAC,CAAC;EAErF,MAAMC,MAAM,GAAIC,IAAI,IAAK;IACrBC,MAAM,CAACC,WAAW,CAAC,IAAI,CAAC;IACxB,IAAIC,WAAW,GAAG;MACd,MAAM,EAAE;QACJ,MAAM,EAAE,WAAW;QACnB,YAAY,EAAEH;MAClB;IACJ,CAAC;IACD;IACAT,UAAU,CAACa,aAAa,CAAC,WAAW,EAAEX,EAAE,EAAEU,WAAW,CAAC,CAACE,IAAI,CACvDC,KAAK,IAAI;MACLL,MAAM,CAACC,WAAW,CAAC,KAAK,CAAC;MACzB,IAAI,CAACI,KAAK,CAACC,KAAK,EACZZ,aAAa,CAAC;QAAEC,KAAK,EAAE,sBAAsB;QAAEC,OAAO,EAAE,gCAAgC;QAAEC,IAAI,EAAE,IAAI;QAAEU,QAAQ,EAAE,YAAY;QAAEC,KAAK,EAAEC,MAAM,CAACC,SAAS,CAACC,WAAW,CAACC;MAAM,CAAC,CAAC,CAAC,KAE3KlB,aAAa,CAAC;QAAEC,KAAK,EAAE,OAAO;QAAEC,OAAO,EAAGS,KAAK,CAACC,KAAK,GAAED,KAAK,CAACC,KAAK,CAACO,QAAQ,EAAE,GAAC,gCAAgC;QAAEhB,IAAI,EAAE,IAAI;QAAEW,KAAK,EAAEC,MAAM,CAACC,SAAS,CAACC,WAAW,CAACG;MAAM,CAAC,CAAC;IAChL,CAAC,CACJ;EACL,CAAC;EAED,oBAAQ;IAAA,wBACJ,QAAC,QAAQ;MAAC,IAAI,EAAErB;IAAW;MAAA;MAAA;MAAA;IAAA,QAAG,eAC9B,QAAC,WAAW;MACR,QAAQ,EAAC,uBAAuB;MAChC,OAAO,EAAC,WAAW;MACnB,KAAK,EAAEN,cAAe;MACtB,eAAe,EAAC,YAAY;MAC5B,QAAQ,EAAEW;IAAO;MAAA;MAAA;MAAA;IAAA,QACnB;EAAA,gBACH;AAEP;AAAC,GAnCuBP,aAAa;EAAA,QAClBH,SAAS;AAAA;AAAA,KADJG,aAAa;AAmCpC;AAAC;AAAA"},"metadata":{},"sourceType":"module"}