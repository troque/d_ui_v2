{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\Perfil\\\\AgregarFirma.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Spinner from '../Utils/Spinner';\nimport { Link } from \"react-router-dom\";\nimport { getUser } from '../../components/Utils/Common';\nimport GenericApi from '../Api/Services/GenericApi';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport InfoErrorApi from '../Utils/InfoErrorApi';\nimport ModalGen from '../Utils/Modals/ModalGeneric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AgregarFirma() {\n  _s();\n\n  const [inputListfirmaMecanica, setInputListfirmaMecanica] = useState([{\n    folios: \"\",\n    firmaMecanica: {},\n    filebase64: \"\",\n    size: 0,\n    id_mas_formato: null\n  }]);\n  const [getDatosUsuario, setDatosUsuario] = useState(\"\");\n  const [getNombreFirmaMecanica, setNombreFirmaMecanica] = useState(\"\");\n  const [getContraseña, setContraseña] = useState(\"\");\n  const [errorApi, setErrorApi] = useState('');\n  const [getModalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  useEffect(() => {\n    async function fetchData() {\n      window.showSpinner(true);\n      obtenerDatosUsuario();\n    }\n\n    fetchData();\n  }, []);\n\n  const obtenerDatosUsuario = () => {\n    GenericApi.getGeneric(\"usuario/get-usuario-por-name/\" + getUser().nombre).then(datos => {\n      if (!datos.error) {\n        setDatosUsuario(datos.data[0]);\n        setNombreFirmaMecanica(datos.data[0].attributes.firma_mecanica);\n      }\n\n      window.showSpinner(false);\n    });\n  };\n\n  const handleClicfirmaMecanicaEjemplo = () => {\n    try {\n      const data = {\n        \"data\": {\n          \"type\": \"usuario\",\n          \"attributes\": {\n            \"firma_mecanica\": \"\"\n          }\n        }\n      };\n      GenericApi.getByDataGeneric('usuario/get-firma-mecanica-ejemplo', data).then(datos => {\n        if (!datos.error) {\n          downloadBase64FileManual(datos.content_type, datos.base_64, datos.file_name);\n        } else {}\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleClicfirmaMecanica = () => {\n    try {\n      const data = {\n        \"data\": {\n          \"type\": \"usuario\",\n          \"attributes\": {\n            \"firma_mecanica\": \"\"\n          }\n        }\n      };\n      GenericApi.getByDataGeneric('usuario/get-firma-mecanica/' + getDatosUsuario.id, data).then(datos => {\n        if (!datos.error) {\n          downloadBase64FileManual(datos.content_type, datos.base_64, datos.file_name);\n        } else {}\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  function downloadBase64FileManual(contentType, base64Data, fileName) {\n    const linkSource = `data:${contentType};base64,${base64Data}`;\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = linkSource;\n    downloadLink.download = fileName;\n    downloadLink.click();\n  }\n\n  const handleInputChangeArchivosManual = (e, index) => {\n    const {\n      name,\n      files\n    } = e.target;\n\n    if (files.length > 0) {\n      const extension = getFileExtension(files[0].name);\n\n      if (extension == \"png\") {\n        const list = [...inputListfirmaMecanica];\n        list[index][name] = files[0];\n        console.log(list);\n\n        if (files[0]) {\n          list[index][name] = files[0];\n        } else {\n          list[index][name] = '';\n          list[index].filebase64 = '';\n          list[index].size = 0;\n          list[index].ext = \"\";\n          setInputListfirmaMecanica(list);\n        } // Conversion a Base64\n\n\n        Array.from(e.target.files).forEach(archivo => {\n          var reader = new FileReader();\n          reader.readAsDataURL(archivo);\n\n          reader.onload = function () {\n            var arrayAuxiliar = [];\n            var base64 = reader.result;\n            arrayAuxiliar = base64.split(',');\n            list[index].filebase64 = arrayAuxiliar[1];\n            list[index].ext = extension;\n            setInputListfirmaMecanica(list);\n          };\n        });\n        obtenerPesoTotalArchivosManual(list);\n      } else {\n        const list = [...inputListfirmaMecanica];\n        list[index][name] = files[0];\n        list[index].filebase64 = '';\n        list[index].size = 0;\n        list[index][name] = '';\n        setInputListfirmaMecanica(list);\n        setErrorApi(\"El archivo seleccionado no tiene un formato permitido. Debe ser *.png\");\n        window.showModal(1);\n      }\n    } else {\n      const list = [...inputListfirmaMecanica];\n      list[index][name] = '';\n      list[index].filebase64 = '';\n      list[index].size = 0;\n      setInputListfirmaMecanica(list);\n      obtenerPesoTotalArchivosManual(list);\n    }\n  };\n\n  function obtenerPesoTotalArchivosManual(list) {\n    let peso = 0;\n    list.forEach((archivo, index) => {\n      console.log(archivo);\n\n      if (archivo.size) {\n        peso += archivo.size;\n      }\n    });\n\n    if (peso > 15000000) {\n      setErrorApi('El peso/tamaño de los todos los adjuntos superan los 15 Mb pertmitidos para el registro, verifique e tamaño y elimine algunos adjuntos, (Si desea enviar mas archivos realice otro proceso de registro de Soportes del radicado)');\n      window.showModal(1);\n    }\n  }\n\n  function getFileExtension(filename) {\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\n  }\n\n  const changecontraseña = e => {\n    setContraseña(e.target.value);\n  };\n\n  function formatBytes(bytes) {\n    let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n    if (bytes === undefined) return '0 Bytes';\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  const enviarDatos = valores => {\n    window.showSpinner(true);\n    let data = {\n      \"data\": {\n        \"type\": \"usuario\",\n        \"attributes\": {\n          \"firma_mecanica\": inputListfirmaMecanica[0].firmaMecanica.name,\n          \"password_firma_mecanica\": getContraseña,\n          \"firma_mecanica_fileBase64\": inputListfirmaMecanica[0].filebase64\n        }\n      }\n    };\n    GenericApi.updateGeneric('usuario/set-firma-mecanica', getDatosUsuario.id, data).then(datos => {\n      window.showSpinner(false);\n\n      if (!datos.error) {\n        setModalState({\n          title: \"Firma mecánica :: Actualización con éxito\",\n          message: 'Actualizado con éxito ',\n          show: true,\n          redirect: '/perfil',\n          alert: global.Constants.TIPO_ALERTA.EXITO\n        });\n      } else {\n        setModalState({\n          title: \"Firma Mecánica :: Error de actualización\",\n          message: datos.error.toString(),\n          show: true,\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(ModalGen, {\n      data: getModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(InfoErrorApi, {\n      error: errorApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        firmaMecanica: inputListfirmaMecanica[0],\n        contraseña: getContraseña\n      },\n      enableReinitialize: true,\n      validate: valores => {},\n      onSubmit: (valores, _ref) => {\n        let {\n          resetForm\n        } = _ref;\n        enviarDatos(valores);\n      },\n      children: _ref2 => {\n        let {\n          errors\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block block-rounded block-bordered\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block block-themed\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"block-title\",\n                  children: \"Agregar firma mec\\xE1nica\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/Perfil/`,\n                    title: \"Regresar al perfil\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-success\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        class: \"fas fa-backward\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 258,\n                        columnNumber: 95\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [inputListfirmaMecanica.map((x, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-12\",\n                            children: /*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Imagen firma mec\\xE1nica (png) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-danger\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 269,\n                                columnNumber: 100\n                              }, this), \" :\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 269,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 268,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-12\",\n                            style: {\n                              marginLeft: '13px'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"row\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-10\",\n                                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                  className: \"custom-file-label manual\",\n                                  htmlFor: \"example-file-input-custom2\",\n                                  \"data-toggle\": \"manual\",\n                                  children: x.firmaMecanica.name != null ? x.firmaMecanica.name : getNombreFirmaMecanica\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 274,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                  className: \"custom-file-input manual\",\n                                  \"data-toggle\": \"custom-file-input2\",\n                                  type: \"file\",\n                                  name: \"firmaMecanica\",\n                                  onChange: e => handleInputChangeArchivosManual(e, i)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 275,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                  children: [\"Peso : \", formatBytes(x.firmaMecanica.size), \" \"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 276,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                                  name: \"firmaMecanica\",\n                                  component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"text-danger\",\n                                    children: errors.archivo\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 277,\n                                    columnNumber: 126\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 277,\n                                  columnNumber: 73\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 273,\n                                columnNumber: 69\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-2\",\n                                children: getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? /*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"button\",\n                                  title: \"Descargar documento\",\n                                  className: \"btn btn-sm btn-primary\",\n                                  onClick: () => handleClicfirmaMecanica(),\n                                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-download\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 283,\n                                    columnNumber: 85\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 282,\n                                  columnNumber: 81\n                                }, this) : null : null\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 279,\n                                columnNumber: 69\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 272,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 271,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 267,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 53\n                      }, this)\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 49\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"contrase\\xF1a\",\n                        children: [\"Contrase\\xF1a de firmado \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 301,\n                          columnNumber: 99\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        as: \"input\",\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"contrase\\xF1a\",\n                        name: \"contrase\\xF1a\",\n                        value: getContraseña,\n                        onChange: changecontraseña\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"contrase\\xF1a\",\n                        component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: errors.contraseña\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 303,\n                          columnNumber: 99\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-rounded btn-primary\",\n                      children: getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? \"Actualizar\" : \"Agregar\" : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-sm btn-primary\",\n                      onClick: () => handleClicfirmaMecanicaEjemplo(),\n                      children: \"Descargar documento ejemplo con firma cargada\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AgregarFirma, \"D/UlUtEwktg6P6EFuPvROTcuJ3A=\");\n\n_c = AgregarFirma;\nexport default AgregarFirma;\n\nvar _c;\n\n$RefreshReg$(_c, \"AgregarFirma\");","map":{"version":3,"names":["React","useEffect","useState","Spinner","Link","getUser","GenericApi","ErrorMessage","Field","Form","Formik","InfoErrorApi","ModalGen","AgregarFirma","inputListfirmaMecanica","setInputListfirmaMecanica","folios","firmaMecanica","filebase64","size","id_mas_formato","getDatosUsuario","setDatosUsuario","getNombreFirmaMecanica","setNombreFirmaMecanica","getContraseña","setContraseña","errorApi","setErrorApi","getModalState","setModalState","title","message","show","fetchData","window","showSpinner","obtenerDatosUsuario","getGeneric","nombre","then","datos","error","data","attributes","firma_mecanica","handleClicfirmaMecanicaEjemplo","getByDataGeneric","downloadBase64FileManual","content_type","base_64","file_name","console","handleClicfirmaMecanica","id","contentType","base64Data","fileName","linkSource","downloadLink","document","createElement","href","download","click","handleInputChangeArchivosManual","e","index","name","files","target","length","extension","getFileExtension","list","log","ext","Array","from","forEach","archivo","reader","FileReader","readAsDataURL","onload","arrayAuxiliar","base64","result","split","obtenerPesoTotalArchivosManual","showModal","peso","filename","slice","lastIndexOf","changecontraseña","value","formatBytes","bytes","decimals","undefined","k","dm","sizes","i","Math","floor","parseFloat","pow","toFixed","enviarDatos","valores","updateGeneric","redirect","alert","global","Constants","TIPO_ALERTA","EXITO","toString","ERROR","contraseña","resetForm","errors","map","x","marginLeft"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Perfil/AgregarFirma.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Spinner from '../Utils/Spinner';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getUser } from '../../components/Utils/Common';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\n\r\n\r\nfunction AgregarFirma() {\r\n\r\n    const [inputListfirmaMecanica, setInputListfirmaMecanica] = useState([{ folios: \"\", firmaMecanica: {}, filebase64: \"\", size: 0, id_mas_formato: null }]);\r\n    const [getDatosUsuario, setDatosUsuario] = useState(\"\");\r\n    const [getNombreFirmaMecanica, setNombreFirmaMecanica] = useState(\"\");\r\n    const [getContraseña, setContraseña] = useState(\"\");\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            window.showSpinner(true);\r\n            obtenerDatosUsuario();\r\n\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const obtenerDatosUsuario = () => {\r\n        GenericApi.getGeneric(\"usuario/get-usuario-por-name/\" + getUser().nombre).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setDatosUsuario(datos.data[0]);\r\n                    setNombreFirmaMecanica(datos.data[0].attributes.firma_mecanica);\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleClicfirmaMecanicaEjemplo = () => {\r\n        try {\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"usuario\",\r\n                    \"attributes\": {\r\n                        \"firma_mecanica\": \"\",\r\n                    }\r\n                }\r\n            }\r\n\r\n            GenericApi.getByDataGeneric('usuario/get-firma-mecanica-ejemplo', data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        downloadBase64FileManual(datos.content_type, datos.base_64, datos.file_name);\r\n                    }\r\n                    else {\r\n\r\n                    }\r\n                }\r\n            )\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    const handleClicfirmaMecanica = () => {\r\n        try {\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"usuario\",\r\n                    \"attributes\": {\r\n                        \"firma_mecanica\": \"\",\r\n                    }\r\n                }\r\n            }\r\n\r\n            GenericApi.getByDataGeneric('usuario/get-firma-mecanica/' + getDatosUsuario.id, data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        downloadBase64FileManual(datos.content_type, datos.base_64, datos.file_name);\r\n                    }\r\n                    else {\r\n\r\n                    }\r\n                }\r\n            )\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n\r\n    function downloadBase64FileManual(contentType, base64Data, fileName) {\r\n        const linkSource = `data:${contentType};base64,${base64Data}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    const handleInputChangeArchivosManual = (e, index) => {\r\n\r\n        const { name, files } = e.target;\r\n        if (files.length > 0) {\r\n            const extension = getFileExtension(files[0].name);\r\n            if (extension == \"png\") {\r\n\r\n                const list = [...inputListfirmaMecanica];\r\n                list[index][name] = files[0];\r\n\r\n                console.log(list);\r\n\r\n                if (files[0]) {\r\n                    list[index][name] = files[0];\r\n                } else {\r\n                    list[index][name] = '';\r\n                    list[index].filebase64 = '';\r\n                    list[index].size = 0;\r\n                    list[index].ext = \"\";\r\n\r\n                    setInputListfirmaMecanica(list);\r\n                }\r\n\r\n                // Conversion a Base64\r\n                Array.from(e.target.files).forEach(archivo => {\r\n                    var reader = new FileReader();\r\n                    reader.readAsDataURL(archivo);\r\n                    reader.onload = function () {\r\n                        var arrayAuxiliar = [];\r\n                        var base64 = reader.result;\r\n                        arrayAuxiliar = base64.split(',');\r\n                        list[index].filebase64 = arrayAuxiliar[1];\r\n                        list[index].ext = extension;\r\n                        setInputListfirmaMecanica(list);\r\n                    }\r\n                })\r\n                obtenerPesoTotalArchivosManual(list);\r\n            } else {\r\n                const list = [...inputListfirmaMecanica];\r\n                list[index][name] = files[0];\r\n                list[index].filebase64 = '';\r\n                list[index].size = 0;\r\n                list[index][name] = '';\r\n                setInputListfirmaMecanica(list);\r\n                setErrorApi(\"El archivo seleccionado no tiene un formato permitido. Debe ser *.png\")\r\n                window.showModal(1)\r\n            }\r\n        } else {\r\n            const list = [...inputListfirmaMecanica];\r\n            list[index][name] = '';\r\n            list[index].filebase64 = '';\r\n            list[index].size = 0;\r\n            setInputListfirmaMecanica(list);\r\n            obtenerPesoTotalArchivosManual(list);\r\n        }\r\n\r\n    }\r\n\r\n    function obtenerPesoTotalArchivosManual(list) {\r\n        let peso = 0;\r\n        list.forEach(\r\n            (archivo, index) => {\r\n                console.log(archivo);\r\n                if (archivo.size) {\r\n                    peso += archivo.size;\r\n                }\r\n            }\r\n        )\r\n\r\n        if (peso > 15000000) {\r\n            setErrorApi('El peso/tamaño de los todos los adjuntos superan los 15 Mb pertmitidos para el registro, verifique e tamaño y elimine algunos adjuntos, (Si desea enviar mas archivos realice otro proceso de registro de Soportes del radicado)')\r\n            window.showModal(1)\r\n        }\r\n\r\n    }\r\n\r\n    function getFileExtension(filename) {\r\n        return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n    }\r\n\r\n    const changecontraseña = (e) => {\r\n        setContraseña(e.target.value);\r\n    }\r\n\r\n    function formatBytes(bytes, decimals = 3) {\r\n        if (bytes === undefined) return '0 Bytes';\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const dm = decimals < 0 ? 0 : decimals;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n    }\r\n\r\n    const enviarDatos = (valores) => {\r\n\r\n        window.showSpinner(true);\r\n\r\n        let data = {\r\n            \"data\": {\r\n                \"type\": \"usuario\",\r\n                \"attributes\": {\r\n                    \"firma_mecanica\": inputListfirmaMecanica[0].firmaMecanica.name,\r\n                    \"password_firma_mecanica\": getContraseña,\r\n                    \"firma_mecanica_fileBase64\": inputListfirmaMecanica[0].filebase64,\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        GenericApi.updateGeneric('usuario/set-firma-mecanica', getDatosUsuario.id, data).then(\r\n            datos => {\r\n                window.showSpinner(false);\r\n                if (!datos.error) {\r\n                    setModalState({ title: \"Firma mecánica :: Actualización con éxito\", message: 'Actualizado con éxito ', show: true, redirect: '/perfil', alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                }\r\n                else {\r\n                    setModalState({ title: \"Firma Mecánica :: Error de actualización\", message: datos.error.toString(), show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<ModalGen data={getModalState} />}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            <Formik\r\n                initialValues={{\r\n                    firmaMecanica: inputListfirmaMecanica[0],\r\n                    contraseña: getContraseña\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n                        <div className=\"block block-rounded block-bordered\">\r\n                            <div className=\"block block-themed\">\r\n                                <div className=\"block-header\">\r\n                                    <h3 className=\"block-title\">Agregar firma mecánica</h3>\r\n                                </div>\r\n                                <div className=\"block-content\">\r\n                                    <div className='text-right mb-2'>\r\n                                        <Link to={`/Perfil/`} title='Regresar al perfil'>\r\n                                            <button type=\"button\" className=\"btn btn-success\"><i class=\"fas fa-backward\"></i></button>\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n\r\n                                        {inputListfirmaMecanica.map((x, i) => {\r\n                                            return (\r\n                                                <div className=\"col-md-6\" key={i}>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className='row'>\r\n                                                            <div className='col-md-12'>\r\n                                                                <label>Imagen firma mecánica (png) <span className=\"text-danger\">*</span> :</label>\r\n                                                            </div>\r\n                                                            <div className='col-md-12' style={{ marginLeft: '13px' }}>\r\n                                                                <div className='row'>\r\n                                                                    <div className='col-10'>\r\n                                                                        <label className=\"custom-file-label manual\" htmlFor=\"example-file-input-custom2\" data-toggle=\"manual\">{x.firmaMecanica.name != null ? x.firmaMecanica.name : getNombreFirmaMecanica}</label>\r\n                                                                        <input className=\"custom-file-input manual\" data-toggle=\"custom-file-input2\" type=\"file\" name=\"firmaMecanica\" onChange={e => handleInputChangeArchivosManual(e, i)} />\r\n                                                                        <label>Peso : {formatBytes(x.firmaMecanica.size)} </label>\r\n                                                                        <ErrorMessage name=\"firmaMecanica\" component={() => (<span className=\"text-danger\">{errors.archivo}</span>)} />\r\n                                                                    </div>\r\n                                                                    <div className='col-2'>\r\n                                                                        {getDatosUsuario ?\r\n                                                                            getDatosUsuario.attributes.firma_mecanica ?\r\n                                                                                <button type='button' title='Descargar documento' className='btn btn-sm btn-primary' onClick={() => handleClicfirmaMecanica()}>\r\n                                                                                    <i className='fas fa-download'></i>\r\n                                                                                </button>\r\n                                                                                : null\r\n                                                                            : null\r\n                                                                        }\r\n\r\n                                                                    </div>\r\n\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n\r\n                                        <div className=\"col-md-6\">\r\n                                            <div className=\"form-group\">\r\n                                                <label htmlFor=\"contraseña\">Contraseña de firmado <span className=\"text-danger\">*</span></label>\r\n                                                <Field as=\"input\" type=\"password\" className=\"form-control\" id=\"contraseña\" name=\"contraseña\" value={getContraseña} onChange={changecontraseña}></Field>\r\n                                                <ErrorMessage name=\"contraseña\" component={() => (<span className=\"text-danger\">{errors.contraseña}</span>)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"block-content\">\r\n                                            <button type=\"submit\" className=\"btn btn-rounded btn-primary\" >\r\n                                                {getDatosUsuario ?\r\n                                                    getDatosUsuario.attributes.firma_mecanica ?\r\n                                                        \"Actualizar\"\r\n                                                        : \"Agregar\"\r\n                                                    : null\r\n                                                }\r\n                                            </button>\r\n                                            <button type=\"button\" className=\"btn btn-sm btn-primary\" onClick={() => handleClicfirmaMecanicaEjemplo()}>\r\n                                                Descargar documento ejemplo con firma cargada\r\n                                            </button>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AgregarFirma;"],"mappings":"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"},"metadata":{},"sourceType":"module"}