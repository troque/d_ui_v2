{"ast":null,"code":"import moment from'moment';import GenericApi from'../../Api/Services/GenericApi';import Spinner from'../../Utils/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ModalCalendar(props){var crearDia=function crearDia(fecha){// console.log('crear')\nwindow.showSpinner(true);var data={\"data\":{\"type\":\"mas_dias_no_laborales\",\"attributes\":{\"fecha\":moment(props.getFecha,'YYYY/MM/DD').format(\"YYYY-MM-DD\"),\"estado\":1}}};// console.log(JSON.stringify(data))\nGenericApi.addGeneric('dias-no-laborales',data).then(function(datos){return!datos.error?(window.showSpinner(false),props.parentCallback(fecha)):window.showModal(1);});};var modificarEstado=function modificarEstado(fecha,estado,id){// console.log('actualizar')\nwindow.showSpinner(true);var data={\"data\":{\"type\":\"mas_dias_no_laborales\",\"attributes\":{\"fecha\":fecha,\"estado\":estado}}};// console.log(JSON.stringify(data))\nvar myCurrentDate=new Date();var myFutureDate=new Date(fecha);myFutureDate.setDate(myFutureDate.getDate()+1);GenericApi.updateGeneric('dias-no-laborales',id,data).then(function(datos){return!datos.error?(window.showSpinner(false),props.parentCallback(myFutureDate)):window.showModal(1);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-editar-fecha\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-normal\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-sm\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"block-title\",children:\"Cambio de estado\"}),/*#__PURE__*/_jsx(\"div\",{class:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha seleccionada: \"}),moment(props.getFecha,'YYYY/MM/DD').format(\"DD/MM/YYYY\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-center\",children:props.getEstado=='1'?/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-rounded btn-outline-primary\",\"data-dismiss\":\"modal\",onClick:function onClick(){return modificarEstado(props.getFecha,0,props.getId);},children:\"Inactivar\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-rounded btn-primary\",\"data-dismiss\":\"modal\",onClick:function onClick(){return crearDia(props.getFecha);},children:\"Activar\"})})})})})]})})})})]});}export default ModalCalendar;","map":{"version":3,"names":["moment","GenericApi","Spinner","ModalCalendar","props","crearDia","fecha","window","showSpinner","data","getFecha","format","addGeneric","then","datos","error","parentCallback","showModal","modificarEstado","estado","id","myCurrentDate","Date","myFutureDate","setDate","getDate","updateGeneric","getEstado","getId"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalCalendar.js"],"sourcesContent":["import moment from 'moment';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport Spinner from '../../Utils/Spinner';\r\n\r\nfunction ModalCalendar(props) {\r\n\r\n    const crearDia = (fecha) => {\r\n        // console.log('crear')\r\n        window.showSpinner(true);\r\n        const data = {\r\n\r\n            \"data\": {\r\n                \"type\": \"mas_dias_no_laborales\",\r\n                \"attributes\": {\r\n\r\n                    \"fecha\": moment(props.getFecha, 'YYYY/MM/DD').format(\"YYYY-MM-DD\"),\r\n                    \"estado\": 1,\r\n\r\n                }\r\n            }\r\n        }\r\n        // console.log(JSON.stringify(data))\r\n        GenericApi.addGeneric('dias-no-laborales', data).then(\r\n            datos => !datos.error ? (window.showSpinner(false), props.parentCallback(fecha)) : (window.showModal(1))\r\n        )\r\n    }\r\n\r\n\r\n\r\n    const modificarEstado = (fecha, estado, id) => {\r\n        // console.log('actualizar')\r\n        window.showSpinner(true);\r\n        const data = {\r\n\r\n            \"data\": {\r\n                \"type\": \"mas_dias_no_laborales\",\r\n                \"attributes\": {\r\n\r\n                    \"fecha\": fecha,\r\n                    \"estado\": estado,\r\n\r\n                }\r\n            }\r\n        }\r\n        // console.log(JSON.stringify(data))\r\n        let myCurrentDate = new Date();\r\n        let myFutureDate = new Date(fecha);\r\n        myFutureDate.setDate(myFutureDate.getDate() + 1);\r\n\r\n        GenericApi.updateGeneric('dias-no-laborales', id, data).then(\r\n            datos => !datos.error ? (window.showSpinner(false), props.parentCallback(myFutureDate)) : (window.showModal(1))\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            <div className=\"modal fade\" id='modal-editar-fecha' tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-normal\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-sm\" role=\"document\" >\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"block block-themed block-transparent mb-0\">\r\n                            <div class=\"block-header bg-primary-dark\">\r\n                                <h3 class=\"block-title\">Cambio de estado</h3>\r\n                                <div class=\"block-options\">\r\n                                    <button type=\"button\" class=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i class=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <strong >Fecha seleccionada: </strong>{moment(props.getFecha, 'YYYY/MM/DD').format(\"DD/MM/YYYY\")}\r\n\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group text-center\">\r\n                                            {\r\n                                                (props.getEstado == '1') ? (\r\n                                                    <button type=\"button\" class=\"btn btn-rounded btn-outline-primary\" data-dismiss=\"modal\" onClick={() => modificarEstado(props.getFecha, 0, props.getId)}>Inactivar</button>\r\n\r\n                                                ) : (\r\n                                                    <button type=\"button\" class=\"btn btn-rounded btn-primary\" data-dismiss=\"modal\" onClick={() => crearDia(props.getFecha)}>Activar</button>\r\n                                                )\r\n                                            }\r\n\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalCalendar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}