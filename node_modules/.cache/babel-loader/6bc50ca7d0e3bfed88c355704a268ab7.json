{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\Perfil\\\\AgregarFirma.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Spinner from '../Utils/Spinner';\nimport { Link } from \"react-router-dom\";\nimport { getUser } from '../../components/Utils/Common';\nimport GenericApi from '../Api/Services/GenericApi';\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport InfoErrorApi from '../Utils/InfoErrorApi';\nimport ModalGen from '../Utils/Modals/ModalGeneric';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction AgregarFirma() {\n  _s();\n\n  const [inputListfirmaMecanica, setInputListfirmaMecanica] = useState([{\n    folios: \"\",\n    firmaMecanica: {},\n    filebase64: \"\",\n    size: 0,\n    id_mas_formato: null\n  }]);\n  const [getDatosUsuario, setDatosUsuario] = useState(\"\");\n  const [getNombreFirmaMecanica, setNombreFirmaMecanica] = useState(\"\");\n  const [getContrasena, setContrasena] = useState(\"\");\n  const [getContrasena2, setContrasena2] = useState(\"\");\n  const [errorApi, setErrorApi] = useState('');\n  const [getModalState, setModalState] = useState({\n    title: \"\",\n    message: \"\",\n    show: false\n  });\n  useEffect(() => {\n    async function fetchData() {\n      window.showSpinner(true);\n      obtenerDatosUsuario();\n    }\n\n    fetchData();\n  }, []);\n\n  const obtenerDatosUsuario = () => {\n    GenericApi.getGeneric(\"usuario/get-usuario-por-name/\" + getUser().nombre).then(datos => {\n      if (!datos.error) {\n        setDatosUsuario(datos.data[0]);\n        setNombreFirmaMecanica(datos.data[0].attributes.firma_mecanica);\n      }\n\n      window.showSpinner(false);\n    });\n  };\n\n  const handleClicfirmaMecanicaEjemplo = () => {\n    try {\n      window.showSpinner(true);\n      const data = {\n        \"data\": {\n          \"type\": \"usuario\",\n          \"attributes\": {\n            \"firma_mecanica\": \"\"\n          }\n        }\n      };\n      GenericApi.getByDataGeneric('usuario/get-firma-mecanica-ejemplo', data).then(datos => {\n        if (!datos.error) {\n          downloadBase64File(datos.content_type, datos.base_64, datos.file_name);\n        } else {\n          setModalState({\n            title: \"Firma mecánica :: Descargar firma de ejemplo\",\n            message: 'Ocurrió un error',\n            show: true,\n            redirect: '/AgregarFirma',\n            alert: global.Constants.TIPO_ALERTA.ERROR\n          });\n        }\n\n        window.showSpinner(false);\n      });\n    } catch (error) {\n      setModalState({\n        title: \"Firma mecánica :: Descargar firma de ejemplo\",\n        message: 'Ocurrió un error',\n        show: true,\n        redirect: '/AgregarFirma',\n        alert: global.Constants.TIPO_ALERTA.ERROR\n      });\n    }\n  };\n\n  const handleClicfirmaMecanicaActual = () => {\n    try {\n      window.showSpinner(true);\n      const data = {\n        \"data\": {\n          \"type\": \"usuario\",\n          \"attributes\": {\n            \"firma_mecanica\": \"\"\n          }\n        }\n      };\n      GenericApi.getByDataGeneric('usuario/get-firma-mecanica/' + getDatosUsuario.id, data).then(datos => {\n        if (!datos.error) {\n          downloadBase64File(datos.content_type, datos.base_64, datos.file_name);\n        } else {\n          setModalState({\n            title: \"Firma mecánica :: Descargar firma actual\",\n            message: 'Ocurrió un error',\n            show: true,\n            redirect: '/AgregarFirma',\n            alert: global.Constants.TIPO_ALERTA.ERROR\n          });\n        }\n\n        window.showSpinner(false);\n      });\n    } catch (error) {\n      setModalState({\n        title: \"Firma mecánica :: Descargar firma actual\",\n        message: 'Ocurrió un error',\n        show: true,\n        redirect: '/AgregarFirma',\n        alert: global.Constants.TIPO_ALERTA.ERROR\n      });\n    }\n  };\n\n  function downloadBase64File(contentType, base64Data, fileName) {\n    const linkSource = `data:${contentType};base64,${base64Data}`;\n    const downloadLink = document.createElement(\"a\");\n    downloadLink.href = linkSource;\n    downloadLink.download = fileName;\n    downloadLink.click();\n  }\n\n  const handleInputChangeImagen = (e, index) => {\n    const {\n      name,\n      files\n    } = e.target;\n\n    if (files.length > 0) {\n      const extension = getFileExtension(files[0].name);\n\n      if (extension == \"png\" || extension == \"jpg\" || extension == \"jpeg\") {\n        const list = [...inputListfirmaMecanica];\n        list[index][name] = files[0];\n\n        if (files[0]) {\n          list[index][name] = files[0];\n        } else {\n          list[index][name] = '';\n          list[index].filebase64 = '';\n          list[index].size = 0;\n          list[index].ext = \"\";\n          setInputListfirmaMecanica(list);\n        } // Conversion a Base64\n\n\n        Array.from(e.target.files).forEach(archivo => {\n          var reader = new FileReader();\n          reader.readAsDataURL(archivo);\n\n          reader.onload = function () {\n            var arrayAuxiliar = [];\n            var base64 = reader.result;\n            arrayAuxiliar = base64.split(',');\n            list[index].filebase64 = arrayAuxiliar[1];\n            list[index].ext = extension;\n            setInputListfirmaMecanica(list);\n          };\n        });\n        obtenerPesoTotalImagen(list);\n      } else {\n        const list = [...inputListfirmaMecanica];\n        list[index][name] = files[0];\n        list[index].filebase64 = '';\n        list[index].size = 0;\n        list[index][name] = '';\n        setInputListfirmaMecanica(list);\n        setErrorApi(\"El archivo seleccionado no tiene un formato permitido. Debe ser .png, .jpg o .jpeg.\");\n        window.showModal(1);\n      }\n    } else {\n      const list = [...inputListfirmaMecanica];\n      list[index][name] = '';\n      list[index].filebase64 = '';\n      list[index].size = 0;\n      setInputListfirmaMecanica(list);\n      obtenerPesoTotalImagen(list);\n    }\n  };\n\n  function obtenerPesoTotalImagen(list) {\n    let peso = 0;\n    list.forEach((archivo, index) => {\n      if (archivo.size) {\n        peso += archivo.size;\n      }\n    });\n\n    if (peso > 15000000) {\n      setErrorApi('El peso/tamaño de la imagen supera los 15 MB permitidos para el registro.');\n      window.showModal(1);\n    }\n  }\n\n  function getFileExtension(filename) {\n    return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\n  }\n\n  const changecontrasena = e => {\n    setContrasena(e.target.value);\n  };\n\n  const changecontrasena2 = e => {\n    setContrasena2(e.target.value);\n  };\n\n  function formatBytes(bytes) {\n    let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 3;\n    if (bytes === undefined) return '0 Bytes';\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n  }\n\n  const enviarDatos = valores => {\n    window.showSpinner(true);\n    let data = {\n      \"data\": {\n        \"type\": \"usuario\",\n        \"attributes\": {\n          \"firma_mecanica\": inputListfirmaMecanica[0].firmaMecanica.name,\n          \"password_firma_mecanica\": getContrasena,\n          \"firma_mecanica_fileBase64\": inputListfirmaMecanica[0].filebase64\n        }\n      }\n    };\n    GenericApi.updateGeneric('usuario/set-firma-mecanica', getDatosUsuario.id, data).then(datos => {\n      window.showSpinner(false);\n\n      if (!datos.error) {\n        setModalState({\n          title: \"Firma mecánica :: Registro de firma\",\n          message: 'Registro exitoso',\n          show: true,\n          redirect: '/perfil',\n          alert: global.Constants.TIPO_ALERTA.EXITO\n        });\n      } else {\n        setModalState({\n          title: \"Firma mecánica :: Registro de firma\",\n          message: datos.error.toString(),\n          show: true,\n          alert: global.Constants.TIPO_ALERTA.ERROR\n        });\n      }\n    });\n  }; // console.log(inputListfirmaMecanica);\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(ModalGen, {\n      data: getModalState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(InfoErrorApi, {\n      error: errorApi\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        firmaMecanica: inputListfirmaMecanica[0],\n        contrasena: getContrasena,\n        contrasena2: getContrasena2\n      },\n      enableReinitialize: true,\n      validate: valores => {\n        let errors = {};\n        valores.constrasena = getContrasena;\n        valores.constrasena2 = getContrasena2;\n        valores.firmaMecanica = inputListfirmaMecanica[0]; // console.log(valores.firmaMecanica);\n\n        if (valores.constrasena == \"\") {\n          errors.constrasena = 'Debe agregar una contraseña';\n        }\n\n        if (valores.constrasena == \"\") {\n          errors.constrasena2 = 'Debes confirmar la contraseña';\n        } else if (valores.constrasena != valores.constrasena2) {\n          errors.constrasena2 = 'Las contraseñas no coinciden';\n        }\n\n        return errors;\n      },\n      onSubmit: (valores, _ref) => {\n        let {\n          resetForm\n        } = _ref;\n        enviarDatos(valores);\n      },\n      children: _ref2 => {\n        let {\n          errors\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w2d_block\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              \"aria-label\": \"breadcrumb\",\n              children: /*#__PURE__*/_jsxDEV(\"ol\", {\n                className: \"breadcrumb breadcrumb-alt push\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    underline: \"hover\",\n                    className: \"text-dark\",\n                    to: `/Perfil`,\n                    children: /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: \"Perfil\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 130\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 69\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"breadcrumb-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? \"Actualizar \" : \"Agregar \" : null, \"firma mec\\xE1nica\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 69\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block block-rounded block-bordered\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"block block-themed\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"block-title\",\n                  children: [getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? \"Actualizar \" : \"Agregar \" : null, \"firma mec\\xE1nica\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"block-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right mb-2\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: `/Perfil/`,\n                    title: \"Regresar al perfil\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-success\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        class: \"fas fa-backward\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 95\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [inputListfirmaMecanica.map((x, i) => {\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-8\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"form-group\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-12\",\n                            children: /*#__PURE__*/_jsxDEV(\"label\", {\n                              children: [\"Imagen firma mec\\xE1nica (png, jpg y jpeg) \", /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-danger\",\n                                children: \"*\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 323,\n                                columnNumber: 112\n                              }, this), \" :\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 323,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 322,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"col-md-12\",\n                            style: {\n                              marginLeft: '13px'\n                            },\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"row\",\n                              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-10\",\n                                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                                  className: \"custom-file-label manual\",\n                                  htmlFor: \"example-file-input-custom2\",\n                                  \"data-toggle\": \"manual\",\n                                  children: x.firmaMecanica.name != null ? x.firmaMecanica.name : getNombreFirmaMecanica\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 328,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                                  className: \"custom-file-input manual\",\n                                  \"data-toggle\": \"custom-file-input2\",\n                                  type: \"file\",\n                                  name: \"firmaMecanica\",\n                                  onChange: e => handleInputChangeImagen(e, i)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 329,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                  children: [\"Peso : \", formatBytes(x.firmaMecanica.size), \" \"]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 330,\n                                  columnNumber: 73\n                                }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                                  name: \"firmaMecanica\",\n                                  component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                                    className: \"text-danger\",\n                                    children: errors.archivo\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 331,\n                                    columnNumber: 126\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 331,\n                                  columnNumber: 73\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 327,\n                                columnNumber: 69\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"col-2\",\n                                children: getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? /*#__PURE__*/_jsxDEV(\"button\", {\n                                  type: \"button\",\n                                  title: \"Descargar documento\",\n                                  className: \"btn btn-sm btn-primary\",\n                                  onClick: () => handleClicfirmaMecanicaActual(),\n                                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"fas fa-download\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 337,\n                                    columnNumber: 85\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 336,\n                                  columnNumber: 81\n                                }, this) : null : null\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 333,\n                                columnNumber: 69\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 326,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 325,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 321,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 53\n                      }, this)\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 49\n                    }, this);\n                  }), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-7\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"constrasena\",\n                        children: [\"Contrase\\xF1a de firmado \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 355,\n                          columnNumber: 100\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        as: \"input\",\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"constrasena\",\n                        name: \"constrasena\",\n                        value: getContrasena,\n                        onChange: changecontrasena\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 356,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"constrasena\",\n                        component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: errors.constrasena\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 357,\n                          columnNumber: 100\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 354,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-7\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"constrasena2\",\n                        children: [\"Confirma contrase\\xF1a \", /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: \"*\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 363,\n                          columnNumber: 99\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 363,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Field, {\n                        as: \"input\",\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"constrasena2\",\n                        name: \"constrasena2\",\n                        value: getContrasena2,\n                        onChange: changecontrasena2\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 364,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                        name: \"constrasena2\",\n                        component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"text-danger\",\n                          children: errors.constrasena2\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 365,\n                          columnNumber: 101\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 365,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 362,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-rounded btn-primary\",\n                      children: getDatosUsuario ? getDatosUsuario.attributes.firma_mecanica ? \"Actualizar\" : \"Agregar\" : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 370,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-rounded btn-primary\",\n                      onClick: () => handleClicfirmaMecanicaEjemplo(),\n                      children: \"Descargar firma de ejemplo\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AgregarFirma, \"IeL+dzOTMosdyPHwcKOlD+w6uCk=\");\n\n_c = AgregarFirma;\nexport default AgregarFirma;\n\nvar _c;\n\n$RefreshReg$(_c, \"AgregarFirma\");","map":{"version":3,"names":["React","useEffect","useState","Spinner","Link","getUser","GenericApi","ErrorMessage","Field","Form","Formik","InfoErrorApi","ModalGen","AgregarFirma","inputListfirmaMecanica","setInputListfirmaMecanica","folios","firmaMecanica","filebase64","size","id_mas_formato","getDatosUsuario","setDatosUsuario","getNombreFirmaMecanica","setNombreFirmaMecanica","getContrasena","setContrasena","getContrasena2","setContrasena2","errorApi","setErrorApi","getModalState","setModalState","title","message","show","fetchData","window","showSpinner","obtenerDatosUsuario","getGeneric","nombre","then","datos","error","data","attributes","firma_mecanica","handleClicfirmaMecanicaEjemplo","getByDataGeneric","downloadBase64File","content_type","base_64","file_name","redirect","alert","global","Constants","TIPO_ALERTA","ERROR","handleClicfirmaMecanicaActual","id","contentType","base64Data","fileName","linkSource","downloadLink","document","createElement","href","download","click","handleInputChangeImagen","e","index","name","files","target","length","extension","getFileExtension","list","ext","Array","from","forEach","archivo","reader","FileReader","readAsDataURL","onload","arrayAuxiliar","base64","result","split","obtenerPesoTotalImagen","showModal","peso","filename","slice","lastIndexOf","changecontrasena","value","changecontrasena2","formatBytes","bytes","decimals","undefined","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","enviarDatos","valores","updateGeneric","EXITO","toString","contrasena","contrasena2","errors","constrasena","constrasena2","resetForm","map","x","marginLeft"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Perfil/AgregarFirma.js"],"sourcesContent":["\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Spinner from '../Utils/Spinner';\r\nimport { Link } from \"react-router-dom\";\r\nimport { getUser } from '../../components/Utils/Common';\r\nimport GenericApi from '../Api/Services/GenericApi';\r\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport InfoErrorApi from '../Utils/InfoErrorApi';\r\nimport ModalGen from '../Utils/Modals/ModalGeneric';\r\n\r\n\r\nfunction AgregarFirma() {\r\n\r\n    const [inputListfirmaMecanica, setInputListfirmaMecanica] = useState([{ folios: \"\", firmaMecanica: {}, filebase64: \"\", size: 0, id_mas_formato: null }]);\r\n    const [getDatosUsuario, setDatosUsuario] = useState(\"\");\r\n    const [getNombreFirmaMecanica, setNombreFirmaMecanica] = useState(\"\");\r\n    const [getContrasena, setContrasena] = useState(\"\");\r\n    const [getContrasena2, setContrasena2] = useState(\"\");\r\n    const [errorApi, setErrorApi] = useState('');\r\n    const [getModalState, setModalState] = useState({ title: \"\", message: \"\", show: false });\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            window.showSpinner(true);\r\n            obtenerDatosUsuario();\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    const obtenerDatosUsuario = () => {\r\n        GenericApi.getGeneric(\"usuario/get-usuario-por-name/\" + getUser().nombre).then(\r\n            datos => {\r\n                if (!datos.error) {\r\n                    setDatosUsuario(datos.data[0]);\r\n                    setNombreFirmaMecanica(datos.data[0].attributes.firma_mecanica);\r\n                }\r\n                window.showSpinner(false);\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleClicfirmaMecanicaEjemplo = () => {\r\n\r\n        try {\r\n\r\n            window.showSpinner(true);\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"usuario\",\r\n                    \"attributes\": {\r\n                        \"firma_mecanica\": \"\",\r\n                    }\r\n                }\r\n            }\r\n\r\n            GenericApi.getByDataGeneric('usuario/get-firma-mecanica-ejemplo', data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        downloadBase64File(datos.content_type, datos.base_64, datos.file_name);\r\n                    }\r\n                    else {\r\n                        setModalState({ title: \"Firma mecánica :: Descargar firma de ejemplo\", message: 'Ocurrió un error', show: true, redirect: '/AgregarFirma', alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    }\r\n                    \r\n                    window.showSpinner(false);\r\n                }\r\n            )\r\n            \r\n        } catch (error) {\r\n            setModalState({ title: \"Firma mecánica :: Descargar firma de ejemplo\", message: 'Ocurrió un error', show: true, redirect: '/AgregarFirma', alert: global.Constants.TIPO_ALERTA.ERROR });\r\n        }\r\n        \r\n    }\r\n\r\n    const handleClicfirmaMecanicaActual = () => {\r\n        try {\r\n\r\n            window.showSpinner(true);\r\n\r\n            const data = {\r\n                \"data\": {\r\n                    \"type\": \"usuario\",\r\n                    \"attributes\": {\r\n                        \"firma_mecanica\": \"\",\r\n                    }\r\n                }\r\n            }\r\n\r\n            GenericApi.getByDataGeneric('usuario/get-firma-mecanica/' + getDatosUsuario.id, data).then(\r\n                datos => {\r\n                    if (!datos.error) {\r\n                        downloadBase64File(datos.content_type, datos.base_64, datos.file_name);\r\n                    }\r\n                    else {\r\n                        setModalState({ title: \"Firma mecánica :: Descargar firma actual\", message: 'Ocurrió un error', show: true, redirect: '/AgregarFirma', alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                    }\r\n\r\n                    window.showSpinner(false);\r\n                }\r\n            )\r\n        } catch (error) {\r\n            setModalState({ title: \"Firma mecánica :: Descargar firma actual\", message: 'Ocurrió un error', show: true, redirect: '/AgregarFirma', alert: global.Constants.TIPO_ALERTA.ERROR });\r\n        }\r\n    }\r\n\r\n    function downloadBase64File(contentType, base64Data, fileName) {\r\n        const linkSource = `data:${contentType};base64,${base64Data}`;\r\n        const downloadLink = document.createElement(\"a\");\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName;\r\n        downloadLink.click();\r\n    }\r\n\r\n    const handleInputChangeImagen = (e, index) => {\r\n\r\n        const { name, files } = e.target;\r\n        if (files.length > 0) {\r\n            const extension = getFileExtension(files[0].name);\r\n            if (extension == \"png\" || extension == \"jpg\" || extension == \"jpeg\") {\r\n\r\n                const list = [...inputListfirmaMecanica];\r\n                list[index][name] = files[0];\r\n\r\n                if (files[0]) {\r\n                    list[index][name] = files[0];\r\n                } else {\r\n                    list[index][name] = '';\r\n                    list[index].filebase64 = '';\r\n                    list[index].size = 0;\r\n                    list[index].ext = \"\";\r\n\r\n                    setInputListfirmaMecanica(list);\r\n                }\r\n\r\n                // Conversion a Base64\r\n                Array.from(e.target.files).forEach(archivo => {\r\n                    var reader = new FileReader();\r\n                    reader.readAsDataURL(archivo);\r\n                    reader.onload = function () {\r\n                        var arrayAuxiliar = [];\r\n                        var base64 = reader.result;\r\n                        arrayAuxiliar = base64.split(',');\r\n                        list[index].filebase64 = arrayAuxiliar[1];\r\n                        list[index].ext = extension;\r\n                        setInputListfirmaMecanica(list);\r\n                    }\r\n                })\r\n                obtenerPesoTotalImagen(list);\r\n            } else {\r\n                const list = [...inputListfirmaMecanica];\r\n                list[index][name] = files[0];\r\n                list[index].filebase64 = '';\r\n                list[index].size = 0;\r\n                list[index][name] = '';\r\n                setInputListfirmaMecanica(list);\r\n                setErrorApi(\"El archivo seleccionado no tiene un formato permitido. Debe ser .png, .jpg o .jpeg.\")\r\n                window.showModal(1)\r\n            }\r\n        } else {\r\n            const list = [...inputListfirmaMecanica];\r\n            list[index][name] = '';\r\n            list[index].filebase64 = '';\r\n            list[index].size = 0;\r\n            setInputListfirmaMecanica(list);\r\n            obtenerPesoTotalImagen(list);\r\n        }\r\n\r\n    }\r\n\r\n    function obtenerPesoTotalImagen(list) {\r\n        let peso = 0;\r\n        list.forEach(\r\n            (archivo, index) => {\r\n                if (archivo.size) {\r\n                    peso += archivo.size;\r\n                }\r\n            }\r\n        )\r\n\r\n        if (peso > 15000000) {\r\n            setErrorApi('El peso/tamaño de la imagen supera los 15 MB permitidos para el registro.')\r\n            window.showModal(1)\r\n        }\r\n\r\n    }\r\n\r\n    function getFileExtension(filename) {\r\n        return filename.slice((filename.lastIndexOf(\".\") - 1 >>> 0) + 2);\r\n    }\r\n\r\n    const changecontrasena = (e) => {\r\n        setContrasena(e.target.value);\r\n    }\r\n\r\n    const changecontrasena2 = (e) => {\r\n        setContrasena2(e.target.value);\r\n    }\r\n\r\n    function formatBytes(bytes, decimals = 3) {\r\n        if (bytes === undefined) return '0 Bytes';\r\n        if (bytes === 0) return '0 Bytes';\r\n        const k = 1024;\r\n        const dm = decimals < 0 ? 0 : decimals;\r\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\r\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n    }\r\n\r\n    const enviarDatos = (valores) => {\r\n\r\n        window.showSpinner(true);\r\n\r\n        let data = {\r\n            \"data\": {\r\n                \"type\": \"usuario\",\r\n                \"attributes\": {\r\n                    \"firma_mecanica\": inputListfirmaMecanica[0].firmaMecanica.name,\r\n                    \"password_firma_mecanica\": getContrasena,\r\n                    \"firma_mecanica_fileBase64\": inputListfirmaMecanica[0].filebase64,\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        GenericApi.updateGeneric('usuario/set-firma-mecanica', getDatosUsuario.id, data).then(\r\n            datos => {\r\n                window.showSpinner(false);\r\n                if (!datos.error) {\r\n                    setModalState({ title: \"Firma mecánica :: Registro de firma\", message: 'Registro exitoso' , show: true, redirect: '/perfil', alert: global.Constants.TIPO_ALERTA.EXITO });\r\n                }\r\n                else {\r\n                    setModalState({ title: \"Firma mecánica :: Registro de firma\", message: datos.error.toString(), show: true, alert: global.Constants.TIPO_ALERTA.ERROR });\r\n                }\r\n\r\n            }\r\n        )\r\n    }\r\n\r\n// console.log(inputListfirmaMecanica);\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            {<ModalGen data={getModalState} />}\r\n            {<InfoErrorApi error={errorApi} />}\r\n            <Formik\r\n                initialValues={{\r\n                    firmaMecanica: inputListfirmaMecanica[0],\r\n                    contrasena: getContrasena,\r\n                    contrasena2: getContrasena2\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n                    \r\n                    let errors = {}\r\n                    valores.constrasena = getContrasena;\r\n                    valores.constrasena2 = getContrasena2;\r\n                    valores.firmaMecanica = inputListfirmaMecanica[0];\r\n                    \r\n                    // console.log(valores.firmaMecanica);\r\n                    if (valores.constrasena == \"\") {\r\n                        errors.constrasena = 'Debe agregar una contraseña';\r\n                    }\r\n\r\n                    if(valores.constrasena == \"\"){\r\n                        errors.constrasena2 = 'Debes confirmar la contraseña';\r\n                    }else if(valores.constrasena != valores.constrasena2){\r\n                        errors.constrasena2 = 'Las contraseñas no coinciden';\r\n                    }\r\n\r\n                    return errors\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n                    enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n                        <div className=\"w2d_block\">\r\n                            <nav aria-label=\"breadcrumb\">\r\n                                <ol className=\"breadcrumb breadcrumb-alt push\">\r\n                                    <li className=\"breadcrumb-item\"><Link underline=\"hover\" className=\"text-dark\" to={`/Perfil`}><small>Perfil</small></Link></li>\r\n                                    <li className=\"breadcrumb-item\"><small>\r\n                                        {getDatosUsuario ?\r\n                                            getDatosUsuario.attributes.firma_mecanica ?\r\n                                                \"Actualizar \"\r\n                                                : \"Agregar \"\r\n                                            : null\r\n                                        }\r\n                                        firma mecánica\r\n                                    </small></li>\r\n                                </ol>\r\n                            </nav>\r\n                        </div>\r\n                        <div className=\"block block-rounded block-bordered\">\r\n                            <div className=\"block block-themed\">\r\n                                <div className=\"block-header\">\r\n                                    <h3 className=\"block-title\">\r\n                                        {getDatosUsuario ?\r\n                                            getDatosUsuario.attributes.firma_mecanica ?\r\n                                                \"Actualizar \"\r\n                                                : \"Agregar \"\r\n                                            : null\r\n                                        }\r\n                                        firma mecánica\r\n                                    </h3>\r\n                                </div>\r\n                                <div className=\"block-content\">\r\n                                    <div className='text-right mb-2'>\r\n                                        <Link to={`/Perfil/`} title='Regresar al perfil'>\r\n                                            <button type=\"button\" className=\"btn btn-success\"><i class=\"fas fa-backward\"></i></button>\r\n                                        </Link>\r\n                                    </div>\r\n                                    <div className=\"row\">\r\n\r\n                                        {inputListfirmaMecanica.map((x, i) => {\r\n                                            return (\r\n                                                <div className=\"col-md-8\" key={i}>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className='row'>\r\n                                                            <div className='col-md-12'>\r\n                                                                <label>Imagen firma mecánica (png, jpg y jpeg) <span className=\"text-danger\">*</span> :</label>\r\n                                                            </div>\r\n                                                            <div className='col-md-12' style={{ marginLeft: '13px' }}>\r\n                                                                <div className='row'>\r\n                                                                    <div className='col-10'>\r\n                                                                        <label className=\"custom-file-label manual\" htmlFor=\"example-file-input-custom2\" data-toggle=\"manual\">{x.firmaMecanica.name != null ? x.firmaMecanica.name : getNombreFirmaMecanica}</label>\r\n                                                                        <input className=\"custom-file-input manual\" data-toggle=\"custom-file-input2\" type=\"file\" name=\"firmaMecanica\" onChange={e => handleInputChangeImagen(e, i)} />\r\n                                                                        <label>Peso : {formatBytes(x.firmaMecanica.size)} </label>\r\n                                                                        <ErrorMessage name=\"firmaMecanica\" component={() => (<span className=\"text-danger\">{errors.archivo}</span>)} />\r\n                                                                    </div>\r\n                                                                    <div className='col-2'>\r\n                                                                        {getDatosUsuario ?\r\n                                                                            getDatosUsuario.attributes.firma_mecanica ?\r\n                                                                                <button type='button' title='Descargar documento' className='btn btn-sm btn-primary' onClick={() => handleClicfirmaMecanicaActual()}>\r\n                                                                                    <i className='fas fa-download'></i>\r\n                                                                                </button>\r\n                                                                                : null\r\n                                                                            : null\r\n                                                                        }\r\n\r\n                                                                    </div>\r\n\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            );\r\n                                        })}\r\n\r\n                                        <div className=\"col-md-7\">\r\n                                            <div className=\"form-group\">\r\n                                                <label htmlFor=\"constrasena\">Contraseña de firmado <span className=\"text-danger\">*</span></label>\r\n                                                <Field as=\"input\" type=\"password\" className=\"form-control\" id=\"constrasena\" name=\"constrasena\" value={getContrasena} onChange={changecontrasena}></Field>\r\n                                                <ErrorMessage name=\"constrasena\" component={() => (<span className=\"text-danger\">{errors.constrasena}</span>)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"col-md-7\">\r\n                                            <div className=\"form-group\">\r\n                                                <label htmlFor=\"constrasena2\">Confirma contraseña <span className=\"text-danger\">*</span></label>\r\n                                                <Field as=\"input\" type=\"password\" className=\"form-control\" id=\"constrasena2\" name=\"constrasena2\" value={getContrasena2} onChange={changecontrasena2}></Field>\r\n                                                <ErrorMessage name=\"constrasena2\" component={() => (<span className=\"text-danger\">{errors.constrasena2}</span>)} />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"block-content\">\r\n                                            <button type=\"submit\" className=\"btn btn-rounded btn-primary\" >\r\n                                                {getDatosUsuario ?\r\n                                                    getDatosUsuario.attributes.firma_mecanica ?\r\n                                                        \"Actualizar\"\r\n                                                        : \"Agregar\"\r\n                                                    : null\r\n                                                }\r\n                                            </button>\r\n                                            <button type=\"button\" className=\"btn btn-rounded btn-primary\" onClick={() => handleClicfirmaMecanicaEjemplo()}>\r\n                                                Descargar firma de ejemplo\r\n                                            </button>\r\n                                        </div>\r\n\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default AgregarFirma;"],"mappings":"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"},"metadata":{},"sourceType":"module"}