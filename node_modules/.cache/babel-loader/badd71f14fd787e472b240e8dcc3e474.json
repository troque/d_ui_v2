{"ast":null,"code":"import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Form from\"react-bootstrap/Form\";import Button from\"react-bootstrap/Button\";import AuthApi from'../Api/Services/AuthApi';import Spinner from'../Utils/Spinner';import{setUserSession}from'../../components/Utils/Common';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState(\"ForsecurityDiscUno@personeriabogota.gov.co\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"jNL6mR4BDpT\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function validateForm(){return email.length>0&&password.length>0;}function handleSubmit(event){event.preventDefault();window.showSpinner(true);setError(null);AuthApi.login(email,password).then(function(datos){window.showSpinner(false);if(!datos.error){setUserSession(datos.token,datos.user.attributes,datos.funcionalities);navigate(\"/\");}else{setError(\"Usuario/contraseña invalidos\");setEmail('');setPassword('');}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row no-gutters justify-content-center bg-body-light\",children:/*#__PURE__*/_jsx(\"div\",{className:\"hero-static col-sm-10 col-md-8 col-xl-6 d-flex align-items-center p-2 px-sm-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block block-rounded block-transparent block-fx-pop w-100 mb-0 overflow-hidden bg-image\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 order-md-1 bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full px-lg-5 py-md-5 py-lg-6\",children:process.env.REACT_APP_MANTENIMIENTO?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"link-fx font-w700 font-size-h1\",\"asp-action\":\"Index\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-dark\",children:\"Inicia sesi\\xF3n\"})})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,className:\"js-validation-signin\",children:[/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"email\",className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Usuario\"}),/*#__PURE__*/_jsx(Form.Control,{autoFocus:true,type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"form-control form-control-alt\"})]}),/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"password\",className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"form-control form-control-alt\"})]}),error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"small\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{size:\"lg\",controlId:\"submintButton\",className:\"form-group\",children:/*#__PURE__*/_jsxs(Button,{block:true,size:\"lg\",type:\"submit\",disabled:!validateForm(),className:\"btn btn-block btn-hero-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-sign-in-alt mr-1\"}),\" Iniciar sesi\\xF3n\"]})})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Estamos en mantenimiento\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 order-md-0 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{id:\"login-alt-container\",className:\"m-auto\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/images/logo_pdb_azul.png\",alt:\"Logo\",className:\"img-fluid\"})})})]})})})})]});}","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Login/Login.js"],"names":["React","useState","Form","Button","AuthApi","Spinner","setUserSession","useNavigate","Login","navigate","email","setEmail","password","setPassword","error","setError","validateForm","length","handleSubmit","event","preventDefault","window","showSpinner","login","then","datos","token","user","attributes","funcionalities","process","env","REACT_APP_MANTENIMIENTO","e","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport AuthApi from '../Api/Services/AuthApi';\r\nimport Spinner from '../Utils/Spinner';\r\nimport { setUserSession } from '../../components/Utils/Common';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n    const navigate = useNavigate();\r\n    const [email, setEmail] = useState(\"ForsecurityDiscUno@personeriabogota.gov.co\");\r\n    const [password, setPassword] = useState(\"jNL6mR4BDpT\");\r\n    const [error, setError] = useState(null);\r\n\r\n    function validateForm() {\r\n        return email.length > 0 && password.length > 0;\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        window.showSpinner(true);\r\n        setError(null);\r\n        AuthApi.login(email, password).then(datos => {\r\n            window.showSpinner(false);\r\n            if (!datos.error) {\r\n                setUserSession(datos.token, datos.user.attributes, datos.funcionalities);\r\n                navigate(\"/\");\r\n            }\r\n            else {\r\n                setError(\"Usuario/contraseña invalidos\");\r\n                setEmail('');\r\n                setPassword('');\r\n            }\r\n        });\r\n\r\n       \r\n    }\r\n    \r\n    return (\r\n        <div className=\"Login\">\r\n            <Spinner />\r\n            <div className=\"row no-gutters justify-content-center bg-body-light\">\r\n                <div className=\"hero-static col-sm-10 col-md-8 col-xl-6 d-flex align-items-center p-2 px-sm-0\">\r\n                    <div className=\"block block-rounded block-transparent block-fx-pop w-100 mb-0 overflow-hidden bg-image\">\r\n                        <div className=\"row no-gutters\">\r\n                            <div className=\"col-md-6 order-md-1 bg-white\">\r\n                                <div className=\"block-content block-content-full px-lg-5 py-md-5 py-lg-6\">\r\n                                \r\n                                    {(process.env.REACT_APP_MANTENIMIENTO) ? (\r\n                                    <>\r\n\r\n                                        <div className=\"mb-2 text-center\">\r\n                                            <a className=\"link-fx font-w700 font-size-h1\" asp-action=\"Index\">\r\n                                                <span className=\"text-dark\">Inicia sesión</span>\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        \r\n                                        <Form onSubmit={handleSubmit} className=\"js-validation-signin\">\r\n                                            <Form.Group size=\"lg\" controlId=\"email\" className=\"form-group\">\r\n                                                <Form.Label>Usuario</Form.Label>\r\n                                                <Form.Control\r\n                                                    autoFocus\r\n                                                    type=\"text\"\r\n                                                    value={email}\r\n                                                    onChange={(e) => setEmail(e.target.value)}\r\n                                                    className=\"form-control form-control-alt\"\r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group size=\"lg\" controlId=\"password\" className=\"form-group\">\r\n                                                <Form.Label>Contraseña</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"password\"\r\n                                                    value={password}\r\n                                                    onChange={(e) => setPassword(e.target.value)}\r\n                                                    className=\"form-control form-control-alt\"\r\n                                                />\r\n                                            </Form.Group>\r\n                                            {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n                                            <Form.Group size=\"lg\" controlId=\"submintButton\" className=\"form-group\">\r\n                                            <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()} className=\"btn btn-block btn-hero-primary\">\r\n                                            <i className=\"fa fa-fw fa-sign-in-alt mr-1\"></i> Iniciar sesión\r\n                                            </Button>\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                        </>\r\n                                    ): \r\n                                    <>\r\n                                    <h1>Estamos en mantenimiento</h1>\r\n                                    </>}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-6 order-md-0 d-flex align-items-center\">\r\n                                <div id=\"login-alt-container\" className=\"m-auto\">\r\n                                    <img src=\"/assets/images/logo_pdb_azul.png\" alt=\"Logo\" className=\"img-fluid\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}