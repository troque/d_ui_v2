{"ast":null,"code":"import moment from'moment';import GenericApi from'../../Api/Services/GenericApi';import Spinner from'../../Utils/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ModalCalendar(props){var crearDia=function crearDia(fecha){console.log('crear');window.showSpinner(true);var data={\"data\":{\"type\":\"mas_dias_no_laborales\",\"attributes\":{\"fecha\":moment(props.getFecha,'YYYY/MM/DD').format(\"YYYY-MM-DD\"),\"estado\":1}}};console.log(JSON.stringify(data));GenericApi.addGeneric('dias-no-laborales',data).then(function(datos){return!datos.error?(window.showSpinner(false),props.parentCallback(fecha)):window.showModal(1);});};var modificarEstado=function modificarEstado(fecha,estado,id){console.log('actualizar');window.showSpinner(true);var data={\"data\":{\"type\":\"mas_dias_no_laborales\",\"attributes\":{\"fecha\":fecha,\"estado\":estado}}};console.log(JSON.stringify(data));var myCurrentDate=new Date();var myFutureDate=new Date(fecha);myFutureDate.setDate(myFutureDate.getDate()+1);GenericApi.updateGeneric('dias-no-laborales',id,data).then(function(datos){return!datos.error?(window.showSpinner(false),props.parentCallback(myFutureDate)):window.showModal(1);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-editar-fecha\",tabindex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-normal\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-sm\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{class:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsx(\"h3\",{class:\"block-title\",children:\"Cambio de estado\"}),/*#__PURE__*/_jsx(\"div\",{class:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"block-content\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha seleccionada: \"}),moment(props.getFecha,'YYYY/MM/DD').format(\"DD/MM/YYYY\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"form-group text-center\",children:props.getEstado=='1'?/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-sm btn-danger\",\"data-dismiss\":\"modal\",onClick:function onClick(){return modificarEstado(props.getFecha,0,props.getId);},children:\"Inactivar\"}):/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-sm btn-success\",\"data-dismiss\":\"modal\",onClick:function onClick(){return crearDia(props.getFecha);},children:\"Activar\"})})})})})]})})})})]});}export default ModalCalendar;","map":{"version":3,"names":["moment","GenericApi","Spinner","ModalCalendar","props","crearDia","fecha","console","log","window","showSpinner","data","getFecha","format","JSON","stringify","addGeneric","then","datos","error","parentCallback","showModal","modificarEstado","estado","id","myCurrentDate","Date","myFutureDate","setDate","getDate","updateGeneric","getEstado","getId"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalCalendar.js"],"sourcesContent":["import moment from 'moment';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\nimport Spinner from '../../Utils/Spinner';\r\n\r\nfunction ModalCalendar(props) {\r\n\r\n    const crearDia = (fecha) => {\r\n        console.log('crear')\r\n        window.showSpinner(true);\r\n        const data = {\r\n\r\n            \"data\": {\r\n                \"type\": \"mas_dias_no_laborales\",\r\n                \"attributes\": {\r\n\r\n                    \"fecha\": moment(props.getFecha, 'YYYY/MM/DD').format(\"YYYY-MM-DD\"),\r\n                    \"estado\": 1,\r\n\r\n                }\r\n            }\r\n        }\r\n        console.log(JSON.stringify(data))\r\n        GenericApi.addGeneric('dias-no-laborales', data).then(\r\n            datos => !datos.error ? (window.showSpinner(false), props.parentCallback(fecha)) : (window.showModal(1))\r\n        )\r\n    }\r\n\r\n\r\n\r\n    const modificarEstado = (fecha, estado, id) => {\r\n        console.log('actualizar')\r\n        window.showSpinner(true);\r\n        const data = {\r\n\r\n            \"data\": {\r\n                \"type\": \"mas_dias_no_laborales\",\r\n                \"attributes\": {\r\n\r\n                    \"fecha\": fecha,\r\n                    \"estado\": estado,\r\n\r\n                }\r\n            }\r\n        }\r\n        console.log(JSON.stringify(data))\r\n        let myCurrentDate = new Date();\r\n        let myFutureDate = new Date(fecha);\r\n        myFutureDate.setDate(myFutureDate.getDate() + 1);\r\n\r\n        GenericApi.updateGeneric('dias-no-laborales', id, data).then(\r\n            datos => !datos.error ? (window.showSpinner(false), props.parentCallback(myFutureDate)) : (window.showModal(1))\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {<Spinner />}\r\n            <div className=\"modal fade\" id='modal-editar-fecha' tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-normal\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-sm\" role=\"document\" >\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"block block-themed block-transparent mb-0\">\r\n                            <div class=\"block-header bg-primary-dark\">\r\n                                <h3 class=\"block-title\">Cambio de estado</h3>\r\n                                <div class=\"block-options\">\r\n                                    <button type=\"button\" class=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i class=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <strong >Fecha seleccionada: </strong>{moment(props.getFecha, 'YYYY/MM/DD').format(\"DD/MM/YYYY\")}\r\n\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-md-12\">\r\n                                        <div className=\"form-group text-center\">\r\n                                            {\r\n                                                (props.getEstado == '1') ? (\r\n                                                    <button type=\"button\" class=\"btn btn-sm btn-danger\" data-dismiss=\"modal\" onClick={() => modificarEstado(props.getFecha, 0, props.getId)}>Inactivar</button>\r\n\r\n                                                ) : (\r\n                                                    <button type=\"button\" class=\"btn btn-sm btn-success\" data-dismiss=\"modal\" onClick={() => crearDia(props.getFecha)}>Activar</button>\r\n                                                )\r\n                                            }\r\n\r\n\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalCalendar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}