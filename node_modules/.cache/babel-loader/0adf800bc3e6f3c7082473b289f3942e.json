{"ast":null,"code":"import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Form from\"react-bootstrap/Form\";import{Button}from'react-bootstrap';import AuthApi from'../Api/Services/AuthApi';import Spinner from'../Utils/Spinner';import{setUserSession}from'../../components/Utils/Common';import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),errorEmail=_useState8[0],setErrorEmail=_useState8[1];function validateForm(){return email.length>0&&password.length>0;}function handleSubmit(event){event.preventDefault();window.showSpinner(true);setError(null);if(email==''){setErrorEmail('Campo obligaotio');}AuthApi.login(email,password).then(function(datos){// console.log(datos);\nwindow.showSpinner(false);if(!datos.error){setUserSession(datos.token,datos.user.attributes,datos.funcionalities);navigate(\"/\");}else{setError(datos.error);setEmail('');setPassword('');}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Login\",children:[/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row no-gutters justify-content-center bg-body-light \",children:/*#__PURE__*/_jsx(\"div\",{className:\"hero-static col-sm-8 col-md-6 d-flex align-items-center p-2 px-sm-0 \",children:/*#__PURE__*/_jsx(\"div\",{className:\"block block-rounded block-transparent block-fx-pop w-100 mb-0 overflow-hidden bg-image\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 order-md-1 bg-white\",children:/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full px-lg-5 py-md-5 py-lg-6\",children:process.env.REACT_APP_MANTENIMIENTO?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2 text-center\",children:/*#__PURE__*/_jsx(\"a\",{className:\"link-fx font-w700 font-size-h1\",\"asp-action\":\"Index\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-dark\",children:\"Inicio de sesi\\xF3n\"})})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,className:\"js-validation-signin\",children:[/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"email\",className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"SANDRA SAAVEDRA\"}),/*#__PURE__*/_jsx(Form.Control,{autoFocus:true,type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"form-control form-control-alt\"})]}),/*#__PURE__*/_jsxs(Form.Group,{size:\"lg\",controlId:\"password\",className:\"form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},className:\"form-control form-control-alt\",Required:true})]}),error&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"small\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Group,{size:\"lg\",controlId:\"submintButton\",className:\"form-group text-center\",children:/*#__PURE__*/_jsx(Button,{block:true,size:\"lg\",type:\"submit\",disabled:!validateForm(),className:\"btn btn-rounded btn-primary \",children:\"Iniciar sesi\\xF3n\"})})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Estamos en mantenimiento\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 order-md-0 d-flex align-items-center\",children:/*#__PURE__*/_jsx(\"div\",{id:\"login-alt-container\",className:\"m-auto\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/assets/images/logo_pdb_azul.png\",alt:\"Logo\",className:\"img-fluid\"})})})]})})})})]});}","map":{"version":3,"names":["React","useState","Form","Button","AuthApi","Spinner","setUserSession","useNavigate","Login","navigate","email","setEmail","password","setPassword","error","setError","errorEmail","setErrorEmail","validateForm","length","handleSubmit","event","preventDefault","window","showSpinner","login","then","datos","token","user","attributes","funcionalities","process","env","REACT_APP_MANTENIMIENTO","e","target","value","color"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Login/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport {Button} from 'react-bootstrap';\r\nimport AuthApi from '../Api/Services/AuthApi';\r\nimport Spinner from '../Utils/Spinner';\r\nimport { setUserSession } from '../../components/Utils/Common';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function Login() {\r\n    const navigate = useNavigate();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(null);\r\n    const [errorEmail, setErrorEmail] = useState(null);\r\n\r\n    function validateForm() {\r\n        return email.length > 0 && password.length > 0;\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        window.showSpinner(true);\r\n        setError(null);\r\n        if(email == ''){\r\n            setErrorEmail('Campo obligaotio');\r\n        }\r\n        AuthApi.login(email, password).then(datos => {\r\n            // console.log(datos);\r\n            window.showSpinner(false);\r\n            if (!datos.error) {\r\n                setUserSession(datos.token, datos.user.attributes, datos.funcionalities);\r\n                navigate(\"/\");\r\n            }\r\n            else {\r\n\r\n                setError(datos.error);\r\n                setEmail('');\r\n                setPassword('');\r\n            }\r\n        });\r\n\r\n       \r\n    }\r\n    \r\n    return (\r\n        <div className=\"Login\">\r\n            <Spinner />\r\n            <div className=\"row no-gutters justify-content-center bg-body-light \">\r\n                <div className=\"hero-static col-sm-8 col-md-6 d-flex align-items-center p-2 px-sm-0 \">\r\n                    <div className=\"block block-rounded block-transparent block-fx-pop w-100 mb-0 overflow-hidden bg-image\">\r\n                        <div className=\"row no-gutters\">\r\n                            <div className=\"col-md-8 order-md-1 bg-white\">\r\n                                <div className=\"block-content block-content-full px-lg-5 py-md-5 py-lg-6\">\r\n                                \r\n                                    {(process.env.REACT_APP_MANTENIMIENTO) ? (\r\n                                    <>\r\n\r\n                                        <div className=\"mb-2 text-center\">\r\n                                            <a className=\"link-fx font-w700 font-size-h1\" asp-action=\"Index\">\r\n                                                <span className=\"text-dark\">Inicio de sesión</span>\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        \r\n                                        <Form onSubmit={handleSubmit} className=\"js-validation-signin\">\r\n                                            <Form.Group size=\"lg\" controlId=\"email\" className=\"form-group\">\r\n                                                <Form.Label>SANDRA SAAVEDRA</Form.Label>\r\n                                                <Form.Control\r\n                                                    autoFocus\r\n                                                    type=\"email\"\r\n                                                    value={email}\r\n                                                    onChange={(e) => setEmail(e.target.value)}\r\n                                                    className=\"form-control form-control-alt\"  \r\n                                                />\r\n                                            </Form.Group>\r\n                                            <Form.Group size=\"lg\" controlId=\"password\" className=\"form-group\">\r\n                                                <Form.Label>Contraseña</Form.Label>\r\n                                                <Form.Control\r\n                                                    type=\"password\"\r\n                                                    value={password}\r\n                                                    onChange={(e) => setPassword(e.target.value)}\r\n                                                    className=\"form-control form-control-alt\" Required\r\n                                                />\r\n                                            </Form.Group>\r\n                                            {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n                                            <Form.Group size=\"lg\" controlId=\"submintButton\" className=\"form-group text-center\">\r\n                                            <Button block size=\"lg\" type=\"submit\" disabled={!validateForm()} className=\"btn btn-rounded btn-primary \">\r\n                                              Iniciar sesión\r\n                                            </Button>\r\n                                            </Form.Group>\r\n                                        </Form>\r\n                                        </>\r\n                                    ): \r\n                                    <>\r\n                                    <h1>Estamos en mantenimiento</h1>\r\n                                    </>}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-md-4 order-md-0 d-flex align-items-center\">\r\n                                <div id=\"login-alt-container\" className=\"m-auto\">\r\n                                    <img src=\"/assets/images/logo_pdb_azul.png\" alt=\"Logo\" className=\"img-fluid\" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}