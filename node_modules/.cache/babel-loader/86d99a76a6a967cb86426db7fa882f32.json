{"ast":null,"code":"import _asyncToGenerator from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import GenericApi from'../../Api/Services/GenericApi';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ModalListaVersionesGestorRespuestaAdministracion(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),getFuncionalidadesListModal=_useState2[0],setFuncionalidadesListModal=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),errorApi=_useState4[0],setErrorApi=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:GenericApi.getAllGeneric('mas-orden-funcionario/historico/'+props.object).then(function(data){if(!data.error){setFuncionalidadesListModal(data);}else{setErrorApi(data.error.toString());window.showModal(1);}});case 1:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);var componenteListaHistorica=function componenteListaHistorica(){var lista=[];var listaTemporal=getFuncionalidadesListModal;for(var dato in listaTemporal){listaTemporal[dato].sort(function(a,b){if(a.orden>b.orden){return 1;}if(a.orden<b.orden){return-1;}return 0;});lista.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Fecha registro: \",listaTemporal[dato][0].fecha_registro]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Orden\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Grupo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:listaTemporal[dato].map(function(funcionalidad,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.nombre}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.orden}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.grupo})]});})})]}),/*#__PURE__*/_jsx(\"br\",{})]}));}return lista;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-block-popout-versiones-gestor-respuesta-administracion\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"block-title\",children:[\"Historico de lista de \",props.nombre]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:componenteListaHistorica()}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-primary\",\"data-dismiss\":\"modal\",children:'Cerrar'})})]})})})})});}export default ModalListaVersionesGestorRespuestaAdministracion;","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalListaVersionesGestorRespuestaAdministracion.js"],"names":["React","useEffect","useState","GenericApi","ModalListaVersionesGestorRespuestaAdministracion","props","getFuncionalidadesListModal","setFuncionalidadesListModal","errorApi","setErrorApi","fetchData","getAllGeneric","object","then","data","error","toString","window","showModal","componenteListaHistorica","lista","listaTemporal","dato","sort","a","b","orden","push","fecha_registro","map","funcionalidad","i","nombre","grupo"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\n\r\nfunction ModalListaVersionesGestorRespuestaAdministracion(props) {\r\n\r\n    const [getFuncionalidadesListModal, setFuncionalidadesListModal] = useState([]);\r\n    const [errorApi, setErrorApi] = useState('');\r\n    \r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            GenericApi.getAllGeneric('mas-orden-funcionario/historico/'+props.object).then(\r\n                data => {\r\n                    if (!data.error) {\r\n                        setFuncionalidadesListModal(data);\r\n                    }\r\n                    else {\r\n                        setErrorApi(data.error.toString())\r\n                        window.showModal(1)\r\n                    }\r\n                }\r\n            )\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    \r\n    const componenteListaHistorica = () => {\r\n        \r\n        const lista = [];\r\n        const listaTemporal = getFuncionalidadesListModal;\r\n        for(let dato in listaTemporal) {\r\n\r\n            listaTemporal[dato].sort(function (a, b) {\r\n                if (a.orden > b.orden) {\r\n                  return 1;\r\n                }\r\n                if (a.orden < b.orden) {\r\n                  return -1;\r\n                }\r\n                return 0;\r\n              });\r\n\r\n            lista.push(\r\n                <>\r\n                    <h4>Fecha registro: { listaTemporal[dato][0].fecha_registro }</h4>\r\n                    <table className='table table-bordered table-striped table-vcenter js-dataTable-full'>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>\r\n                                    Nombre\r\n                                </th>\r\n                                <th>\r\n                                    Orden\r\n                                </th>\r\n                                <th>\r\n                                    Grupo\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                listaTemporal[dato].map((funcionalidad, i) => {\r\n                                    return <tr>\r\n                                        <td>\r\n                                            { funcionalidad.nombre }\r\n                                        </td>\r\n                                        <td>\r\n                                            { funcionalidad.orden }\r\n                                        </td>\r\n                                        <td>\r\n                                            { funcionalidad.grupo }\r\n                                        </td>\r\n                                    </tr>\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    <br></br>\r\n                </>\r\n            )\r\n        }\r\n\r\n        return lista;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal fade\" id=\"modal-block-popout-versiones-gestor-respuesta-administracion\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-xl modal-dialog-popout\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"block block-themed block-transparent mb-0\">\r\n                            <div className=\"block-header bg-primary-dark\">\r\n                                <h3 className=\"block-title\">Historico de lista de { props.nombre }</h3>\r\n                                <div className=\"block-options\">\r\n                                    <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i className=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                { componenteListaHistorica() }\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                <button type=\"button\" className=\"btn btn-sm btn-primary\" data-dismiss=\"modal\">{ 'Cerrar' }</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalListaVersionesGestorRespuestaAdministracion;\r\n"]},"metadata":{},"sourceType":"module"}