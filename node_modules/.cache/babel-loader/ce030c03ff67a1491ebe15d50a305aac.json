{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AutofieldContainer = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactHookForm = require(\"react-hook-form\");\n\nvar _Autofield = require(\"./Autofield\");\n\nvar _utils = require(\"../utils\");\n\nvar _autoform_state = require(\"../autoform_state\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nconst AutofieldContainer = props => {\n  const {\n    id,\n    name,\n    fieldSchema,\n    defaultValue,\n    schemaTypeName,\n    skinElement,\n    formHook: {\n      control\n    },\n    formHook,\n    register,\n    rules,\n    overrides,\n    skin,\n    stateControl,\n    setVisible,\n    setHelperText,\n    setValue,\n    arrayControl\n  } = props;\n  const {\n    visible,\n    helperText\n  } = (0, _autoform_state.useAutofieldState)({\n    name,\n    stateControl\n  });\n  let baseProps = Object.assign({}, props, {\n    helperText\n  });\n  const {\n    controlled\n  } = skinElement;\n\n  if (controlled) {\n    const {\n      field\n    } = (0, _reactHookForm.useController)({\n      name,\n      control: control,\n      rules\n    });\n    baseProps.onChange = field.onChange;\n    baseProps.onBlur = field.onBlur;\n    baseProps.value = field.value;\n  } else {\n    if (!skinElement.skipRegister) {\n      const registerProps = register(name, rules);\n      baseProps.onBlur = registerProps.onBlur;\n      baseProps.onChange = registerProps.onChange;\n      baseProps.inputRef = registerProps.ref;\n    }\n  } // Allow field schema or overrides onChange\n\n\n  if ('onChange' in fieldSchema || 'onChange' in overrides) {\n    const baseOnChange = baseProps.onChange;\n    const overrideOnChange = overrides.onChange;\n    if (overrideOnChange) delete overrides.onChange;\n    const onChangeArguments = {\n      name,\n      setVisible,\n      setHelperText,\n      formHook,\n      setValue,\n      arrayControl\n    };\n\n    const fireOnChange = value => {\n      if (fieldSchema.onChange) fieldSchema.onChange(value, onChangeArguments);\n      if (overrideOnChange) overrideOnChange(value, onChangeArguments);\n    };\n\n    baseProps.onChange = event => {\n      const value = (0, _utils.valueFromEvent)(event);\n      baseOnChange(event);\n      fireOnChange(value);\n    };\n\n    baseProps.setValue = (name, value) => {\n      setValue(name, value);\n      fireOnChange(value);\n    };\n  } // Allow general onChange, passed to <Autoform />\n\n\n  if (props.onChange) {\n    const oldOnChange = baseProps.onChange;\n\n    baseProps.onChange = event => {\n      oldOnChange(event);\n      props.onChange();\n    };\n  }\n\n  const propsTransform = (0, _utils.getPropsTransform)(skinElement);\n  let transformedProps;\n  if (typeof propsTransform == 'function') transformedProps = propsTransform ? propsTransform(baseProps) : baseProps;else transformedProps = _objectSpread(_objectSpread({}, baseProps), propsTransform);\n  transformedProps = _objectSpread(_objectSpread({}, transformedProps), overrides);\n  const component = transformedProps.component || skinElement.component;\n\n  if (visible && component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Autofield.Autofield, _objectSpread(_objectSpread({}, transformedProps), {}, {\n      component: component\n    }));\n  } else {\n    return null;\n  }\n};\n\nexports.AutofieldContainer = AutofieldContainer;","map":{"version":3,"names":["Object","defineProperty","exports","value","AutofieldContainer","_react","_interopRequireDefault","require","_reactHookForm","_Autofield","_utils","_autoform_state","_jsxRuntime","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","props","id","name","fieldSchema","defaultValue","schemaTypeName","skinElement","formHook","control","register","rules","overrides","skin","stateControl","setVisible","setHelperText","setValue","arrayControl","visible","helperText","useAutofieldState","baseProps","assign","controlled","field","useController","onChange","onBlur","skipRegister","registerProps","inputRef","ref","baseOnChange","overrideOnChange","onChangeArguments","fireOnChange","event","valueFromEvent","oldOnChange","propsTransform","getPropsTransform","transformedProps","component","jsx","Autofield"],"sources":["C:/w2d/personeria/personeria-ui/node_modules/react-hook-form-auto/lib/ui/AutofieldContainer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AutofieldContainer = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactHookForm = require(\"react-hook-form\");\n\nvar _Autofield = require(\"./Autofield\");\n\nvar _utils = require(\"../utils\");\n\nvar _autoform_state = require(\"../autoform_state\");\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst AutofieldContainer = props => {\n  const {\n    id,\n    name,\n    fieldSchema,\n    defaultValue,\n    schemaTypeName,\n    skinElement,\n    formHook: {\n      control\n    },\n    formHook,\n    register,\n    rules,\n    overrides,\n    skin,\n    stateControl,\n    setVisible,\n    setHelperText,\n    setValue,\n    arrayControl\n  } = props;\n  const {\n    visible,\n    helperText\n  } = (0, _autoform_state.useAutofieldState)({\n    name,\n    stateControl\n  });\n  let baseProps = Object.assign({}, props, {\n    helperText\n  });\n  const {\n    controlled\n  } = skinElement;\n\n  if (controlled) {\n    const {\n      field\n    } = (0, _reactHookForm.useController)({\n      name,\n      control: control,\n      rules\n    });\n    baseProps.onChange = field.onChange;\n    baseProps.onBlur = field.onBlur;\n    baseProps.value = field.value;\n  } else {\n    if (!skinElement.skipRegister) {\n      const registerProps = register(name, rules);\n      baseProps.onBlur = registerProps.onBlur;\n      baseProps.onChange = registerProps.onChange;\n      baseProps.inputRef = registerProps.ref;\n    }\n  } // Allow field schema or overrides onChange\n\n\n  if ('onChange' in fieldSchema || 'onChange' in overrides) {\n    const baseOnChange = baseProps.onChange;\n    const overrideOnChange = overrides.onChange;\n    if (overrideOnChange) delete overrides.onChange;\n    const onChangeArguments = {\n      name,\n      setVisible,\n      setHelperText,\n      formHook,\n      setValue,\n      arrayControl\n    };\n\n    const fireOnChange = value => {\n      if (fieldSchema.onChange) fieldSchema.onChange(value, onChangeArguments);\n      if (overrideOnChange) overrideOnChange(value, onChangeArguments);\n    };\n\n    baseProps.onChange = event => {\n      const value = (0, _utils.valueFromEvent)(event);\n      baseOnChange(event);\n      fireOnChange(value);\n    };\n\n    baseProps.setValue = (name, value) => {\n      setValue(name, value);\n      fireOnChange(value);\n    };\n  } // Allow general onChange, passed to <Autoform />\n\n\n  if (props.onChange) {\n    const oldOnChange = baseProps.onChange;\n\n    baseProps.onChange = event => {\n      oldOnChange(event);\n      props.onChange();\n    };\n  }\n\n  const propsTransform = (0, _utils.getPropsTransform)(skinElement);\n  let transformedProps;\n  if (typeof propsTransform == 'function') transformedProps = propsTransform ? propsTransform(baseProps) : baseProps;else transformedProps = _objectSpread(_objectSpread({}, baseProps), propsTransform);\n  transformedProps = _objectSpread(_objectSpread({}, transformedProps), overrides);\n  const component = transformedProps.component || skinElement.component;\n\n  if (visible && component) {\n    return /*#__PURE__*/(0, _jsxRuntime.jsx)(_Autofield.Autofield, _objectSpread(_objectSpread({}, transformedProps), {}, {\n      component: component\n    }));\n  } else {\n    return null;\n  }\n};\n\nexports.AutofieldContainer = AutofieldContainer;"],"mappings":"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"},"metadata":{},"sourceType":"script"}