{"ast":null,"code":"import _slicedToArray from\"C:/w2d/personeria/personeria-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import GenericApi from'../../Api/Services/GenericApi';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ModalListaVersionesGestorRespuestaAdministracion(props){var componenteListaHistorica=function componenteListaHistorica(){// console.log(\"Daticos, lista entrante\", props.lista);\nvar lista=[];var listaOrdenada=[];if(props.lista){Object.entries(props.lista).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];listaOrdenada.push(value);});listaOrdenada.reverse().forEach(function(dato){dato.sort(function(a,b){if(a.orden>b.orden){return 1;}if(a.orden<b.orden){return-1;}return 0;});lista.push(/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Fecha registro: \",dato[0].fecha_registro]},lista.length+\"h4\"),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped table-vcenter js-dataTable-full\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Orden\"}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:\"Rol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Funcionalidad\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Grupo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Creado por\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\xDAnico Usuario\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dato.map(function(funcionalidad,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.orden}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.nombre?funcionalidad.nombre:global.Constants.USUARIO_GESTOR_RESPUESTA}),/*#__PURE__*/_jsx(\"td\",{children:!funcionalidad.nombre?'Aprueba o Rechaza el proceso y Recibe proceso aprobado':i==dato.length-1?'Recibe proceso aprobado':i==0?'Sube el documento en caso de ser rechazado':'Aprueba o Rechaza el proceso'}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.grupo}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.creado_por}),/*#__PURE__*/_jsx(\"td\",{children:funcionalidad.id=='0'?'Si':i==dato.length-1?'No':funcionalidad.unico_rol='0'?'No':'Si'})]},i);})})]},lista.length+\"table\"),/*#__PURE__*/_jsx(\"br\",{})]}));});return lista;}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"modal-block-popout-versiones-gestor-respuesta-administracion\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"modal-block-popout\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog modal-xl modal-dialog-popout\",role:\"document\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"block block-themed block-transparent mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"block-header bg-primary-dark\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"block-title\",children:[\"Historico de lista de \",props.nombre]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-options\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-block-option\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-times\"})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content\",children:componenteListaHistorica()}),/*#__PURE__*/_jsx(\"div\",{className:\"block-content block-content-full text-right bg-light\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-rounded btn-primary\",\"data-dismiss\":\"modal\",children:'Cerrar'})})]})})})})});}export default ModalListaVersionesGestorRespuestaAdministracion;","map":{"version":3,"names":["React","useEffect","useState","GenericApi","ModalListaVersionesGestorRespuestaAdministracion","props","componenteListaHistorica","lista","listaOrdenada","Object","entries","forEach","key","value","push","reverse","dato","sort","a","b","orden","fecha_registro","length","map","funcionalidad","i","nombre","global","Constants","USUARIO_GESTOR_RESPUESTA","grupo","creado_por","id","unico_rol"],"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalListaVersionesGestorRespuestaAdministracion.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\n\r\nfunction ModalListaVersionesGestorRespuestaAdministracion(props) {\r\n\r\n    const componenteListaHistorica = () => {\r\n\r\n        // console.log(\"Daticos, lista entrante\", props.lista);\r\n\r\n        const lista = [];\r\n        const listaOrdenada = [];\r\n\r\n        if (props.lista) {\r\n\r\n            Object.entries(props.lista).forEach(([key, value]) => {\r\n                listaOrdenada.push(value)\r\n            });\r\n\r\n            listaOrdenada.reverse().forEach(dato => {\r\n\r\n                dato.sort(function (a, b) {\r\n                    if (a.orden > b.orden) {\r\n                        return 1;\r\n                    }\r\n                    if (a.orden < b.orden) {\r\n                        return -1;\r\n                    }\r\n                    return 0;\r\n                });\r\n\r\n                lista.push(\r\n                    <>\r\n                        <h4 key={lista.length + \"h4\"}>Fecha registro: {dato[0].fecha_registro}</h4>\r\n                        <table className='table table-bordered table-striped table-vcenter js-dataTable-full' key={lista.length + \"table\"}>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>\r\n                                        Orden\r\n                                    </th>\r\n                                    <th width='15%'>\r\n                                        Rol\r\n                                    </th>\r\n                                    <th>\r\n                                        Funcionalidad\r\n                                    </th>\r\n                                    <th>\r\n                                        Grupo\r\n                                    </th>\r\n                                    <th>\r\n                                        Creado por\r\n                                    </th>\r\n                                    <th>\r\n                                        Ãšnico Usuario\r\n                                    </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    dato.map((funcionalidad, i) => {\r\n                                        return <tr key={i}>\r\n                                            <td>\r\n                                                {funcionalidad.orden}\r\n                                            </td>\r\n                                            <td>\r\n                                                {funcionalidad.nombre ? funcionalidad.nombre : global.Constants.USUARIO_GESTOR_RESPUESTA}\r\n                                            </td>\r\n                                            <td>\r\n                                                {\r\n                                                    !funcionalidad.nombre\r\n                                                        ?\r\n                                                        'Aprueba o Rechaza el proceso y Recibe proceso aprobado'\r\n                                                        :\r\n                                                        (\r\n                                                            i == dato.length - 1\r\n                                                                ?\r\n                                                                'Recibe proceso aprobado'\r\n                                                                :\r\n                                                                (\r\n                                                                    i == 0\r\n                                                                        ?\r\n                                                                        'Sube el documento en caso de ser rechazado'\r\n                                                                        :\r\n                                                                        'Aprueba o Rechaza el proceso'\r\n                                                                )\r\n                                                        )\r\n                                                }\r\n                                            </td>\r\n                                            <td>\r\n                                                {funcionalidad.grupo}\r\n                                            </td>\r\n                                            <td>\r\n                                                {funcionalidad.creado_por}\r\n                                            </td>\r\n                                            <td>\r\n                                                {funcionalidad.id == '0' ? 'Si' : (i == dato.length - 1 ? 'No' : (funcionalidad.unico_rol = '0' ? 'No' : 'Si'))}\r\n                                            </td>\r\n                                        </tr>\r\n                                    })\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                        <br></br>\r\n                    </>\r\n                )\r\n\r\n            });\r\n            return lista;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal fade\" id=\"modal-block-popout-versiones-gestor-respuesta-administracion\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog modal-xl modal-dialog-popout\" role=\"document\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"block block-themed block-transparent mb-0\">\r\n                            <div className=\"block-header bg-primary-dark\">\r\n                                <h3 className=\"block-title\">Historico de lista de {props.nombre}</h3>\r\n                                <div className=\"block-options\">\r\n                                    <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                        <i className=\"fa fa-fw fa-times\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"block-content\">\r\n                                {componenteListaHistorica()}\r\n                            </div>\r\n                            <div className=\"block-content block-content-full text-right bg-light\">\r\n                                <button type=\"button\" className=\"btn btn-rounded btn-primary\" data-dismiss=\"modal\">{'Cerrar'}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalListaVersionesGestorRespuestaAdministracion;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}