{"ast":null,"code":"var _jsxFileName = \"C:\\\\w2d\\\\personeria\\\\personeria-ui\\\\src\\\\components\\\\Utils\\\\Modals\\\\ModalCoincidenciasUsuarios.js\",\n    _s = $RefreshSig$();\n\nimport { ErrorMessage, Field, Form, Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport GenericApi from '../../Api/Services/GenericApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction ModalCoincidenciasUsuarios(props) {\n  _s();\n\n  const [getCoincidenciasListaSearch, setCoincidenciasListaSearch] = useState([]);\n  const [getCoincidenciasListaTotal, setCoincidenciasListaTotal] = useState([]);\n  const [getNombre, setNombre] = useState('');\n  useEffect(() => {});\n\n  const inicilizarDatos = () => {\n    setNombre(\"\");\n  };\n\n  const buscarUsuario = () => {\n    window.showSpinner(true);\n\n    try {\n      if (getNombre != \"\") {\n        GenericApi.getByIdGeneric('Auth/users', getNombre).then(datos => {\n          if (!datos.error) {\n            if (datos.length > 0) {\n              console.log(datos);\n              setCoincidenciasListaSearch(datos);\n              setCoincidenciasListaTotal(datos);\n              window.showSpinner(false);\n            } else {\n              window.showSpinner(false);\n            }\n          } else {\n            window.showSpinner(false);\n          }\n        });\n      } else {\n        inicilizarDatos();\n      }\n    } catch (ex) {\n      console.error(\"Ocurrio este error \" + ex);\n      inicilizarDatos();\n    }\n  };\n\n  const handleSearch = event => {\n    try {\n      if (event.target.value.trim().trim() == \"\" || event.target.value.trim().length == 0) {\n        setCoincidenciasListaSearch(getCoincidenciasListaTotal);\n      } else {\n        setCoincidenciasListaSearch(getCoincidenciasListaTotal.filter(suggestion => (suggestion.apellido + suggestion.displayName + suggestion.email + suggestion.name + suggestion.nombre).toLowerCase().includes(event.target.value.toLowerCase())));\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleInputChange = event => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    if (name == \"nombre\") {\n      setNombre(value);\n    }\n  };\n\n  const listarCoincidencias = () => {\n    if (getCoincidenciasListaSearch != null && typeof getCoincidenciasListaSearch != 'undefined') {\n      return getCoincidenciasListaSearch.map((coincidencia, i) => {\n        return cuerpoTabla(coincidencia);\n      });\n    } else {\n      return getCoincidenciasListaSearch.map((coincidencia, i) => {\n        return cuerpoTabla(coincidencia);\n      });\n    }\n  };\n\n  const seleccionarUsuario = e => {\n    props.parentCallback(e);\n  };\n\n  const cuerpoTabla = coincidencia => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: coincidencia.nombre\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: coincidencia.apellido\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: coincidencia.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: coincidencia.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          \"data-dismiss\": \"modal\",\n          className: \"btn btn-sm btn-primary\",\n          onClick: () => seleccionarUsuario(coincidencia),\n          children: \"Asignar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, coincidencia.name, true, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        informacion: ''\n      },\n      enableReinitialize: true,\n      validate: valores => {\n        let errores = {};\n        return errores;\n      },\n      onSubmit: (valores, _ref) => {//enviarDatos(valores);\n\n        let {\n          resetForm\n        } = _ref;\n      },\n      children: _ref2 => {\n        let {\n          errors\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(Form, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal fade\",\n            id: \"modal-block-popout-coincidencias-usuario\",\n            tabIndex: \"-1\",\n            role: \"dialog\",\n            \"aria-labelledby\": \"modal-block-popout\",\n            \"aria-hidden\": \"true\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-dialog modal-lg\",\n              role: \"document\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-content\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"block block-themed block-transparent mb-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block-header bg-primary-dark\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"block-title\",\n                      children: \"Seleccionar usuario\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"block-options\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"btn-block-option\",\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-fw fa-times\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 168,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 167,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"block-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"nombre\",\n                      children: \"Escriba un nombre para buscar en el directorio activo \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(Field, {\n                            value: getNombre,\n                            type: \"text\",\n                            id: \"nombre\",\n                            name: \"nombre\",\n                            className: \"form-control\",\n                            placeholder: \"Nombre\",\n                            onChange: handleInputChange\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 181,\n                            columnNumber: 57\n                          }, this), /*#__PURE__*/_jsxDEV(ErrorMessage, {\n                            name: \"nombre\",\n                            component: () => /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"text-danger\",\n                              children: errors.nombre\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 183,\n                              columnNumber: 103\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 183,\n                            columnNumber: 57\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 180,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: /*#__PURE__*/_jsxDEV(\"button\", {\n                            type: \"button\",\n                            className: \"btn btn-primary\",\n                            onClick: () => buscarUsuario(),\n                            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"fa fa-fw fa-search\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 189,\n                              columnNumber: 61\n                            }, this), \" Buscar\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 188,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 187,\n                          columnNumber: 53\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 45\n                    }, this), getCoincidenciasListaSearch.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"Se han encontrado las siguiente coincidencias, seleccione el usuario con el cual desea crear el registro.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"col-md-12\",\n                          style: {\n                            'height': '300px',\n                            'overflow': 'scroll',\n                            'display': 'block'\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"table\", {\n                            className: \"table table-bordered table-striped table-vcenter js-dataTable-full\",\n                            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Nombre\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 205,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Apellido\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 206,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Email\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 207,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Usuario\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 208,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                                  children: \"Acciones\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 209,\n                                  columnNumber: 77\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 204,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 203,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                              children: listarCoincidencias()\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 212,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 202,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 53\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(ModalCoincidenciasUsuarios, \"W+w99ozMrVG6oC0zUSLuyzZf5pg=\");\n\n_c = ModalCoincidenciasUsuarios;\nexport default ModalCoincidenciasUsuarios;\n\nvar _c;\n\n$RefreshReg$(_c, \"ModalCoincidenciasUsuarios\");","map":{"version":3,"sources":["C:/w2d/personeria/personeria-ui/src/components/Utils/Modals/ModalCoincidenciasUsuarios.js"],"names":["ErrorMessage","Field","Form","Formik","React","useEffect","useState","GenericApi","ModalCoincidenciasUsuarios","props","getCoincidenciasListaSearch","setCoincidenciasListaSearch","getCoincidenciasListaTotal","setCoincidenciasListaTotal","getNombre","setNombre","inicilizarDatos","buscarUsuario","window","showSpinner","getByIdGeneric","then","datos","error","length","console","log","ex","handleSearch","event","target","value","trim","filter","suggestion","apellido","displayName","email","name","nombre","toLowerCase","includes","handleInputChange","type","checked","listarCoincidencias","map","coincidencia","i","cuerpoTabla","seleccionarUsuario","e","parentCallback","informacion","valores","errores","resetForm","errors"],"mappings":"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","sourcesContent":["import { ErrorMessage, Field, Form, Formik } from 'formik';\r\nimport React, { useEffect, useState } from 'react';\r\nimport GenericApi from '../../Api/Services/GenericApi';\r\n\r\nfunction ModalCoincidenciasUsuarios(props) {\r\n\r\n    const [getCoincidenciasListaSearch, setCoincidenciasListaSearch] = useState([]);\r\n    const [getCoincidenciasListaTotal, setCoincidenciasListaTotal] = useState([]);\r\n    const [getNombre, setNombre] = useState('');\r\n\r\n    useEffect(() => {\r\n    })\r\n\r\n    const inicilizarDatos = () => {\r\n        setNombre(\"\");\r\n    }\r\n\r\n    const buscarUsuario = () => {\r\n\r\n        window.showSpinner(true)\r\n        try {\r\n\r\n            if (getNombre != \"\") {\r\n                GenericApi.getByIdGeneric('Auth/users', getNombre).then(\r\n                    datos => {\r\n                        if (!datos.error) {\r\n                            if (datos.length > 0) {\r\n                                console.log(datos);\r\n                                setCoincidenciasListaSearch(datos);\r\n                                setCoincidenciasListaTotal(datos);\r\n                                window.showSpinner(false);\r\n                            }\r\n                            else {\r\n                                window.showSpinner(false);\r\n                            }\r\n                        }\r\n                        else {\r\n                            window.showSpinner(false);\r\n                        }\r\n                    }\r\n\r\n                )\r\n\r\n\r\n            }\r\n            else {\r\n                inicilizarDatos();\r\n            }\r\n\r\n        } catch (ex) {\r\n            console.error(\"Ocurrio este error \" + ex);\r\n            inicilizarDatos();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleSearch = (event) => {\r\n\r\n        try {\r\n            if ((event.target.value.trim().trim() == \"\") || (event.target.value.trim().length == 0)) {\r\n\r\n                setCoincidenciasListaSearch(getCoincidenciasListaTotal);\r\n            }\r\n            else {\r\n\r\n                setCoincidenciasListaSearch(getCoincidenciasListaTotal.filter(\r\n                    suggestion => ((suggestion.apellido\r\n                        + suggestion.displayName + suggestion.email +\r\n                        suggestion.name + suggestion.nombre\r\n                    ).toLowerCase().includes(event.target.value.toLowerCase()))\r\n                ));\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n\r\n    };\r\n\r\n    const handleInputChange = (event) => {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        if (name == \"nombre\") {\r\n            setNombre(value);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const listarCoincidencias = () => {\r\n\r\n\r\n        if (getCoincidenciasListaSearch != null && typeof (getCoincidenciasListaSearch) != 'undefined') {\r\n            return (\r\n\r\n                getCoincidenciasListaSearch.map((coincidencia, i) => {\r\n                    return (\r\n                        cuerpoTabla(coincidencia)\r\n                    )\r\n                })\r\n            )\r\n        }\r\n        else {\r\n            return (\r\n\r\n                getCoincidenciasListaSearch.map((coincidencia, i) => {\r\n                    return (\r\n                        cuerpoTabla(coincidencia)\r\n                    )\r\n                })\r\n            )\r\n        }\r\n\r\n    }\r\n\r\n    const seleccionarUsuario = (e) => {\r\n        props.parentCallback(e);\r\n    }\r\n\r\n    const cuerpoTabla = (coincidencia) => {\r\n        return (\r\n\r\n            <tr key={coincidencia.name}>\r\n                <td>{coincidencia.nombre}</td>\r\n                <td>{coincidencia.apellido}</td>\r\n                <td>{coincidencia.email}</td>\r\n                <td>{coincidencia.name}</td>\r\n\r\n                <td> <button type='button' data-dismiss=\"modal\" className='btn btn-sm btn-primary' onClick={() => seleccionarUsuario(coincidencia)}>Asignar</button></td>\r\n            </tr>\r\n        )\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Formik\r\n                initialValues={{\r\n                    informacion: '',\r\n                }}\r\n                enableReinitialize\r\n                validate={(valores) => {\r\n\r\n                    let errores = {}\r\n\r\n                    return errores\r\n                }}\r\n                onSubmit={(valores, { resetForm }) => {\r\n\r\n                    //enviarDatos(valores);\r\n                }}\r\n            >\r\n\r\n                {({ errors }) => (\r\n                    <Form>\r\n\r\n                        <div className=\"modal fade\" id=\"modal-block-popout-coincidencias-usuario\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"modal-block-popout\" aria-hidden=\"true\">\r\n                            <div className=\"modal-dialog modal-lg\" role=\"document\" >\r\n                                <div className=\"modal-content\" >\r\n                                    <div className=\"block block-themed block-transparent mb-0\">\r\n                                        <div className=\"block-header bg-primary-dark\">\r\n                                            <h3 className=\"block-title\">Seleccionar usuario</h3>\r\n\r\n                                            <div className=\"block-options\">\r\n                                                <button type=\"button\" className=\"btn-block-option\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                                                    <i className=\"fa fa-fw fa-times\"></i>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n\r\n\r\n\r\n                                        <div className=\"block-content\">\r\n                                        <label htmlFor='nombre'>Escriba un nombre para buscar en el directorio activo </label>\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-md-8\">\r\n                                                    \r\n                                                    <div className=\"form-group\">\r\n                                                        <Field value={getNombre} type=\"text\" id=\"nombre\" name=\"nombre\" className=\"form-control\" placeholder=\"Nombre\"\r\n                                                            onChange={handleInputChange} />\r\n                                                        <ErrorMessage name=\"nombre\" component={() => (<span className=\"text-danger\">{errors.nombre}</span>)} />\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"col-md-4\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <button type=\"button\" className=\"btn btn-primary\" onClick={() => buscarUsuario()}>\r\n                                                            <i className=\"fa fa-fw fa-search\"></i> Buscar\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            {\r\n                                                (getCoincidenciasListaSearch.length > 0) ? (\r\n                                                    <div>\r\n\r\n                                                        <span>Se han encontrado las siguiente coincidencias, seleccione el usuario con el cual desea crear el registro.</span>\r\n\r\n                                                        <div className=\"row\" >\r\n                                                            <div className=\"col-md-12\" style={{ 'height': '300px', 'overflow': 'scroll', 'display': 'block' }}>\r\n                                                                <table className=\"table table-bordered table-striped table-vcenter js-dataTable-full\">\r\n                                                                    <thead>\r\n                                                                        <tr>\r\n                                                                            <th>Nombre</th>\r\n                                                                            <th>Apellido</th>\r\n                                                                            <th>Email</th>\r\n                                                                            <th>Usuario</th>\r\n                                                                            <th>Acciones</th>\r\n                                                                        </tr>\r\n                                                                    </thead>\r\n                                                                    <tbody >\r\n                                                                        {listarCoincidencias()}\r\n                                                                    </tbody>\r\n                                                                </table>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n\r\n                                                    </div>\r\n                                                ) : null\r\n                                            }\r\n\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalCoincidenciasUsuarios;\r\n"]},"metadata":{},"sourceType":"module"}